(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{1049:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};a.default=n},1369:function(e,a,t){"use strict";t.r(a);var n=t(21),r=t(8),l=t(23),i=t(92),o=t(0),s=t.n(o),c=t(963),u=t(1017),m=t(945),d=t(98),p=t(1044),g=t(1027),f=t(1040),E=t(1039),h=t(1013),v=t(1020),b=t(1035),y=t(966),P=t(974),x=t(958),O=t(345),N=t(40),w=t(141),S=t(6),j=t(140),L=t(54),R=t(107),C=t(36),A=t(10),I="[PROFILE APP] REQUEST FOURNISSEUR",F="[PROFILE APP] GET FOURNISSEUR",T="[PROFILE APP] GET PAYS",q="[PROFILE APP] GET VILLES",U="[PROFILE APP] REQUEST PAYS",k="[PROFILE APP] REQUEST VILLES",z="[PROFILE APP] SAVE ERROR",_="[PROFILE APP] UPDATE FOURNISSEUR",W="[PROFILE APP] REQUEST UPDATE_FOURNISSEUR",D="[PROFILE APP] GET_SOUS_SECTEUR",M="[PROFILE APP] UPLOAD AVATAR",V="[PROFILE APP] UPLOAD REQUEST",B="[PROFILE APP] UPLOAD ERROR";function G(e){var a=L.a.get("/api/fournisseurs/".concat(e));return function(e){return e({type:I}),a.then(function(a){e({type:F,payload:a.data})})}}function H(e){var a=L.a.get("".concat(e,"/villes?pagination=false&props[]=id&props[]=name"));return function(e){return e({type:k}),a.then(function(a){e({type:q,payload:a.data["hydra:member"]})})}}function Q(e,a){return function(t,n){var r=L.a.put("/api/fournisseurs/".concat(a),e);return t({type:W}),r.then(function(e){return Promise.all([t({type:_,payload:e.data}),t(Object(C.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).catch(function(e){t({type:z,payload:R.a.parseApiErrors(e)})})}}var $,Y,J=t(67),X=t.n(J),Z="[SEARCH CATEGORIES FRS APP] SC_SET_SEARCH_TEXT",K="[SEARCH CATEGORIES FRS APP] REQUEST_DATA",ee="[SEARCH CATEGORIES FRS APP] GET_DATA",ae="[SEARCH CATEGORIES FRS APP] SC_OPEN",te="[SEARCH CATEGORIES FRS APP] SC_CLOSE",ne="[SEARCH CATEGORIES FRS APP] SC_SUSSP",re="[SEARCH CATEGORIES FRS APP] CLEAN_UP",le=X.a.CancelToken;function ie(){return function(e){return e({type:re})}}function oe(e){return Y&&clearTimeout(Y),function(a){a({type:K}),Y=setTimeout(function(){a(function(e){$&&$();var a=L.a.get("/api/categories?name=".concat(e,"&del=false&props[]=id&props[]=name"),{cancelToken:new le(function(e){$=e})});return function(e){return a.then(function(a){e({type:ee,payload:a.data})}).catch(function(e){X.a.isCancel(e)&&console.log("get canceled")})}}(e))},300+1e3*Math.random())}}var se=t(46),ce={pays:null,sousSecteurs:null,loading:!1,requestFournisseur:!1,loadingVille:!1,villes:null,error:null,data:null,profileReqInProgress:!1,avatar:null,profile_deleted:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case W:case U:return Object(r.a)({},e,{loading:!0});case I:return Object(r.a)({},e,{requestFournisseur:!0});case k:return Object(r.a)({},e,{villes:null,loadingVille:!0});case F:return Object(r.a)({},e,{data:a.payload,requestFournisseur:!1,error:null});case D:return Object(r.a)({},e,{sousSecteurs:a.payload});case T:return Object(r.a)({},e,{pays:A.a.keyBy(a.payload,"id"),loading:!1});case q:return Object(r.a)({},e,{villes:A.a.keyBy(a.payload,"id"),loadingVille:!1});case _:return Object(r.a)({},e,{loading:!1,error:null});case z:return Object(r.a)({},e,{loading:!1,error:a.payload,success:!1,redirect_success:""});case V:return Object(r.a)({},e,{profileReqInProgress:!0});case M:return Object(r.a)({},e,{avatar:a.payload,profileReqInProgress:!1});case B:return Object(r.a)({},e,{profileReqInProgress:!1});default:return e}},me={searchText:"",suggestions:[],loading:!1,opened:!1,noSuggestions:!1},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case re:return Object(r.a)({},e,{suggestions:[],noSuggestions:!1});case K:return Object(r.a)({},e,{loading:!0,suggestions:[],noSuggestions:!1});case ee:var t=a.payload["hydra:member"],n=0===t.length;return Object(r.a)({},e,{suggestions:t,noSuggestions:n,loading:!1});case Z:return Object(r.a)({},e,{searchText:a.searchText});case ae:return Object(r.a)({},e,{opened:!0});case te:return Object(r.a)({},e,{opened:!1,searchText:""});case ne:return Object(r.a)({},e,{opened:!1});default:return e}},pe=Object(se.d)({profile:ue,searchCategories:de}),ge=t(55),fe=t.n(ge),Ee=t(1041),he=t(1049),ve=t.n(he),be=t(1032),ye=t(2),Pe=t(346),xe=t(143),Oe=t.n(xe),Ne=t(967),we=t(139),Se=t(353),je=t.n(Se),Le=t(351),Re=t.n(Le),Ce=t(352),Ae=t.n(Ce),Ie=Object(O.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},chips:{flex:1,display:"flex",flexWrap:"wrap"},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},divider:{height:e.spacing(2)},buttonProgress:{color:ve.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},profileImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},profileImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $profileImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $profileImageFeaturedStar":{opacity:1},"&:hover $profileImageFeaturedStar":{opacity:1}}}}});function Fe(e,a){var t=a.query,n=a.isHighlighted;return s.a.createElement(c.a,{selected:n,component:"div",className:"z-999",dense:!0},s.a.createElement(u.a,{className:"pl-0 ",primary:s.a.createElement(je.a,{highlightClassName:"YourHighlightClass",searchWords:[t],autoEscape:!0,textToHighlight:e.name})}))}function Te(e){var a=e.classes,t=e.inputRef,n=void 0===t?function(){}:t,r=e.ref,l=Object(i.a)(e,["classes","inputRef","ref"]);return s.a.createElement(Ne.a,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){r(e),n(e)},classes:{input:a.input}}},l))}a.default=Object(j.a)("profileApp",pe)(function(e){var a=Object(o.useRef)(null),t=Object(o.useRef)(null),i=Object(S.c)(function(e){return e.profileApp.searchCategories}),u=s.a.useState([]),O=Object(l.a)(u,2),j=O[0],I=O[1],F=e.match.params.tab,q=Object(S.b)(),k=Ie(),D=Object(S.c)(function(e){return e.profileApp.profile}),$=Object(S.c)(function(e){return e.auth.user}),Y=Object(S.c)(function(e){return e.profileApp.profile.pays}),J=Object(S.c)(function(e){return e.profileApp.profile.villes}),X=Object(o.useRef)(null),K=Object(o.useRef)(null),ee=Object(o.useRef)(null),ne=Object(o.useState)(!1),re=Object(l.a)(ne,2),le=re[0],se=re[1],ce=Object(o.useState)(!1),ue=Object(l.a)(ce,2),me=ue[0],de=ue[1],pe=Object(o.useState)(!1),ge=Object(l.a)(pe,2),he=ge[0],ve=ge[1],xe=Object(o.useState)(!1),Ne=Object(l.a)(xe,2),Se=Ne[0],je=Ne[1],Le=s.a.useState([]),Ce=Object(l.a)(Le,2),qe=Ce[0],Ue=Ce[1],ke=Object(o.useState)(parseInt(F)?parseInt(F):0),ze=Object(l.a)(ke,2),_e=ze[0],We=ze[1],De=Object(w.b)(null),Me=De.form,Ve=De.handleChange,Be=De.setForm,Ge=Object(o.useState)({showPassword:!1}),He=Object(l.a)(Ge,2),Qe=He[0],$e=He[1],Ye=function(){$e(Object(r.a)({},Qe,{showPassword:!Qe.showPassword}))},Je=function(e){e.preventDefault()};function Xe(e,a){"ville"===a?(Be(A.a.set(Object(r.a)({},Me),a,e)),de(e)):(Me.ville="",Be(A.a.set(Object(r.a)({},Me),a,e)),ve(e),e.value&&q(H(e.value)),"Maroc"===e.label?se(!0):se(!1))}function Ze(){je(!1)}function Ke(){je(!0)}function ea(e){A.a.find(qe,i.searchText)||(Ue([].concat(Object(n.a)(qe),[i.searchText])),na(),q(ie()))}function aa(e){na(),q(ie())}function ta(e){27===e.keyCode&&(na(),q(ie()))}function na(){q({type:te}),document.removeEventListener("keydown",ta,!1)}Object(o.useEffect)(function(){q(G($.id))},[q,$.id]),Object(o.useEffect)(function(){q(function(){var e=L.a.get("/api/pays?pagination=false&props[]=id&props[]=name");return function(a){return a({type:U}),e.then(function(e){a({type:T,payload:e.data["hydra:member"]})})}}())},[q]),Object(o.useEffect)(function(){D.data&&!Me&&D.data.pays&&q(H(D.data.pays["@id"]))},[q,D.data,Me]),Object(o.useEffect)(function(){D.error&&(D.error.societe||D.error.pays||D.error.ville||D.error.adresse1||D.error.adresse2||D.error.website||D.error.fix||D.error.ice||D.error.description)&&(X.current&&X.current.updateInputsWithError(Object(r.a)({},D.error)),Ze()),D.error&&(D.error.phone||D.error.firstName||D.error.lastName)&&(K.current&&K.current.updateInputsWithError(Object(r.a)({},D.error)),Ze()),D.error&&(D.error.newPassword||D.error.newConfirmpassword||D.error.oldPassword)&&(ee.current&&ee.current.updateInputsWithError(Object(r.a)({},D.error)),Ze())},[D.error]),Object(o.useEffect)(function(){(D.data&&!Me||D.data&&Me&&D.data.id!==Me.id)&&(D.data.pays&&"Maroc"===D.data.pays.name&&se(!0),Be(Object(r.a)({},D.data)),I(D.data.categories.map(function(e){return e})),de({value:D.data.ville["@id"],label:D.data.ville.name}),ve({value:D.data.pays["@id"],label:D.data.pays.name}),D.data.autreCategories&&Ue(A.a.split(D.data.autreCategories,",")))},[Me,D.data,Be]),Object(o.useEffect)(function(){D.avatar&&Be(A.a.set(Object(r.a)({},Me),"avatar",D.avatar))},[Me,D.avatar,Be]);var ra={renderInputComponent:Te,suggestions:i.suggestions,focusInputOnSuggestionClick:!1,onSuggestionsFetchRequested:function(e){var a=e.value;"input-changed"===e.reason&&a&&a.trim().length>1&&q(oe(a.trim()))},onSuggestionsClearRequested:function(){},renderSuggestion:Fe};return s.a.createElement(s.a.Fragment,null,s.a.createElement(Pe.Helmet,null,s.a.createElement("title",null,"Profil | Les Achats Industriels"),s.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),s.a.createElement("meta",{name:"googlebot",content:"noindex"})),s.a.createElement(N.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:D.requestFournisseur?s.a.createElement(be.a,{color:"secondary"}):Me&&s.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},s.a.createElement("div",{className:"flex flex-col items-start max-w-full"},s.a.createElement("div",{className:"flex items-center max-w-full"},s.a.createElement(N.d,{animation:"transition.expandIn",delay:300},Me.avatar?s.a.createElement(m.a,{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",alt:"user photo",src:N.G+Me.avatar.url}):s.a.createElement(m.a,{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded"},Me.firstName[0])),s.a.createElement("div",{className:"flex flex-col min-w-0"},s.a.createElement(N.d,{animation:"transition.slideLeftIn",delay:300},s.a.createElement(d.a,{className:"text-16 sm:text-20 truncate"},Me.firstName&&Me.lastName?Me.firstName+" "+Me.lastName:"NOM & Pr\xe9nom")),s.a.createElement(N.d,{animation:"transition.slideLeftIn",delay:300},s.a.createElement(d.a,{variant:"caption"},Me.societe?Me.societe:"Soci\xe9t\xe9"," ",Me.email?" | "+Me.email:"")))))),contentToolbar:D.requestFournisseur?s.a.createElement("div",{className:k.root},s.a.createElement(be.a,{color:"secondary"})):Me&&s.a.createElement(p.a,{value:_e,onChange:function(e,a){We(a)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},s.a.createElement(g.a,{className:"h-64 normal-case",label:"Infos soci\xe9t\xe9"}),s.a.createElement(g.a,{className:"h-64 normal-case",label:"Produits"}),s.a.createElement(g.a,{className:"h-64 normal-case",label:"Infos utilisateur"}),s.a.createElement(g.a,{className:"h-64 normal-case",label:"Photo"}),s.a.createElement(g.a,{className:"h-64 normal-case",label:"Mot de passe"})),content:D.requestFournisseur?"":Me&&s.a.createElement("div",{className:" sm:p-10 max-w-2xl"},0===_e&&s.a.createElement(fe.a,{onValidSubmit:function(e){var a,t;q((a=e,t=Me.id,"Maroc"!==a.pays.label&&(a.ice=null),a.pays=a.pays.value,a.ville=a.ville.value,null===a.codepostal?delete a.codepostal:a.codepostal=parseInt(a.codepostal),function(e,n){var r=L.a.put("/api/fournisseurs/".concat(t),a);return e({type:W}),r.then(function(a){return Promise.all([e({type:_,payload:a.data}),e(Object(C.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).then(function(){return e(G(t))}).catch(function(a){e({type:z,payload:R.a.parseApiErrors(a)})})}))},onValid:Ke,onInvalid:Ze,ref:X,className:"flex pt-5 flex-col "},s.a.createElement(f.a,{container:!0,spacing:3,className:"mb-5"},s.a.createElement(f.a,{item:!0,xs:12,sm:8},s.a.createElement("div",{className:"flex"},s.a.createElement(N.F,{className:"",label:"Raison sociale",autoFocus:!0,id:"societe",name:"societe",value:Me.societe,onChange:Ve,variant:"outlined",validations:{matchRegexp:/^[a-z]|([a-z][0-9])|([0-9][a-z])|([a-z][0-9][a-z])+$/i,minLength:2,maxLength:40},validationErrors:{minLength:"Raison sociale doit d\xe9passer 2 caract\xe8res alphanum\xe9riques",maxLength:"Raison sociale ne peut d\xe9passer 40 caract\xe8res alphanum\xe9riques",matchRegexp:"Raison sociale doit contenir des caract\xe8res alphanum\xe9riques"},required:!0,fullWidth:!0}))),s.a.createElement(f.a,{item:!0,xs:12,sm:4},s.a.createElement("div",{className:"flex"},s.a.createElement(N.F,{className:"",type:"text",name:"fix",value:Me.fix,onChange:Ve,label:"Fixe",autoComplete:"fix",validations:{minLength:10,maxLength:13},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 10",maxLength:"La longueur maximale de caract\xe8re est 13"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(h.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0,variant:"outlined"}))),s.a.createElement(f.a,{item:!0,xs:12,sm:8},s.a.createElement("div",{className:"flex"},le?s.a.createElement(N.F,{className:"",type:"text",name:"ice",value:Me.ice,onChange:Ve,label:"ICE",autoComplete:"ice",validations:{minLength:15,maxLength:15,isNumeric:"isNumeric",matchRegexp:/^(?!.*?(\w)\1{14}).*$/},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 15",maxLength:"La longueur maximale de caract\xe8re est 15",isNumeric:"Cette valeur doit \xeatre num\xe9rique. ",matchRegexp:"ICE non valid. "},variant:"outlined",required:!0,fullWidth:!0}):"")),s.a.createElement(f.a,{item:!0,xs:12,sm:4},s.a.createElement("div",{className:"flex"},s.a.createElement(N.F,{className:"",type:"text",name:"website",value:Me.website,onChange:Ve,autoComplete:"website",label:"Site Web",validations:"isUrl",validationErrors:{isUrl:"Exemple : http://www.exemple.com"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(h.a,{className:"text-20",color:"action"},"language"))},fullWidth:!0,variant:"outlined"})))),s.a.createElement(v.a,null),s.a.createElement(f.a,{container:!0,spacing:3,className:"mb-5"},s.a.createElement(f.a,{item:!0,xs:12,sm:8},s.a.createElement("div",{className:"flex"},s.a.createElement(N.F,{className:"mt-20",type:"text",name:"adresse1",value:Me.adresse1,onChange:Ve,autoComplete:"adresse",label:"Adresse 1",validations:{minLength:10},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 10"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(h.a,{className:"text-20",color:"action"},"location_on"))},variant:"outlined",required:!0,fullWidth:!0}))),s.a.createElement(f.a,{item:!0,xs:12,sm:4},s.a.createElement(N.E,{id:"pays",name:"pays",value:he,placeholder:"S\xe9lectionner une Pays",textFieldProps:{label:"Pays",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},className:"mt-20",options:Y,onChange:function(e){return Xe(e,"pays")},required:!0})),s.a.createElement(f.a,{item:!0,xs:12,sm:4},s.a.createElement("div",{className:"flex"},s.a.createElement(N.F,{className:"",type:"text",name:"adresse2",value:Me.adresse2,onChange:Ve,autoComplete:"adresse",label:"Adresse 2",validations:{minLength:10},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 10"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(h.a,{className:"text-20",color:"action"},"location_on"))},variant:"outlined",fullWidth:!0}))),s.a.createElement(f.a,{item:!0,xs:12,sm:4},s.a.createElement("div",{className:"flex"},s.a.createElement(N.F,{className:"",type:"number",name:"codepostal",value:String(Me.codepostal),onChange:Ve,validations:{minLength:3,maxLength:10},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 3",maxLength:"La longueur maximale de caract\xe8re est 10"},autoComplete:"codepostal",label:"Code Postal",variant:"outlined",fullWidth:!0}))),s.a.createElement(f.a,{item:!0,xs:12,sm:4},s.a.createElement(N.E,{id:"ville",name:"ville",value:me,placeholder:"S\xe9lectionner une ville",textFieldProps:{label:"Ville",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},className:"",options:J,isLoading:D.loadingVille,onChange:function(e){return Xe(e,"ville")},required:!0}))),s.a.createElement(v.a,null),s.a.createElement(f.a,{container:!0,spacing:3},s.a.createElement(f.a,{item:!0,xs:12,sm:12},s.a.createElement(N.F,{className:"mb-5 mt-20  w-full",type:"text",name:"description",value:Me.description,onChange:Ve,label:"Pr\xe9sentation",autoComplete:"description",validations:{minLength:10},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 10"},variant:"outlined",multiline:!0,rows:"8"}))),s.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",className:"w-200 pr-auto mt-16 normal-case","aria-label":"Sauvegarder",disabled:!Se||D.loading,value:"legacy"},"Sauvegarder",D.loading&&s.a.createElement(Ee.a,{size:24,className:k.buttonProgress}))),1===_e&&s.a.createElement(fe.a,{onValidSubmit:function(){q(function(e,a,t){var n={categories:A.a.map(e,function(e,a){return e["@id"]}),autreCategories:a.length>0?A.a.join(a,", "):null};return function(e,a){var r=L.a.put("/api/fournisseurs/".concat(t),n);return e({type:W}),r.then(function(a){return Promise.all([e({type:_,payload:a.data}),e(Object(C.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).then(function(){return e(G(t))}).catch(function(a){e({type:z,payload:R.a.parseApiErrors(a)})})}}(j,qe,Me.id))},className:"flex pt-5 flex-col "},s.a.createElement("div",{ref:t},s.a.createElement(d.a,{variant:"caption",className:"flex items-center mb-16"},s.a.createElement(h.a,null,"info"),"\u2002Vous pouvez choisir un ou plusieurs produits "),s.a.createElement(Oe.a,Object.assign({},ra,{getSuggestionValue:function(e){return i.searchText},onSuggestionSelected:function(e,a){var r=a.suggestion;"enter"===a.method&&e.preventDefault(),!A.a.find(j,["name",r.name])&&I([r].concat(Object(n.a)(j))),t.current.focus()},inputProps:{classes:k,label:"Produits",placeholder:"Produit (ex: Rayonnage lourd)",value:i.searchText,variant:"outlined",name:"categories",onChange:function(e){q(function(e){return{type:Z,searchText:e.target.value}}(e))},onFocus:function(){q({type:ae}),document.addEventListener("keydown",ta,!1)},InputLabelProps:{shrink:!0}},theme:{container:k.container,suggestionsContainerOpen:k.suggestionsContainerOpen,suggestionsList:k.suggestionsList,suggestion:k.suggestion},renderSuggestionsContainer:function(e){return s.a.createElement(y.a,{anchorEl:t.current,open:Boolean(e.children)||i.noSuggestions||i.loading,popperOptions:{positionFixed:!0},className:"z-9999 mb-8"},s.a.createElement("div",{ref:a},s.a.createElement(we.a,Object.assign({elevation:1,square:!0},e.containerProps,{style:{width:t.current?t.current.clientWidth:null}}),e.children,i.noSuggestions&&s.a.createElement(d.a,{className:"px-16 py-12"},"Ce produit n'existe pas encore sur notre base de donn\xe9es. ",s.a.createElement("br",null),"Ajouter ce produit ",s.a.createElement(b.a,{size:"small",onClick:ea,variant:"contained",color:"secondary"},"oui")," ",s.a.createElement(b.a,{size:"small",onClick:aa,variant:"outlined",color:"primary"},"non")),i.loading&&s.a.createElement("div",{className:"px-16 py-12 text-center"},s.a.createElement(Ee.a,{color:"secondary"})," ",s.a.createElement("br",null)," Chargement ..."))))}}))),j&&j.length>0&&s.a.createElement(d.a,{paragraph:!0,className:"mt-8 mb-2 font-bold"},"Produit(s) s\xe9lection\xe9(s)"),s.a.createElement("div",{className:Object(ye.a)(k.chips)},j&&j.length>0&&j.map(function(e,a){return s.a.createElement(P.a,{key:a,label:e.name,onDelete:function(){return a=e.id,void I(A.a.reject(j,function(e){return e.id===a}));var a},className:"mt-8 mr-8"})})),qe&&qe.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{paragraph:!0,className:"mt-8 mb-2 font-bold"},"Produit(s) sugg\xe9r\xe9(s)"),s.a.createElement(d.a,{variant:"caption",className:""},"Ce produit sera activ\xe9 une fois valid\xe9 par administrateur, Merci.")),s.a.createElement("div",{className:Object(ye.a)(k.chips)},qe&&qe.length>0&&qe.map(function(e){return s.a.createElement(P.a,{key:e,color:"secondary",label:e,onDelete:function(){return a=e,void Ue(A.a.reject(qe,function(e){return e===a}));var a},className:"mt-8 mr-8"})})),s.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",className:"w-200 pr-auto mt-16 normal-case","aria-label":"Sauvegarder",disabled:D.loading||!j.length,value:"legacy"},"Sauvegarder",D.loading&&s.a.createElement(Ee.a,{size:24,className:k.buttonProgress}))),2===_e&&s.a.createElement(fe.a,{onValidSubmit:function(e){var a,t;q((a=e,t=Me.id,function(e,n){var r=L.a.put("/api/fournisseurs/".concat(t),a);return e({type:W}),r.then(function(a){return Promise.all([e({type:_,payload:a.data}),e(Object(C.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).then(function(){return e(G(t))}).catch(function(a){e({type:z,payload:R.a.parseApiErrors(a)})})}))},onValid:Ke,onInvalid:Ze,ref:K,className:"flex pt-5 flex-col "},s.a.createElement(f.a,{container:!0,spacing:3},s.a.createElement(f.a,{item:!0,xs:12,sm:2},s.a.createElement(N.D,{className:"mb-16",name:"civilite",label:"Civilit\xe9",onChange:Ve,value:Me.civilite,variant:"outlined",required:!0,fullWidth:!0},s.a.createElement(c.a,{value:"M."},"M."),s.a.createElement(c.a,{value:"Mme"},"Mme"),s.a.createElement(c.a,{value:"Mlle"},"Mlle"))),s.a.createElement(f.a,{item:!0,xs:12,sm:5},s.a.createElement(N.F,{className:"mb-16",type:"text",name:"lastName",value:Me.lastName,onChange:Ve,label:"Nom",validations:{minLength:2},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 2"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(h.a,{className:"text-20",color:"action"},"person"))},variant:"outlined",required:!0,fullWidth:!0})),s.a.createElement(f.a,{item:!0,xs:12,sm:5},s.a.createElement(N.F,{className:"mb-16",value:Me.firstName,onChange:Ve,type:"text",name:"firstName",label:"Pr\xe9nom",validations:{minLength:2},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 2"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(h.a,{className:"text-20",color:"action"},"person"))},variant:"outlined",required:!0,fullWidth:!0}))),s.a.createElement(v.a,null),s.a.createElement(f.a,{container:!0,spacing:3,className:"mt-5"},s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(N.F,{className:"mb-16",type:"text",name:"email",value:Me.email,label:"Email",variant:"outlined",disabled:!0,fullWidth:!0})),s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(N.F,{className:"mb-16",value:Me.phone,onChange:Ve,type:"text",name:"phone",label:"T\xe9l\xe9phone",validations:{minLength:10,maxLength:13},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 10",maxLength:"La longueur maximale de caract\xe8re est 13"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(h.a,{className:"text-20",color:"action"},"local_phone"))},variant:"outlined",required:!0,fullWidth:!0}))),s.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",className:"w-200 pr-auto mt-16 normal-case","aria-label":"Sauvegarder",disabled:!Se||D.loading,value:"legacy"},"Sauvegarder",D.loading&&s.a.createElement(Ee.a,{size:24,className:k.buttonProgress}))),3===_e&&s.a.createElement("div",null,s.a.createElement("input",{accept:"image/jpeg,image/gif,image/png",className:"hidden",id:"button-file",type:"file",disabled:D.profileReqInProgress,onChange:function(e){var a=e.target.files[0];a&&q(function(e,a){return function(t,n){var r=new FormData;r.append("file",e);var l=L.a.post("/api/avatars",r,{headers:{"Content-Type":"multipart/form-data"}});return t({type:V}),l.then(function(e){return Promise.all([e,t({type:M,payload:e.data}),t(Q({avatar:e.data["@id"]},a))])}).catch(function(e){t({type:B}),t(Object(C.B)({message:A.a.map(R.a.parseApiErrors(e),function(e,a){return a+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}(a,Me.id))}}),s.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap"},s.a.createElement("label",{htmlFor:"button-file",className:Object(ye.a)(k.profileImageUpload,"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5")},D.profileReqInProgress?s.a.createElement(Ee.a,{size:24,className:k.buttonProgress}):s.a.createElement(h.a,{fontSize:"large",color:"action"},"arrow_upward")),s.a.createElement("div",{className:Object(ye.a)(k.profileImageItem,"flex items-center cursor-pointer justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden  shadow-1 hover:shadow-5"),onClick:Me.avatar?function(){return window.open(N.G+Me.avatar.url,"_blank")}:""},Me.avatar?s.a.createElement("img",{className:"max-w-none w-auto h-full",src:N.G+Me.avatar.url,alt:Me.societe}):s.a.createElement("img",{className:"max-w-none w-auto h-full",src:"assets/images/avatars/profile.jpg",alt:Me.societe})))),4===_e&&s.a.createElement(fe.a,{onValidSubmit:function(e){q(function(e,a){var t=this;return function(n,r){var l=L.a.put("/api/users/".concat(a,"/reset-password"),e);return n({type:W}),l.then(function(e){e.data.user&&t.setSession(e.data.token),Promise.all([n({type:_,payload:e.data}),n(Object(C.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).then(function(){return n(G(a))}).catch(function(e){n({type:z,payload:R.a.parseApiErrors(e)})})}}(e,Me.id))},onValid:Ke,onInvalid:Ze,ref:ee,className:"flex pt-5 flex-col "},s.a.createElement(N.F,{className:"mb-16",type:Qe.showPassword?"text":"password",name:"oldPassword",label:"Mot de passe actuel",validations:{minLength:6},validationErrors:{minLength:"La longueur minimale des caract\xe8res est de 6"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(x.a,{"aria-label":"toggle password visibility",onClick:Ye,onMouseDown:Je},Qe.showPassword?s.a.createElement(Re.a,null):s.a.createElement(Ae.a,null)))},variant:"outlined",required:!0}),s.a.createElement(N.F,{className:"mb-16",type:Qe.showPassword?"text":"password",name:"newPassword",label:"Nouveau mot de passe",validations:{minLength:6,matchRegexp:/(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).{6,}/},validationErrors:{minLength:"La longueur minimale des caract\xe8res est de 6",matchRegexp:"Le mot de passe doit \xeatre de 6 caract\xe8res minimum et contenir un lettre majuscules et des lettres minuscules et au moins un chiffre"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(x.a,{"aria-label":"toggle password visibility",onClick:Ye,onMouseDown:Je},Qe.showPassword?s.a.createElement(Re.a,null):s.a.createElement(Ae.a,null)))},variant:"outlined",required:!0}),s.a.createElement(N.F,{className:"mb-16",type:Qe.showPassword?"text":"password",name:"newConfirmpassword",label:"Confirmer le mot de passe",validations:"equalsField:newPassword",validationErrors:{equalsField:"Passwords do not match"},InputProps:{endAdornment:s.a.createElement(E.a,{position:"end"},s.a.createElement(x.a,{"aria-label":"toggle password visibility",onClick:Ye,onMouseDown:Je},Qe.showPassword?s.a.createElement(Re.a,null):s.a.createElement(Ae.a,null)))},variant:"outlined",required:!0}),s.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",className:"w-200 pr-auto mt-16 normal-case","aria-label":"Sauvegarder",disabled:!Se||D.loading,value:"legacy"},"Sauvegarder",D.loading&&s.a.createElement(Ee.a,{size:24,className:k.buttonProgress})))),innerScroll:!0}))})}}]);