(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1076:function(e,t,n){"use strict";var a=n(54),r=n(36),c="[FAQS APP ADMIN] REQUEST FAQS",i="[FAQS APP ADMIN] GET FAQS",o="[FAQS APP ADMIN] SET FAQS SEARCH TEXT";function u(e){return{type:o,searchText:e.target.value}}function l(){var e=a.a.get("/api/faqs");return function(t){return t({type:c}),e.then(function(e){return t({type:i,payload:e.data})})}}function s(e){return function(t){var n=a.a.delete(e["@id"]);return t({type:c}),n.then(function(e){return Promise.all([t(Object(r.B)({message:"Faq bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(function(){return t(l())})})}}var f=n(107),d="[FAQ APP APP] REQUEST FAQ",m="[FAQ APP APP] REQUEST CATEGORIES",p="[FAQ APP APP] GET FAQ",h="[FAQ APP APP] GET CATEGORIES",E="[FAQ APP APP] SAVE ERROR",g="[FAQ APP APP] UPDATE FAQ",A="[FAQ APP APP] REQUEST SAVE_FAQ",y="[FAQ APP APP] CLEAN_UP";function b(){return function(e){return e({type:y})}}function P(e){var t=a.a.get("/api/faqs/".concat(e));return function(e){return e({type:d}),t.then(function(t){e({type:p,payload:t.data})})}}function v(){var e=a.a.get("/api/faq_categories?props[]=id&props[]=name&props[]=icon");return function(t){return t({type:m}),e.then(function(e){t({type:h,payload:e.data["hydra:member"]})})}}function x(e,t){return e.categorie&&(e.categorie=e.categorie.value),function(n,c){var i=a.a.put(e["@id"],e);return n({type:A}),i.then(function(e){return Promise.all([n({type:g,payload:e.data}),n(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),t.push("/admin/faqs")])}).catch(function(e){n({type:E,payload:f.a.parseApiErrors(e)})})}}function j(e,t){e.categorie&&(e.categorie=e.categorie.value);var n=a.a.post("/api/faqs",e);return function(e){return e({type:A}),n.then(function(n){e(Object(r.B)({message:"Faq sauvegard\xe9"})),e({type:g,payload:n.data}),t.push("/admin/faqs")}).catch(function(t){e({type:E,payload:f.a.parseApiErrors(t)})})}}function q(){return{type:p,payload:{question:"",reponse:""}}}n.d(t,"f",function(){return c}),n.d(t,"d",function(){return i}),n.d(t,"j",function(){return o}),n.d(t,"r",function(){return u}),n.d(t,"n",function(){return l}),n.d(t,"p",function(){return s}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"h",function(){return E}),n.d(t,"i",function(){return g}),n.d(t,"g",function(){return A}),n.d(t,"a",function(){return y}),n.d(t,"k",function(){return b}),n.d(t,"m",function(){return P}),n.d(t,"l",function(){return v}),n.d(t,"s",function(){return x}),n.d(t,"q",function(){return j}),n.d(t,"o",function(){return q})},1168:function(e,t,n){"use strict";var a=n(46),r=n(8),c=n(1076),i={entities:[],loading:!1,searchText:""},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.f:return Object(r.a)({},e,{loading:!0});case c.d:return Object(r.a)({},e,{entities:t.payload["hydra:member"],loading:!1});case c.j:return Object(r.a)({},e,{searchText:t.searchText});default:return e}},u={loading:!1,requestFaq:!1,error:null,data:null,categories:null},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:return Object(r.a)({},e,{loading:!1,requestFaq:!1,error:null,data:null});case c.g:return Object(r.a)({},e,{loading:!0});case c.e:return Object(r.a)({},e,{requestFaq:!0});case c.c:return Object(r.a)({},e,{data:t.payload,requestFaq:!1,error:null});case c.b:return Object(r.a)({},e,{categories:t.payload});case c.i:return Object(r.a)({},e,{loading:!1,error:null});case c.h:return Object(r.a)({},e,{loading:!1,error:t.payload});default:return e}},s=Object(a.d)({faqs:o,faq:l});t.a=s},1409:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),i=n(140),o=n(23),u=n(98),l=n(1029),s=n(958),f=n(1013),d=n(78),m=n(6),p=n(347),h=n(1041),E=n(1076);var g=Object(d.g)(function(e){var t=Object(m.b)(),n=Object(m.c)(function(e){return e.faqsApp.faqs.entities}),i=Object(m.c)(function(e){return e.faqsApp.faqs.loading}),d=Object(m.c)(function(e){return e.faqsApp.faqs.searchText}),g=Object(a.useState)(null),A=Object(o.a)(g,2),y=A[0],b=A[1];return Object(a.useEffect)(function(){n&&b(function(e,t){var n=Object.keys(e).map(function(t){return e[t]});return 0===t.length?n:c.y.filterArrayByString(n,t)}(n,d))},[n,d]),y?i?r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},r.a.createElement(h.a,{color:"secondary"})," \u2002 Chargement ..."):0===y.length?r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},r.a.createElement(u.a,{color:"textSecondary",variant:"h5"},"Aucun Faq trouv\xe9")):r.a.createElement(c.d,{animation:"transition.slideUpIn",delay:300},r.a.createElement(p.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTrProps:function(t,n,a){return{className:"h-64 cursor-pointer",onClick:function(t,a){n&&e.history.push("/admin/faqs/"+n.original.id)}}},getTheadProps:function(e,t,n){return{className:"h-64 font-bold"}},data:y,columns:[{Header:"Question",filterable:!0,accessor:"question"},{Header:"R\xe9ponse",filterable:!0,accessor:"reponse"},{Header:"Cat\xe9gorie",filterable:!0,id:"categorie",accessor:function(e){return e.categorie?e.categorie.name:"N/A"}},{Header:"",Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(l.a,{title:"Editer"},r.a.createElement(s.a,{className:"text-teal text-20"},r.a.createElement(f.a,null,"edit"))),r.a.createElement(l.a,{title:"Supprimer"},r.a.createElement(s.a,{className:"text-red text-20",onClick:function(n){n.stopPropagation(),t(E.p(e.original))}},r.a.createElement(f.a,null,"delete"))))}}],defaultPageSize:10,loading:i,noDataText:"Aucun faq trouv\xe9",loadingText:"Chargement...",ofText:"sur"})):null}),A=n(139),y=n(957),b=n(1035),P=n(1014),v=n(18);var x=function(e){var t=Object(m.b)(),n=Object(m.c)(function(e){return e.fuse.settings.mainTheme}),a=Object(m.c)(function(e){return e.faqsApp.faqs.searchText});return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(c.d,{animation:"transition.expandIn",delay:300},r.a.createElement(f.a,{className:"text-32 mr-0 sm:mr-12"},"help_outline")),r.a.createElement(c.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(u.a,{className:"hidden sm:flex",variant:"h6"},"Gestion des Faqs"))),r.a.createElement("div",{className:"flex flex-1 items-center justify-center pr-8 sm:px-12"},r.a.createElement(P.a,{theme:n},r.a.createElement(c.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(A.a,{className:"flex p-4 items-center w-full max-w-512 px-8 py-4",elevation:1},r.a.createElement(f.a,{className:"mr-8",color:"action"},"search"),r.a.createElement(y.a,{placeholder:"Rechercher",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t(E.r(e))}}))))),r.a.createElement(c.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(b.a,{component:v.a,to:"/admin/faqs/new",className:"whitespace-no-wrap",variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex"},"Ajouter"),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},j=n(1168);t.default=Object(i.a)("faqsApp",j.a)(function(){var e=Object(m.b)();return Object(a.useEffect)(function(){e(E.n())},[e]),r.a.createElement(c.o,{classes:{content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(x,null),content:r.a.createElement(g,null),innerScroll:!0})})}}]);