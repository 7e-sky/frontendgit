(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1244:function(e,t,n){"use strict";var a=n(3),r=n.n(a),s=n(4),o=n.n(s),c=n(0),u=n.n(c),i=n(2),l=n(8),d=n(89),S=u.a.forwardRef(function(e,t){var n=e.children,a=e.classes,s=e.className,c=e.disableTypography,l=void 0!==c&&c,S=o()(e,["children","classes","className","disableTypography"]);return u.a.createElement("div",r()({className:Object(i.a)(a.root,s),ref:t},S),l?n:u.a.createElement(d.a,{variant:"h6"},n))});t.a=Object(l.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(S)},1245:function(e,t,n){"use strict";var a=n(3),r=n.n(a),s=n(0),o=n.n(s),c=n(8),u=n(89),i=o.a.forwardRef(function(e,t){return o.a.createElement(u.a,r()({component:"p",variant:"body1",color:"textSecondary",ref:t},e))});t.a=Object(c.a)({root:{marginBottom:16}},{name:"MuiDialogContentText"})(i)},1282:function(e,t,n){"use strict";var a=n(50),r=n(33);const s="[SUGGESTION SUGGESTIONS APP ADMIN] REQUEST SUGGESTION SUGGESTIONS",o="[SUGGESTION SUGGESTIONS APP ADMIN] GET SUGGESTION SUGGESTIONS",c="[SUGGESTION SUGGESTIONS APP ADMIN] SET SUGGESTION SUGGESTIONS SEARCH TEXT";function u(){const e=a.a.get("/api/suggestion_secteurs?etat=false");return t=>(t({type:s}),e.then(e=>t({type:o,payload:e.data})))}function i(e){return t=>{return t({type:s}),a.a.delete("/api/suggestion_secteurs/".concat(e.id)).then(e=>Promise.all([t(Object(r.B)({message:"Suggestion bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>t(u()))).catch(e=>{e.response.data&&e.response.data["hydra:description"]&&t(Object(r.B)({message:e.response.data["hydra:description"],anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}).then(()=>t(u()))}}n(102);const l="[SUGGESTION SUGGESTION APP ADMIN] REQUEST SUGGESTION",d="[SUGGESTION SUGGESTION APP ADMIN] REQUEST SECTEUR",S="[SUGGESTION SUGGESTION APP ADMIN] REQUEST SOUS_SECTEUR",g="[SUGGESTION SUGGESTION APP ADMIN] REQUEST CATEGORIE",E="[SUGGESTION SUGGESTION APP ADMIN] GET SUGGESTION",p="[SUGGESTION SUGGESTION APP ADMIN] GET SECTEUR",m="[SUGGESTION SUGGESTION APP ADMIN] GET SOUS_SECTEUR",f="[SUGGESTION SUGGESTION APP ADMIN] GET CATEGORIE",G="[SUGGESTION SUGGESTION APP ADMIN] SAVE ERROR",h="[SUGGESTION SUGGESTION APP ADMIN] UPDATE SUGGESTION",O="[SUGGESTION SUGGESTION APP ADMIN] REQUEST SAVE_SUGGESTION",T="[SUGGESTION SUGGESTION APP ADMIN] CLEAN_UP";function N(){return e=>e({type:T})}function I(e){const t=a.a.get("/api/suggestion_secteurs/".concat(e));return e=>(e({type:l}),t.then(t=>{t.data.secteur&&e(function(e){const t=a.a.get("/api/secteurs?name=".concat(e));return e=>(e({type:d}),t.then(t=>{e({type:p,payload:t.data["hydra:member"][0]})}))}(t.data.secteur)),t.data.sousSecteur&&e(function(e){const t=a.a.get("/api/sous_secteurs?name=".concat(e));return e=>(e({type:S}),t.then(t=>{e({type:m,payload:t.data["hydra:member"][0]})}))}(t.data.sousSecteur)),t.data.categorie&&e(function(e){const t=a.a.get("/api/categories?name=".concat(e));return e=>(e({type:g}),t.then(t=>{e({type:f,payload:t.data["hydra:member"][0]})}))}(t.data.categorie)),e({type:E,payload:t.data})}))}function y(e){let t={name:e};const n=a.a.post("/api/secteurs",t);return e=>(e({type:d}),n.then(t=>{e(Object(r.B)({message:"Secteur ajout\xe9",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},variant:"success"})),e({type:p,payload:t.data})}))}function U(e,t){let n={name:e,secteur:t};const s=a.a.post("/api/sous_secteurs",n);return e=>(e({type:S}),s.then(t=>{e(Object(r.B)({message:"Activit\xe9 ajout\xe9e",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},variant:"success"})),e({type:m,payload:t.data})}))}function A(e,t){let n={name:e,sousSecteurs:[t]};const s=a.a.post("/api/categories",n);return e=>(e({type:g}),s.then(t=>{e(Object(r.B)({message:"Cat\xe9gorie ajout\xe9e",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},variant:"success"})),e({type:f,payload:t.data})}))}const b="[DIALOG] OPEN",v="[DIALOG] CLOSE";function P(){return{type:v}}function x(e){return{type:b,options:e}}n.d(t,"k",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"n",function(){return c}),n.d(t,"r",function(){return u}),n.d(t,"t",function(){return i}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return S}),n.d(t,"g",function(){return g}),n.d(t,"e",function(){return E}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"l",function(){return G}),n.d(t,"m",function(){return h}),n.d(t,"h",function(){return O}),n.d(t,"a",function(){return T}),n.d(t,"o",function(){return N}),n.d(t,"q",function(){return I}),n.d(t,"v",function(){return y}),n.d(t,"w",function(){return U}),n.d(t,"u",function(){return A}),n.d(t,"p",function(){return P}),n.d(t,"s",function(){return x})},1347:function(e,t,n){"use strict";var a=n(43),r=n(1282);const s={entities:[],loading:!1,searchText:""};var o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.k:return{...e,loading:!0};case r.f:return{...e,entities:t.payload["hydra:member"],loading:!1};case r.n:return{...e,searchText:t.searchText};default:return e}};const c={requestSuggestion:!1,requestSecteur:!1,requestSousSecteur:!1,requestCategorie:!1,error:null,data:null,secteur:null,sousSecteur:null,categorie:null};var u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:return{...e,requestSuggestion:!1,error:null,data:null,secteur:null,sousSecteur:null};case r.h:case r.k:return{...e,requestSuggestion:!0};case r.i:return{...e,requestSecteur:!0};case r.j:return{...e,requestSousSecteur:!0};case r.g:return{...e,requestCategorie:!0};case r.e:return{...e,data:t.payload,requestSuggestion:!1,error:null};case r.c:return{...e,secteur:t.payload,requestSecteur:!1};case r.d:return{...e,sousSecteur:t.payload,requestSousSecteur:!1};case r.b:return{...e,categorie:t.payload,requestCategorie:!1};case r.m:return{...e,requestSuggestion:!1,error:null};case r.l:return{...e,requestSuggestion:!1,error:t.payload};default:return e}},i=n(33);const l={state:!1,options:{children:"Hi"}};var d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.f:return{...e,state:!0,options:{...e.options,...t.options}};case i.a:return{...e,state:!1};default:return e}};const S=Object(a.d)({suggestions:o,suggestion:u,dialog:d});t.a=S},1586:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(39),o=n(136),c=n(1221),u=n(1140),i=n(1204),l=n(1244),d=n(1229),S=n(1245),g=n(1230),E=n(1227),p=n(71),m=n(7),f=n(365),G=n(1282);var h=Object(p.g)(function(e){const t=Object(m.c)(e=>{let{suggestionsApp:t}=e;return t.suggestions.entities}),n=Object(m.c)(e=>{let{suggestionsApp:t}=e;return t.suggestions.loading}),o=Object(m.c)(e=>{let{suggestionsApp:t}=e;return t.suggestions.searchText}),p=Object(m.b)(),[h,O]=Object(a.useState)(null);return Object(a.useEffect)(()=>{t&&O(function(e,t){const n=Object.keys(e).map(t=>e[t]);return 0===t.length?n:s.y.filterArrayByString(n,t)}(t,o))},[t,o]),h?r.a.createElement(s.d,{animation:"transition.slideUpIn",delay:300},r.a.createElement(f.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTrProps:(t,n,a)=>({className:"h-64 cursor-pointer",onClick:(t,a)=>{n&&e.history.push("/parametres/suggestions/"+n.original.id)}}),getTheadProps:(e,t,n)=>({className:"h-64 font-bold"}),data:h,columns:[{Header:"Societ\xe9",filterable:!0,accessor:"user",className:"font-bold",Cell:e=>e.original.user?e.original.user.societe:"N/A"},{Header:"Secteur",filterable:!0,accessor:"secteur"},{Header:"Activit\xe9",filterable:!0,accessor:"sousSecteur"},{Header:"Produit",filterable:!0,accessor:"categorie"},{Header:"Page",filterable:!0,accessor:"pageSuggestion"},{Header:"",Cell:e=>r.a.createElement("div",{className:"flex items-center"},r.a.createElement(c.a,{title:"Editer"},r.a.createElement(u.a,{className:"text-teal text-20"},r.a.createElement(i.a,null,"edit"))),r.a.createElement(c.a,{title:"Supprimer"},r.a.createElement(u.a,{className:"text-red text-20",onClick:t=>{t.stopPropagation(),p(G.s({children:r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{id:"alert-dialog-title"},"Suppression"),r.a.createElement(d.a,null,r.a.createElement(S.a,{id:"alert-dialog-description"},"Voulez vous vraiment supprimer cet enregistrement ?")),r.a.createElement(g.a,null,r.a.createElement(E.a,{onClick:()=>p(G.p()),color:"primary"},"Non"),r.a.createElement(E.a,{onClick:t=>{p(G.t(e.original)),p(G.p())},color:"primary",autoFocus:!0},"Oui")))}))}},r.a.createElement(i.a,null,"delete"))))}],defaultPageSize:10,loading:n,noDataText:"Aucune suggestion trouv\xe9e",loadingText:"Chargement...",ofText:"sur"})):null}),O=n(89);var T=function(e){return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(s.d,{animation:"transition.expandIn",delay:300},r.a.createElement(i.a,{className:"text-32 mr-0 sm:mr-12"},"work")),r.a.createElement(s.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(O.a,{className:"hidden sm:flex",variant:"h6"},"Suggestions Secteurs"))))},N=n(1347),I=n(364);t.default=Object(o.a)("suggestionsApp",N.a)(function(){const e=Object(m.b)();return Object(a.useEffect)(()=>{e(G.r())},[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.Helmet,null,r.a.createElement("title",null,"Suggestions secteurs | Les Achats Industriels"),r.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),r.a.createElement("meta",{name:"googlebot",content:"noindex"})),r.a.createElement(s.o,{classes:{content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(T,null),content:r.a.createElement(h,null),innerScroll:!0}))})}}]);