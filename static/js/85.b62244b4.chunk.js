(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1292:function(e,t,r){"use strict";var a=r(50);const n="[PRODUITS SELECTED APP] REQUEST PRODUITS",o="[PRODUITS SELECTED APP] CLEAN_UP",i="[PRODUITS SELECTED APP] GET PRODUITS";function u(){return e=>e({type:o})}function c(){const e=a.a.get("/api/select_produits");return t=>(t({type:n}),e.then(e=>t({type:i,payload:e.data["hydra:member"]})))}var s=r(39),l=r(33);const d="[PRODUIT_SELECTED APP] REQUEST PRODUIT_SELECTED",E="[PRODUIT_SELECTED APP] GET PRODUIT_SELECTED",p="[PRODUIT_SELECTED APP] REQUEST_FOURNISSEUR_SELECTED",f="[PRODUIT_SELECTED APP] GET_FOURNISSEUR_SELECTED",g="[PRODUIT_SELECTED APP] REQUEST CATEGORIE_SELECTED",P="[PRODUIT_SELECTED APP] GET CATEGORIE_SELECTED",m="[PRODUIT_SELECTED APP] REQUEST_PRODUCTS_F",T="[PRODUIT_SELECTED APP] GET_PRODUCTS_F",y="[PRODUIT_SELECTED APP] REQUEST SAVE",h="[PRODUIT_SELECTED APP] SAVE PRODUIT_SELECTED",S="[PRODUIT_SELECTED APP] SAVE ERROR";function D(e){const t=a.a.get("/api/select_produits/".concat(e));return e=>(e({type:d}),t.then(t=>{e({type:E,payload:t.data})}).catch(t=>{e({type:S,payload:s.y.parseApiErrors(t)})}))}function R(){const e=a.a.get("/api/fournisseurselected");return t=>(t({type:p}),e.then(e=>{t({type:f,payload:e.data})}).catch(e=>{t({type:S,payload:s.y.parseApiErrors(e)})}))}function O(e){const t=a.a.get("/api/fournisseurcategories?id=".concat(e));return e=>(e({type:g}),t.then(t=>{e({type:P,payload:t.data})}).catch(t=>{e({type:S,payload:s.y.parseApiErrors(t)})}))}function A(e,t){const r=a.a.get("/api/produits?fournisseur=".concat(e,"&categorie=").concat(t));return e=>(e({type:m}),r.then(t=>{e({type:T,payload:t.data["hydra:member"]})}).catch(t=>{e({type:S,payload:s.y.parseApiErrors(t)})}))}function C(e,t){const r=a.a.put(t,{produit:e});return e=>(e({type:y}),r.then(t=>(e(Object(l.B)({message:"Succ\xe8s"})),e({type:h,payload:t.data}))).catch(t=>{e({type:S,payload:s.y.parseApiErrors(t)})}))}r.d(t,"k",function(){return n}),r.d(t,"a",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"p",function(){return u}),r.d(t,"s",function(){return c}),r.d(t,"l",function(){return d}),r.d(t,"f",function(){return E}),r.d(t,"i",function(){return p}),r.d(t,"c",function(){return f}),r.d(t,"b",function(){return P}),r.d(t,"j",function(){return m}),r.d(t,"d",function(){return T}),r.d(t,"m",function(){return y}),r.d(t,"o",function(){return h}),r.d(t,"n",function(){return S}),r.d(t,"q",function(){return D}),r.d(t,"r",function(){return R}),r.d(t,"g",function(){return O}),r.d(t,"h",function(){return A}),r.d(t,"t",function(){return C})},1358:function(e,t,r){"use strict";var a=r(43),n=r(1292);const o={data:[],loading:!1,searchText:""};var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.a:return{...e,data:[]};case n.k:return{...e,loading:!0};case n.e:return{...e,data:t.payload,loading:!1};default:return e}};const u={data:null,fournisseurs:null,categories:null,products:null,error:null,loadingFournisseurs:!1,loadingProducts:!1,loading:!1,success:!1,imageReqInProgress:!1,deleteReqInProgress:!1,image:null,image_deleted:null};var c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.l:return{...e,loading:!0};case n.m:return{...e,loadingProducts:!0};case n.i:return{...e,loadingFournisseurs:!0,categories:null};case n.j:return{...e,loadingProducts:!0,products:null};case n.d:return{...e,products:t.payload,loadingProducts:!1};case n.c:return{...e,fournisseurs:t.payload,loadingFournisseurs:!1};case n.b:return{...e,categories:t.payload};case n.f:return{...e,data:t.payload,loading:!1};case n.o:return{...e,data:t.payload,loadingProducts:!1,success:!0};case n.n:return{...e,error:t.payload,loading:!1,success:!1};default:return e}};const s=Object(a.d)({focusProduits:i,focusProduit:c});t.a=s},1592:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(39),i=r(136),u=r(1221),c=r(1140),s=r(1204),l=r(71),d=r(7),E=r(59),p=r.n(E),f=r(102),g=r(365);var P=Object(l.g)(function(e){const t=Object(d.c)(e=>{let{focusProduitsApp:t}=e;return t.focusProduits.data}),r=Object(d.c)(e=>{let{focusProduitsApp:t}=e;return t.focusProduits.searchText}),i=Object(d.c)(e=>{let{focusProduitsApp:t}=e;return t.focusProduits.loading}),[l,E]=Object(a.useState)(null);return Object(a.useEffect)(()=>{t&&E(function(e,t){const r=Object.keys(e).map(t=>e[t]);return 0===t.length?r:f.a.filterArrayByString(r,t)}(t,r))},[t,r]),l?n.a.createElement(o.d,{animation:"transition.slideUpIn",delay:300},n.a.createElement(g.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTrProps:(t,r,a)=>({className:"h-64 cursor-pointer",onClick:(t,a)=>{r&&e.history.push("/admin/focus-produits/"+r.original.id)}}),getTheadProps:(e,t,r)=>({className:"h-64 font-bold"}),data:l,columns:[{Header:"",accessor:"produit",Cell:e=>e.original.produit&&e.original.produit.featuredImageId?n.a.createElement("img",{className:"w-full block rounded",src:o.G+e.original.produit.featuredImageId.url,alt:""}):n.a.createElement("img",{className:"w-64 block rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:""}),className:"justify-center",width:128,sortable:!1,filterable:!1},{Header:"Fournisseur",accessor:"produit",filterable:!1,Cell:e=>e.original.produit&&e.original.produit.fournisseur?e.original.produit.fournisseur.societe:"N/A"},{Header:"R\xe9f.Produit",accessor:"produit",filterable:!1,Cell:e=>e.original.produit?e.original.produit.reference:"N/A"},{Header:"Cat\xe9gorie",accessor:"produit",filterable:!1,Cell:e=>e.original.produit&&e.original.produit.categorie?e.original.produit.categorie.name:"N/A"},{Header:"statut",accessor:"updated",filterable:!1,Cell:e=>e.original.produit?"Actif ("+p()(e.original.updated).toNow(p()())+")":"N/A"},{Header:"",Cell:e=>n.a.createElement("div",{className:"flex items-center"},n.a.createElement(u.a,{title:"Editer"},n.a.createElement(c.a,{className:"text-teal text-20"},n.a.createElement(s.a,null,"edit"))))}],defaultPageSize:10,loading:i,noDataText:"No Produit found",loadingText:"Chargement...",ofText:"sur"})):null}),m=r(89);var T=function(e){return n.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement(o.d,{animation:"transition.expandIn",delay:300},n.a.createElement(s.a,{className:"text-32 mr-0 sm:mr-12"},"inbox")),n.a.createElement(o.d,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(m.a,{className:"hidden sm:flex",variant:"h6"},"Focus produits"))))},y=r(1358),h=r(1292);t.default=Object(i.a)("focusProduitsApp",y.a)(function(){const e=Object(d.b)();return Object(a.useEffect)(()=>(e(h.s()),()=>{e(h.p())}),[e]),n.a.createElement(o.o,{classes:{content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:n.a.createElement(T,null),content:n.a.createElement(P,null),innerScroll:!0})})}}]);