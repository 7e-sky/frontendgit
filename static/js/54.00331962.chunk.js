(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1049:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=n},1051:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(4),c=a.n(i),l=a(0),o=a.n(l),s=(a(1),a(2)),u=a(7),d=a(98),m=o.a.forwardRef(function(e,t){var a=e.children,n=e.classes,i=e.className,l=e.disableTypography,u=void 0!==l&&l,m=c()(e,["children","classes","className","disableTypography"]);return o.a.createElement("div",r()({className:Object(s.a)(n.root,i),ref:t},m),u?a:o.a.createElement(d.a,{variant:"h6"},a))});t.a=Object(u.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(m)},1052:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(0),c=a.n(i),l=(a(1),a(7)),o=a(98),s=c.a.forwardRef(function(e,t){return c.a.createElement(o.a,r()({component:"p",variant:"body1",color:"textSecondary",ref:t},e))});t.a=Object(l.a)({root:{marginBottom:16}},{name:"MuiDialogContentText"})(s)},1364:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(40),c=a(140),l=a(23),o=a(98),s=a(1029),u=a(1035),d=a(1051),m=a(1037),f=a(1052),p=a(1038),h=a(1041),g=a(958),E=a(1013),b=a(78),v=a(36),y=a(54),j=a(196),O="[CHILD ACHETEUR APP] REQUEST CHILDS",N="[CHILD ACHETEUR APP] REQUEST EDIT",A="[CHILD ACHETEUR APP] EDITED ACH",C="[CHILD ACHETEUR APP] GET CHILD";function x(e){var t=y.a.get("/api/acheteurs/".concat(e,"/childs?type=0"));return function(e){return e({type:O}),t.then(function(t){return e({type:C,payload:t.data})})}}var T="[DIALOG] OPEN",H="[DIALOG] CLOSE";function P(){return{type:H}}function D(e){return{type:T,options:e}}var w=a(6),I=a(64),L=a.n(I),S=a(107),F=a(347),M=(a(10),a(345)),k=a(1049),z=a.n(k),R=Object(M.a)(function(e){return{buttonProgress:{color:z.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}});var U=Object(b.g)(function(e){var t=Object(w.b)(),a=R(),c=Object(w.c)(function(e){return e.childsFrsApp.childs.data}),b=Object(w.c)(function(e){return e.childsFrsApp.childs.loading}),O=Object(w.c)(function(e){return e.childsFrsApp.childs.loadingEdit}),C=Object(w.c)(function(e){return e.auth.user}),T=Object(w.c)(function(e){return e.childsFrsApp.childs.searchText}),H=Object(n.useState)(null),I=Object(l.a)(H,2),M=I[0],k=I[1];return Object(n.useEffect)(function(){c&&k(function(e,t){var a=Object.keys(e).map(function(t){return e[t]});return 0===t.length?a:S.a.filterArrayByString(a,t)}(c,T))},[c,T]),M?0===M.length&&!1===b?r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},r.a.createElement(o.a,{color:"textSecondary",variant:"h5"},"Aucune d'essai de s'inscrire trouv\xe9e")):r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(i.d,{animation:"transition.slideUpIn",delay:300},r.a.createElement(F.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTrProps:function(e,t,a){return{className:"h-64 "}},getTheadProps:function(e,t,a){return{className:"h-64"}},data:M,columns:[{Header:"Nom",accessor:"firstName",filterable:!0,className:"justify-center ",Cell:function(e){return e.original.firstName?e.original.firstName:""}},{Header:"Pr\xe9nom",accessor:"lastName",className:"justify-center ",filterable:!0,Cell:function(e){return e.original.lastName?e.original.lastName:""}},{Header:"T\xe9l\xe9phone",accessor:"phone",className:"justify-center ",filterable:!0,Cell:function(e){return e.original.phone?e.original.phone:""}},{Header:"Email",accessor:"email",className:"justify-center ",filterable:!0,Cell:function(e){return e.original.email?e.original.email:""}},{Header:"Date de cr\xe9ation",accessor:"created",filterable:!1,className:"justify-center ",Cell:function(e){return e.original.created?L()(e.original.created).format("DD/MM/YYYY HH:mm"):"N/A"}},{Header:"",className:"justify-center ",Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(s.a,{title:"Ajouter comme un acheteur / Master"},r.a.createElement(u.a,{size:"small",variant:"contained",color:"primary",disabled:O,onClick:function(a){a.stopPropagation(),t(D({children:r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{id:"alert-dialog-title"},"Nouveau Acheteur / Master"),r.a.createElement(m.a,null,r.a.createElement(f.a,{id:"alert-dialog-description"},"Vous \xeates en train d'ajouter une nouveau Acheteur / Master,")),r.a.createElement(p.a,null,r.a.createElement(u.a,{onClick:function(){return t(P())},variant:"outlined",color:"primary"},"Annuler"),r.a.createElement(u.a,{onClick:function(a){t(function(e,t,a){var n={type:t},r=y.a.put("/api/acheteur_provisoires/".concat(e),n);return function(e){return e({type:N}),r.then(function(n){return Promise.all([e({type:A}),e(Object(v.B)({message:1===t?"Acheteur / Master bien ajout\xe9e!":"Acheteur bien ajout\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(function(){return e(x(a))}).then(function(){return e(j.b("acheteurs-tentatives"))})}).catch(function(t){t.response.data&&t.response.data["hydra:description"]&&e(Object(v.B)({message:t.response.data["hydra:description"],anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}(e.original.id,1,C.id)),t(P())},variant:"contained",color:"primary",autoFocus:!0},"Ajouter")))}))}},O&&r.a.createElement(h.a,{size:24,className:a.buttonProgress}),"nouveau Acheteur / Master")))}},{Header:"",className:"justify-center ",Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(s.a,{title:"Supprimer"},r.a.createElement(g.a,{className:"text-red text-20",disabled:O,onClick:function(a){a.stopPropagation(),t(D({children:r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{id:"alert-dialog-title"},"Suppression"),r.a.createElement(m.a,null,r.a.createElement(f.a,{id:"alert-dialog-description"},"Voulez vous vraiment supprimer cet enregistrement ?")),r.a.createElement(p.a,null,r.a.createElement(u.a,{onClick:function(){return t(P())},color:"primary"},"Non"),r.a.createElement(u.a,{onClick:function(a){t(function(e,t){return function(a){return a({type:N}),y.a.delete("/api/acheteur_provisoires/".concat(e.id)).then(function(e){return Promise.all([a({type:A}),a(Object(v.B)({message:"Bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(function(){return a(x(t.id))}).then(function(){return a(j.b("acheteurs-tentatives"))})})}}(e.original,C)),t(P())},color:"primary",autoFocus:!0},"Oui")))}))}},r.a.createElement(E.a,null,O&&r.a.createElement(h.a,{size:24,className:a.buttonProgress}),"delete"))))}}],defaultPageSize:10,noDataText:"Aucune d'essai de s'inscrire trouv\xe9e",loading:b,loadingText:"Chargement...",ofText:"sur"}))):null});var B=function(e){return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(i.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(o.a,{className:"hidden sm:flex",variant:"h6"},"Liste d'essai de s'inscrire"))))},Y=a(46),_=a(8),G={data:[],pageCount:null,loading:!1,searchText:"",loadingEdit:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(_.a)({},e,{loading:!0});case N:return Object(_.a)({},e,{loadingEdit:!0});case A:return Object(_.a)({},e,{loadingEdit:!1});case C:return Object(_.a)({},e,{data:t.payload["hydra:member"],pageCount:S.a.hydraPageCount(t.payload),loading:!1});default:return e}},Q={state:!1,options:{children:"Hi"}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.f:return Object(_.a)({},e,{state:!0,options:Object(_.a)({},e.options,t.options)});case v.a:return Object(_.a)({},e,{state:!1});default:return e}},q=Object(Y.d)({childs:J,dialog:V}),K=a(346);t.default=Object(c.a)("childsFrsApp",q)(function(){var e=Object(w.b)(),t=Object(w.c)(function(e){return e.auth.user});return Object(n.useEffect)(function(){t&&e(x(t.id))},[e,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K.Helmet,null,r.a.createElement("title",null,"Tentatives d'inscriptions | Les Achats Industriels"),r.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),r.a.createElement("meta",{name:"googlebot",content:"noindex"})),r.a.createElement(i.o,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(B,null),content:r.a.createElement(U,null),innerScroll:!0}))})}}]);