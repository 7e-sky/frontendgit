(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{1251:function(e,a,t){"use strict";var r=t(33),n=t(50);const s="[FOURNISSEURS ADMIN APP] REQUEST FOURNISSEURS",l="[FOURNISSEURS ADMIN APP] SET PARAMETRES DATA",i="[FOURNISSEURS ADMIN APP] GET FOURNISSEURS",o="[FOURNISSEURS ADMIN APP] SET FOURNISSEURS SEARCH TEXT";function c(e){var a="";e.search.length>0&&e.search.map(e=>e.value&&("created"===e.id?a+="&"+e.id+"[after]="+e.value:"step"===e.id?a+="-1"===e.value?"&".concat(e.id,"=1&isactif=false"):a+="1"===e.value?"&".concat(e.id,"=").concat(e.value,"&isactif=true"):"&".concat(e.id,"=").concat(e.value):a+="&".concat(e.id,"=").concat(e.value)));const t=n.a.get("/api/fournisseurs?page=".concat(e.page).concat(a,"&order[").concat(e.filter.id,"]=").concat(e.filter.direction));return e=>(e({type:s}),t.then(a=>e({type:i,payload:a.data})))}function u(e,a,t){let l={isactif:a};return a=>{return a({type:s}),n.a.put(e["@id"],l).then(e=>Promise.all([a(Object(r.B)({message:"Statut modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>a(c(t))))}}function d(e){return{type:l,parametres:e}}var m=t(102),p=t(10),f=t(200);const g="[FOURNISSEURS ADMIN APP] REQUEST FOURNISSEUR",E="[FOURNISSEURS ADMIN APP] GET FOURNISSEUR",S="[FOURNISSEURS ADMIN APP] GET PAYS",h="[FOURNISSEURS ADMIN APP] GET VILLES",N="[FOURNISSEURS ADMIN APP] REQUEST PAYS",y="[FOURNISSEURS ADMIN APP] REQUEST_ADD_VILLE",A="[FOURNISSEURS ADMIN APP] SAVE_ADD_VILLE",b="[FOURNISSEURS ADMIN APP] SAVE_ERROR_ADD_VILLE",P="[FOURNISSEURS ADMIN APP] CLEAN_UP_VILLE",R="[FOURNISSEURS ADMIN APP] REQUEST VILLES",I="[FOURNISSEURS ADMIN APP] SAVE ERROR",v="[FOURNISSEURS ADMIN APP] UPDATE FOURNISSEUR",O="[FOURNISSEURS ADMIN APP] REQUEST UPDATE_FOURNISSEUR",U="[FOURNISSEURS ADMIN APP] REQUEST_ADD_SECTEUR",x="[FOURNISSEURS ADMIN APP] SAVE_ADD_SECTEUR",D="[FOURNISSEURS ADMIN APP] SAVE_ERROR_ADD_SECTEUR",T="[FOURNISSEURS ADMIN APP] REQUEST_ADD_PRODUIT",C="[FOURNISSEURS ADMIN APP] SAVE_ADD_PRODUIT",F="[FOURNISSEURS ADMIN APP] REQUEST_SOUS_SECTEUR",j="[FOURNISSEURS ADMIN APP] GET_SOUS_SECTEUR",M="[FOURNISSEURS ADMIN APP] UPLOAD AVATAR",H="[FOURNISSEURS ADMIN APP] UPLOAD REQUEST",_="[FOURNISSEURS ADMIN APP] UPLOAD ERROR",w="[FOURNISSEURS ADMIN APP] REQUEST SECTEUR",B="[FOURNISSEURS ADMIN APP] GET SECTEUR",L="[FOURNISSEURS ADMIN APP] REQUEST PRODUITS",k="[FOURNISSEURS ADMIN APP] GET PRODUITS",z="[FOURNISSEURS ADMIN APP] REQUEST ABONNEMENTS",Y="[FOURNISSEURS ADMIN APP] GET ABONNEMENTS",G="[FOURNISSEURS ADMIN APP] REQUEST JETONS",V="[FOURNISSEURS ADMIN APP] GET JETONS",W="[FOURNISSEURS ADMIN APP] REQUEST BLACKLISTES",Q="[FOURNISSEURS ADMIN APP] GET BLACKLISTES",J="[FOURNISSEUR ADMIN APP] CLEAN_UP_FOURNISSEUR",q="[FOURNISSEUR ADMIN APP] SET PARAMETRES DETAIL";function K(e){return{type:q,parametres:e}}function X(){return e=>e({type:J})}function Z(){return e=>e({type:P})}function $(e){const a=n.a.get("/api/fournisseurs/".concat(e));return e=>(e({type:g}),a.then(a=>{e({type:E,payload:a.data})}))}function ee(e,a){var t="";a.search.length>0&&a.search.map(e=>e.value&&("created"===e.id?t+="&"+e.id+"[after]="+e.value:t+="&"+e.id+"="+e.value));const r=n.a.get("/api/fournisseurs/".concat(e,"/produits?page=").concat(a.page).concat(t,"&order[").concat(a.filter.id,"]=").concat(a.filter.direction));return e=>(e({type:L}),r.then(a=>e({type:k,payload:a.data})))}function ae(e){const a=n.a.get("/api/fournisseurs/".concat(e,"/abonnements?pagination=false&order[expired]=desc"));return e=>(e({type:z}),a.then(a=>e({type:Y,payload:a.data})))}function te(e){const a=n.a.get("/api/fournisseurs/".concat(e,"/jetons?pagination=false&order[created]=desc"));return e=>(e({type:G}),a.then(a=>e({type:V,payload:a.data})))}function re(e){const a=n.a.get("/api/fournisseurs/".concat(e,"/blacklistes?order[created]=desc"));return e=>(e({type:W}),a.then(a=>e({type:Q,payload:a.data})))}function ne(e){const a={name:e},t=n.a.post("/api/secteurs",a);return e=>(e({type:U}),t.then(a=>{e({type:x}),e(Object(r.B)({message:"Secteur bien ajout\xe9!",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),e(ie())}).catch(a=>{e({type:D}),e(Object(r.B)({message:p.a.map(m.a.parseApiErrors(a),function(e,a){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function se(e,a){const t={secteur:e,name:a},s=n.a.post("/api/sous_secteurs",t);return a=>s.then(t=>{a(Object(r.B)({message:"Activit\xe9 bien ajout\xe9e!",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),a(oe(e))}).catch(e=>{a(Object(r.B)({message:p.a.map(m.a.parseApiErrors(e),function(e,a){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}function le(e,a){const t={name:a,sousSecteurs:[e]},s=n.a.post("/api/categories",t);return e=>(e({type:T}),s.then(a=>{e({type:C,payload:a.data}),e(Object(r.B)({message:"Produit bien ajout\xe9!",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))}).catch(a=>{e({type:D}),e(Object(r.B)({message:p.a.map(m.a.parseApiErrors(a),function(e,a){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function ie(){const e=n.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name");return a=>(a({type:w}),e.then(e=>{a({type:B,payload:e.data})}))}function oe(e){const a=n.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return e=>(e({type:F}),a.then(a=>{e({type:j,payload:a.data})}))}function ce(){const e=n.a.get("/api/pays?pagination=false&props[]=id&props[]=name");return a=>(a({type:N}),e.then(e=>{a({type:S,payload:e.data["hydra:member"]})}))}function ue(e){const a=n.a.get("".concat(e,"/villes?pagination=false&props[]=id&props[]=name"));return e=>(e({type:R}),a.then(a=>{e({type:h,payload:a.data["hydra:member"]})}))}function de(e,a,t){let s={name:e,pays:"/api/pays/".concat(a)};const l=n.a.post("/api/villes",s);return e=>(e({type:y}),e({type:O}),l.then(r=>{e(ue("/api/pays/".concat(a)));let s={ville:r.data["@id"],autreVille:null};return n.a.put("/api/fournisseurs/".concat(t),s).then(a=>{e(f.b("fournisseurs-admin")),e(f.b("fournisseurs-collaps")),e({type:v,payload:a.data}),e({type:A})})}).catch(a=>{e({type:b}),e(Object(r.B)({message:p.a.map(m.a.parseApiErrors(a),function(e,a){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function me(e){const a=n.a.put("/api/fournisseurs/".concat(e),{autreCategories:null});return e=>(e({type:O}),a.then(a=>{e({type:v,payload:a.data}),e(f.b("fournisseurs-admin")),e(f.b("fournisseurs-collaps"))}).catch(a=>{e({type:I,payload:m.a.parseApiErrors(a)}),e(Object(r.B)({message:p.a.map(m.a.parseApiErrors(a),function(e,a){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function pe(e,a){let t={...e,ice:"Maroc"!==e.pays.label?null:e.ice,pays:e.pays.value,ville:e.ville.value,codepostal:e.codepostal?parseInt(e.codepostal):null};return null===t.codepostal&&delete t.codepostal,e=>{const s=n.a.put("/api/fournisseurs/".concat(a),t);return e({type:O}),s.then(a=>Promise.all([e({type:v,payload:a.data}),e(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(a=>{e({type:I,payload:m.a.parseApiErrors(a)})})}}function fe(e,a){let t={isactif:a};return a=>{return a({type:O}),n.a.put(e["@id"],t).then(e=>Promise.all([a({type:v,payload:e.data}),a(Object(r.B)({message:"Statut modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]))}}function ge(e,a){var t={categories:p.a.map(e,function(e,a){return e["@id"]})};return e=>{const s=n.a.put("/api/fournisseurs/".concat(a),t);return e({type:O}),s.then(a=>Promise.all([e({type:v,payload:a.data}),e(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(a=>{e({type:I,payload:m.a.parseApiErrors(a)})})}}function Ee(e,a){return t=>{const s=n.a.put("/api/fournisseurs/".concat(a),e);return t({type:O}),s.then(e=>Promise.all([t({type:v,payload:e.data}),t(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(e=>{t({type:I,payload:m.a.parseApiErrors(e)})})}}function Se(e,a){return t=>{const s=new FormData;s.append("file",e);const l=n.a.post("/api/avatars",s,{headers:{"Content-Type":"multipart/form-data"}});return t({type:H}),l.then(e=>Promise.all([e,t({type:M,payload:e.data}),t(he({avatar:e.data["@id"]},a))])).catch(e=>{t({type:_}),t(Object(r.B)({message:p.a.map(m.a.parseApiErrors(e),function(e,a){return a+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function he(e,a){return t=>{const s=n.a.put("/api/fournisseurs/".concat(a),e);return t({type:O}),s.then(e=>Promise.all([t({type:v,payload:e.data}),t(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(e=>{t({type:I,payload:m.a.parseApiErrors(e)})})}}var Ne=t(60),ye=t.n(Ne);const Ae="[SEARCH CATEGORIES FRS APP] SC_SET_SEARCH_TEXT",be="[SEARCH CATEGORIES FRS APP] REQUEST_DATA",Pe="[SEARCH CATEGORIES FRS APP] GET_DATA",Re="[SEARCH CATEGORIES FRS APP] SC_OPEN",Ie="[SEARCH CATEGORIES FRS APP] SC_CLOSE",ve="[SEARCH CATEGORIES FRS APP] SC_SUSSP",Oe="[SEARCH CATEGORIES FRS APP] CLEAN_UP",Ue=ye.a.CancelToken;let xe,De;function Te(){return e=>e({type:Oe})}function Ce(e){return De&&clearTimeout(De),a=>{a({type:be}),De=setTimeout(()=>{a(function(e){xe&&xe();const a=n.a.get("/api/categories?name=".concat(e,"&del=false&props[]=id&props[]=name"),{cancelToken:new Ue(function(e){xe=e})});return e=>a.then(a=>{e({type:Pe,payload:a.data})}).catch(e=>{ye.a.isCancel(e)&&console.log("get canceled")})}(e))},300+1e3*Math.random())}}function Fe(e){return{type:Ae,searchText:e.target.value}}function je(){return{type:Re}}function Me(){return{type:Ie}}const He="[DIALOG] OPEN",_e="[DIALOG] CLOSE";function we(){return{type:_e}}function Be(e){return{type:He,options:e}}t.d(a,"v",function(){return s}),t.d(a,"P",function(){return l}),t.d(a,"h",function(){return i}),t.d(a,"O",function(){return o}),t.d(a,"ib",function(){return c}),t.d(a,"V",function(){return u}),t.d(a,"tb",function(){return d}),t.d(a,"u",function(){return g}),t.d(a,"g",function(){return E}),t.d(a,"j",function(){return S}),t.d(a,"n",function(){return h}),t.d(a,"x",function(){return N}),t.d(a,"r",function(){return y}),t.d(a,"F",function(){return A}),t.d(a,"J",function(){return b}),t.d(a,"c",function(){return P}),t.d(a,"C",function(){return R}),t.d(a,"G",function(){return I}),t.d(a,"R",function(){return v}),t.d(a,"B",function(){return O}),t.d(a,"q",function(){return U}),t.d(a,"E",function(){return x}),t.d(a,"I",function(){return D}),t.d(a,"p",function(){return T}),t.d(a,"D",function(){return C}),t.d(a,"H",function(){return"[FOURNISSEURS ADMIN APP] SAVE_ERROR_ADD_PRODUIT"}),t.d(a,"A",function(){return F}),t.d(a,"m",function(){return j}),t.d(a,"S",function(){return M}),t.d(a,"U",function(){return H}),t.d(a,"T",function(){return _}),t.d(a,"z",function(){return w}),t.d(a,"l",function(){return B}),t.d(a,"y",function(){return L}),t.d(a,"k",function(){return k}),t.d(a,"o",function(){return z}),t.d(a,"d",function(){return Y}),t.d(a,"w",function(){return G}),t.d(a,"i",function(){return V}),t.d(a,"s",function(){return W}),t.d(a,"e",function(){return Q}),t.d(a,"b",function(){return J}),t.d(a,"Q",function(){return q}),t.d(a,"ub",function(){return K}),t.d(a,"cb",function(){return X}),t.d(a,"bb",function(){return Z}),t.d(a,"hb",function(){return $}),t.d(a,"lb",function(){return ee}),t.d(a,"fb",function(){return ae}),t.d(a,"jb",function(){return te}),t.d(a,"gb",function(){return re}),t.d(a,"Y",function(){return ne}),t.d(a,"W",function(){return se}),t.d(a,"X",function(){return le}),t.d(a,"mb",function(){return ie}),t.d(a,"nb",function(){return oe}),t.d(a,"kb",function(){return ce}),t.d(a,"ob",function(){return ue}),t.d(a,"Z",function(){return de}),t.d(a,"Ab",function(){return me}),t.d(a,"wb",function(){return pe}),t.d(a,"eb",function(){return fe}),t.d(a,"xb",function(){return ge}),t.d(a,"yb",function(){return Ee}),t.d(a,"zb",function(){return Se}),t.d(a,"M",function(){return Ae}),t.d(a,"t",function(){return be}),t.d(a,"f",function(){return Pe}),t.d(a,"L",function(){return Re}),t.d(a,"K",function(){return Ie}),t.d(a,"N",function(){return ve}),t.d(a,"a",function(){return Oe}),t.d(a,"ab",function(){return Te}),t.d(a,"qb",function(){return Ce}),t.d(a,"sb",function(){return Fe}),t.d(a,"vb",function(){return je}),t.d(a,"pb",function(){return Me}),t.d(a,"db",function(){return we}),t.d(a,"rb",function(){return Be})},1300:function(e,a,t){"use strict";var r=t(43),n=t(1251),s=t(102);const l={data:[],pageCount:null,loading:!1,searchText:"",parametres:{page:1,search:[],societe:"",filter:{id:"created",direction:"desc"}}};var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case n.v:return{...e,loading:!0};case n.h:return{...e,data:a.payload["hydra:member"],pageCount:s.a.hydraPageCount(a.payload),loading:!1};case n.O:return{...e,searchText:a.searchText};case n.P:return{...e,parametres:{page:a.parametres.page,societe:a.parametres.societe,search:a.parametres.search,filter:{id:a.parametres.filter.id,direction:a.parametres.filter.direction}}};default:return e}};const o={pays:null,sousSecteurs:null,loading:!1,requestFournisseur:!1,villes:null,error:null,data:null,fournisseurReqInProgress:!1,avatar:null,fournisseur_deleted:null,loadingAddVille:!1,villeAdded:!1,loadingAddSecteurs:!1,loadingSecteurs:!1,loadingProduit:!1,loadingSousSecteurs:!1,secteurs:[],sousSecteurs:[],produit:null,produits:[],pageCount:null,totalItems:0,loadingProduits:!1,parametres:{page:1,reference:"",search:[],filter:{id:"created",direction:"desc"}},abonnements:[],totalItemsAb:0,loadingAb:!1,jetons:[],totalItemsJt:0,loadingJt:!1,blacklistes:[],totalItemsBl:0,loadingBl:!1};var c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case n.s:return{...e,loadingBl:!0};case n.e:return{...e,blacklistes:a.payload["hydra:member"],totalItemsBl:a.payload["hydra:totalItems"],loadingBl:!1};case n.w:return{...e,loadingJt:!0};case n.i:return{...e,jetons:a.payload["hydra:member"],totalItemsJt:a.payload["hydra:totalItems"],loadingJt:!1};case n.o:return{...e,loadingAb:!0};case n.d:return{...e,abonnements:a.payload["hydra:member"],totalItemsAb:a.payload["hydra:totalItems"],loadingAb:!1};case n.y:return{...e,loadingProduits:!0};case n.k:return{...e,produits:a.payload["hydra:member"],pageCount:s.a.hydraPageCount(a.payload),totalItems:a.payload["hydra:totalItems"],loadingProduits:!1};case n.p:return{...e,loadingProduit:!0};case n.D:return{...e,loadingProduit:!1,produit:a.payload};case n.H:return{...e,loadingProduit:!1};case n.q:return{...e,loadingAddSecteurs:!0};case n.E:case n.I:return{...e,loadingAddSecteurs:!1};case n.z:return{...e,loadingSecteurs:!0,sousSecteurs:[]};case n.A:return{...e,loadingSousSecteurs:!0};case n.l:return{...e,secteurs:a.payload["hydra:member"],loadingSecteurs:!1};case n.m:return{...e,sousSecteurs:a.payload["hydra:member"],loadingSousSecteurs:!1};case n.r:return{...e,loadingAddVille:!0};case n.F:return{...e,loadingAddVille:!1,villeAdded:!0};case n.J:return{...e,loadingAddVille:!1};case n.c:return{...e,villeAdded:!1};case n.b:return{...e,pays:null,sousSecteurs:null,loading:!1,requestFournisseur:!1,villes:null,error:null,data:null,fournisseurReqInProgress:!1,avatar:null,fournisseur_deleted:null,loadingSecteurs:!1,secteurs:[]};case n.B:case n.x:return{...e,loading:!0};case n.u:return{...e,requestFournisseur:!0};case n.C:return{...e,villes:null};case n.g:return{...e,data:a.payload,requestFournisseur:!1,error:null};case n.j:return{...e,pays:a.payload,loading:!1};case n.n:return{...e,villes:[...a.payload,{"@id":"/api/villes/113",name:"Autre"}]};case n.R:return{...e,loading:!1,data:a.payload,error:null};case n.G:return{...e,loading:!1,error:a.payload,success:!1,redirect_success:""};case n.U:return{...e,fournisseurReqInProgress:!0};case n.S:return{...e,avatar:a.payload,fournisseurReqInProgress:!1};case n.T:return{...e,fournisseurReqInProgress:!1};case n.Q:return{...e,parametres:{page:a.parametres.page,search:a.parametres.search,reference:a.parametres.reference,filter:{id:a.parametres.filter.id,direction:a.parametres.filter.direction}}};default:return e}};const u={searchText:"",suggestions:[],loading:!1,opened:!1,noSuggestions:!1};var d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case n.a:return{...e,suggestions:[],noSuggestions:!1};case n.t:return{...e,loading:!0,suggestions:[],noSuggestions:!1};case n.f:{const t=a.payload["hydra:member"],r=0===t.length;return{...e,suggestions:t,noSuggestions:r,loading:!1}}case n.M:return{...e,searchText:a.searchText};case n.L:return{...e,opened:!0};case n.K:return{...e,opened:!1,searchText:""};case n.N:return{...e,opened:!1};default:return e}},m=t(33);const p={state:!1,options:{children:"Hi"}};var f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m.f:return{...e,state:!0,options:{...e.options,...a.options}};case m.a:return{...e,state:!1};default:return e}};const g=Object(r.d)({fournisseurs:i,searchCategories:d,fournisseur:c,dialog:f});a.a=g},1500:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(89),l=t(1204),i=t(1130),o=t(1236),c=t(1219),u=t(1232),d=t(1231),m=t(1212),p=t(1221),f=t(1160),g=t(1151),E=t(1140),S=t(1157),h=t(39),N=t(7),y=t(136),A=t(1251),b=t(1300),P=t(10),R=t(51),I=t.n(R),v=t(1224),O=t(16),U=t(59),x=t.n(U),D=t(365);const T=Object(S.a)(e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},chip:{marginLeft:e.spacing(1),padding:2,background:"#ef5350",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chip2:{marginLeft:e.spacing(1),padding:2,background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chipOrange:{marginLeft:e.spacing(1),padding:2,background:"#ff9800",color:"white",fontWeight:"bold",fontSize:"11px",height:20},blue:{marginLeft:e.spacing(1),padding:2,background:"#3490dc",color:"white",fontWeight:"bold",fontSize:"11px",height:20}}));a.default=Object(y.a)("FournisseurDetailsApp",b.a)(function(e){const a=Object(N.b)(),t=T(),S=Object(N.c)(e=>{let{FournisseurDetailsApp:a}=e;return a.fournisseur}),[y,b]=Object(r.useState)(0),R=e.match.params,{fournisseurId:U}=R;Object(r.useEffect)(()=>(a(A.hb(U)),a(A.fb(U)),a(A.jb(U)),a(A.gb(U)),()=>{a(A.cb())}),[a,U]),Object(r.useEffect)(()=>{U&&a(A.lb(U,S.parametres))},[a,S.parametres,U]);const C=P.a.debounce(e=>a(A.ub(e)),1e3);return n.a.createElement(h.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:S.requestFournisseur?n.a.createElement(v.a,{color:"secondary"}):S.data&&n.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},n.a.createElement("div",{className:"flex flex-col items-start max-w-full"},n.a.createElement(h.d,{animation:"transition.slideRightIn",delay:300},n.a.createElement(s.a,{className:"normal-case flex items-center sm:mb-12",component:O.a,role:"button",to:"/users/fournisseurs",color:"inherit"},n.a.createElement(l.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),n.a.createElement("div",{className:"flex items-center max-w-full"},n.a.createElement(h.d,{animation:"transition.expandIn",delay:300},S.data.avatar?n.a.createElement(i.a,{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",alt:"user photo",src:h.G+S.data.avatar.url}):n.a.createElement(i.a,{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded"},S.data.firstName[0])),n.a.createElement("div",{className:"flex flex-col min-w-0"},n.a.createElement(h.d,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(s.a,{className:"text-16 sm:text-20 truncate"},S.data.firstName&&S.data.lastName?S.data.firstName+" "+S.data.lastName:"NOM & Pr\xe9nom")),n.a.createElement(h.d,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(s.a,{variant:"caption"},S.data.societe?S.data.societe:"Soci\xe9t\xe9"," ",S.data.email?" | "+S.data.email:"")))))),contentToolbar:S.requestFournisseur?n.a.createElement("div",{className:t.root},n.a.createElement(v.a,{color:"secondary"})):S.data&&n.a.createElement(o.a,{value:y,onChange:function(e,a){b(a)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},n.a.createElement(c.a,{className:"h-64 normal-case",label:"Infos soci\xe9t\xe9"}),n.a.createElement(c.a,{className:"h-64 normal-case",label:"Produits "+(S.loadingProduits?"( chargement... )":S.totalItems>100?"( +99 )":"( "+S.totalItems+" )")}),n.a.createElement(c.a,{className:"h-64 normal-case",label:"Abonnements "+(S.loadingAb?"( chargement... )":S.totalItemsAb>100?"( +99 )":"( "+S.totalItemsAb+" )")}),n.a.createElement(c.a,{className:"h-64 normal-case",label:"Jetons "+(S.loadingJt?"( chargement... )":S.totalItemsJt>100?"( +99 )":"( "+S.totalItemsJt+" )")}),n.a.createElement(c.a,{className:"h-64 normal-case",label:"Blacklistes "+(S.loadingBl?"( chargement... )":S.totalItemsBl>100?"( +99 )":"( "+S.totalItemsBl+" )")})),content:S.requestFournisseur?"":S.data&&n.a.createElement("div",{className:" sm:p-10 max-w-2xl"},0===y&&n.a.createElement(I.a,{className:"flex flex-col"},n.a.createElement(u.a,{container:!0,spacing:3,className:"mb-5"},n.a.createElement(u.a,{item:!0,xs:12,sm:4},n.a.createElement("div",{className:"flex"},n.a.createElement(h.F,{className:"",type:"text",name:"fullname",value:S.data.civilite+" "+S.data.firstName+" "+S.data.lastName,label:"Nom complet",InputProps:{readOnly:!0},fullWidth:!0}))),n.a.createElement(u.a,{item:!0,xs:12,sm:4},n.a.createElement("div",{className:"flex"},n.a.createElement(h.F,{className:"",name:"email",value:S.data.email,label:"Email",fullWidth:!0,InputProps:{readOnly:!0,endAdornment:n.a.createElement(d.a,{position:"end"},n.a.createElement(l.a,{className:"text-20",color:"action"},"email"))}}))),n.a.createElement(u.a,{item:!0,xs:12,sm:4},n.a.createElement(h.F,{className:"",type:"text",name:"phonep",id:"phonep",value:S.data.phone,label:"T\xe9l\xe9phone",InputProps:{readOnly:!0,endAdornment:n.a.createElement(d.a,{position:"end"},n.a.createElement(l.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),n.a.createElement(m.a,null),n.a.createElement(u.a,{container:!0,spacing:3,className:"mb-5"},n.a.createElement(u.a,{item:!0,xs:12,sm:8},n.a.createElement("div",{className:"flex"},n.a.createElement(h.F,{className:"mt-20",label:"Raison sociale",id:"societe",name:"societe",value:S.data.societe,fullWidth:!0,InputProps:{readOnly:!0}}))),n.a.createElement(u.a,{item:!0,xs:12,sm:4},n.a.createElement("div",{className:"flex"},n.a.createElement(h.F,{className:"mt-20",name:"fix",value:S.data.fix,label:"Fixe",InputProps:{readOnly:!0,endAdornment:n.a.createElement(d.a,{position:"end"},n.a.createElement(l.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),n.a.createElement(u.a,{item:!0,xs:12,sm:8},n.a.createElement(h.F,{id:"produits",className:"",name:"produits",label:"Produits",value:S.data.categories?P.a.join(P.a.map(S.data.categories,"name"),", "):"",fullWidth:!0,InputProps:{readOnly:!0}})),n.a.createElement(u.a,{item:!0,xs:12,sm:4},n.a.createElement("div",{className:"flex"},n.a.createElement(h.F,{id:"website",className:"",type:"text",name:"website",value:S.data.website,label:"Site Web",InputProps:{readOnly:!0,endAdornment:n.a.createElement(d.a,{position:"end"},n.a.createElement(l.a,{className:"text-20",color:"action"},"language"))},fullWidth:!0}))),n.a.createElement(u.a,{item:!0,xs:12,sm:8},n.a.createElement("div",{className:"flex"},S.data.ice?n.a.createElement(h.F,{className:"",type:"text",name:"ice",id:"ice",value:S.data.ice,label:"ICE",fullWidth:!0,InputProps:{readOnly:!0}}):""))),n.a.createElement(m.a,null),n.a.createElement(u.a,{container:!0,spacing:3,className:"mb-5"},n.a.createElement(u.a,{item:!0,xs:12,sm:8},n.a.createElement("div",{className:"flex"},n.a.createElement(h.F,{className:"mt-20",type:"text",name:"adresse1",id:"adresse1",value:S.data.adresse1,label:"Adresse 1",InputProps:{readOnly:!0,endAdornment:n.a.createElement(d.a,{position:"end"},n.a.createElement(l.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),n.a.createElement(u.a,{item:!0,xs:12,sm:4},n.a.createElement(h.F,{className:"mt-20",type:"text",name:"pays",id:"pays",value:S.data.pays?S.data.pays.name:"",label:"Pays",InputProps:{readOnly:!0},fullWidth:!0})),n.a.createElement(u.a,{item:!0,xs:12,sm:4},n.a.createElement("div",{className:"flex"},n.a.createElement(h.F,{className:"",type:"text",name:"adresse2",value:S.data.adresse2,label:"Adresse 2",InputProps:{readOnly:!0,endAdornment:n.a.createElement(d.a,{position:"end"},n.a.createElement(l.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),n.a.createElement(u.a,{item:!0,xs:12,sm:4},n.a.createElement("div",{className:"flex"},n.a.createElement(h.F,{className:"",name:"codepostal",value:String(S.data.codepostal),label:"Code Postal",fullWidth:!0,InputProps:{readOnly:!0}}))),n.a.createElement(u.a,{item:!0,xs:12,sm:4},n.a.createElement(h.F,{className:"",type:"text",name:"ville",id:"ville",value:S.data.ville?S.data.ville.name:"",label:"Ville",InputProps:{readOnly:!0},fullWidth:!0}))),n.a.createElement(m.a,null),n.a.createElement(u.a,{container:!0,spacing:3},n.a.createElement(u.a,{item:!0,xs:12,sm:12},n.a.createElement(h.F,{className:"mb-5 mt-20  w-full",type:"text",name:"description",value:S.data.description,label:"Pr\xe9sentation",multiline:!0,rows:"10",InputProps:{readOnly:!0}})))),1===y&&n.a.createElement(D.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTheadProps:(e,a,t)=>({className:"h-64 font-bold"}),data:S.produits,columns:[{Header:"",accessor:"featuredImageId",Cell:e=>e.original.featuredImageId?n.a.createElement("img",{className:"w-full block rounded",src:h.G+e.original.featuredImageId.url,alt:e.original.reference}):n.a.createElement("img",{className:"w-full block rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:e.original.reference}),className:"justify-center",width:64,sortable:!1,filterable:!1},{Header:"Ref",accessor:"reference",className:"justify-center",filterable:!0,Cell:e=>n.a.createElement(p.a,{title:"Voir le produit"},n.a.createElement(O.a,{target:"_blank",to:"/products/"+e.original.id,onClick:e=>e.stopPropagation()},e.original.reference&&e.original.reference))},{Header:"Statut",accessor:"isValid",className:"justify-center",filterable:!0,Cell:e=>n.a.createElement("div",{className:"flex items-center"},e.original.isValid?n.a.createElement(f.a,{className:t.chip2,label:"Publi\xe9"}):n.a.createElement(f.a,{className:t.chipOrange,label:"En attente"}),e.original.isSelect?n.a.createElement(f.a,{className:t.chip2,label:"Produit de la semaine"}):""),Filter:e=>{let{filter:a,onChange:t}=e;return n.a.createElement("select",{onChange:e=>t(e.target.value),style:{width:"100%"},value:a?a.value:""},n.a.createElement("option",{value:""},"Tous"),n.a.createElement("option",{value:"true"},"Publi\xe9"),n.a.createElement("option",{value:"false"},"En attente"))}},{Header:"Titre",accessor:"titre",className:"justify-center",filterable:!0},{Header:"Secteur",className:"justify-center",filterable:!0,accessor:"secteur.name",Cell:e=>e.original.secteur?e.original.secteur.name:"N/A"},{Header:"Activit\xe9",className:"justify-center",filterable:!0,accessor:"sousSecteurs.name",Cell:e=>e.original.sousSecteurs?e.original.sousSecteurs.name:"N/A"},{Header:"Produit",className:"justify-center",filterable:!0,accessor:"categorie.name",Cell:e=>e.original.categorie?e.original.categorie.name:"N/A"},{Header:"Date de cr\xe9ation",filterable:!0,className:"justify-center",accessor:"created",Cell:e=>x()(e.original.created).format("DD/MM/YYYY"),Filter:e=>{let{filter:a,onChange:t}=e;return n.a.createElement(g.a,{onChange:e=>t(e.target.value),style:{width:"100%"},value:a?a.value:"",type:"date",InputLabelProps:{shrink:!0}})}}],manual:!0,pages:S.pageCount,defaultPageSize:10,loading:S.loadingProduits,showPageSizeOptions:!1,onPageChange:e=>{S.parametres.page=e+1,a(A.tb(S.parametres))},onSortedChange:(e,t,r)=>{S.parametres.page=1,S.parametres.filter.id=e[0].id,S.parametres.filter.direction=e[0].desc?"desc":"asc",a(A.tb(S.parametres))},onFilteredChange:e=>{S.parametres.page=1,S.parametres.search=e,C(S.parametres)},noDataText:"Aucun produit trouv\xe9",loadingText:"Chargement...",ofText:"sur"}),2===y&&n.a.createElement(D.b,{className:"-striped -highlight sm:rounded-16 overflow-hidden",getTrProps:(e,a,t)=>({className:"h-64"}),getTheadProps:(e,a,t)=>({className:"h-64 font-bold"}),data:S.abonnements,columns:[{Header:"Offre",className:"font-bold justify-center",sortable:!1,id:"offre",accessor:e=>e.offre.name},{Header:"Activit\xe9s",accessor:"sousSecteurs.name",className:"justify-center",Cell:e=>n.a.createElement(p.a,{title:P.a.join(P.a.map(e.original.sousSecteurs,"name"),", ")},n.a.createElement(f.a,{className:t.chip2,label:e.original.sousSecteurs.length}))},{Header:"Date de cr\xe9ation",className:"justify-center",accessor:"created",sortable:!1,filterable:!1,Cell:e=>x()(e.original.created).format("DD/MM/YYYY")},{Header:"Renouvellement",className:"justify-center",sortable:!1,accessor:"expired",filterable:!1,Cell:e=>e.original.expired&&x()(e.original.expired).format("DD/MM/YYYY")},{Header:"Statut",className:"justify-center",sortable:!1,filterable:!1,Cell:e=>n.a.createElement("div",{className:"flex items-center"},!1===e.original.statut?e.original.expired&&void 0!==e.original.expired?x()(e.original.expired)>=x()()?n.a.createElement(f.a,{className:t.chip,label:"Annul\xe9e"}):n.a.createElement(f.a,{className:t.chip,label:"Expir\xe9"}):n.a.createElement(f.a,{className:t.chipOrange,label:"En attente"}):x()(e.original.expired)>=x()()?n.a.createElement(f.a,{className:t.chip2,label:"En cours"}):n.a.createElement(f.a,{className:t.chip,label:"Expir\xe9"}))},{Header:"",className:"justify-center",accessor:"type",Cell:e=>n.a.createElement("div",{className:"flex items-center"},!1===e.original.type?n.a.createElement(f.a,{className:t.blue,label:"Nouvelle"}):n.a.createElement(f.a,{className:t.chip2,label:"Renouvellement"}))},{Header:"",Cell:a=>n.a.createElement("div",{className:"flex items-center"},(x()(a.original.expired)>=x()()||!a.original.expired)&&n.a.createElement(p.a,{title:"Editer"},n.a.createElement(E.a,{className:"text-orange text-20",onClick:()=>e.history.push("/admin/offres/abonnement/"+a.original.id)},n.a.createElement(l.a,null,"edit"))),!0===a.original.statut&&x()(a.original.expired).diff(x()(),"month",!0)<=1&&x()(a.original.expired).diff(x()(),"month",!0)>0&&n.a.createElement(p.a,{title:"Renouveler"},n.a.createElement(E.a,{onClick:()=>{e.history.push("/admin/offres/renouvellement/"+a.original.id+"/1")},className:"text-teal text-20"},n.a.createElement(l.a,null,"autorenew"))),!0===a.original.statut&&x()(a.original.expired)<x()()&&n.a.createElement(p.a,{title:"Dupliquer"},n.a.createElement(E.a,{onClick:()=>{e.history.push("/admin/offres/renouvellement/"+a.original.id+"/2")},className:"text-green-700 text-20"},n.a.createElement(l.a,null,"file_copy"))))}],defaultPageSize:10,loading:S.loadingAb,noDataText:"Pas d'abonnement trouv\xe9",loadingText:"Chargement...",ofText:"sur"}),3===y&&n.a.createElement(D.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTheadProps:(e,a,t)=>({className:"h-64 font-bold"}),data:S.jetons,columns:[{Header:"Nombre de jetons",className:"justify-center font-bold",accessor:"nbrJeton"},{Header:"Mode de paiement",className:"justify-center",accessor:"paiement.name",Cell:e=>e.original.paiement?e.original.paiement.name:""},{Header:"Prix",className:"justify-center",accessor:"prix",Cell:e=>parseFloat(e.original.prix).toLocaleString("fr",{minimumFractionDigits:2})+" Dhs "},{Header:"Etat",className:"justify-center",accessor:"isPayed",Cell:e=>e.original.isPayed?n.a.createElement(f.a,{className:t.chip2,label:"Pay\xe9"}):n.a.createElement(f.a,{className:t.chipOrange,label:"En attente"})},{Header:"Date de cr\xe9ation",className:"justify-center",accessor:"created",Cell:e=>x()(e.original.created).format("DD/MM/YYYY HH:mm")}],defaultPageSize:10,loading:S.loadingJt,noDataText:"Aucun jeton trouv\xe9",loadingText:"Chargement...",ofText:"sur"}),4===y&&n.a.createElement(D.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTheadProps:(e,a,t)=>({className:"h-64 font-bold"}),data:S.blacklistes,columns:[{Header:"Acheteur",className:"font-bold justify-center",filterable:!0,accessor:"acheteur",Cell:e=>n.a.createElement(p.a,{title:"D\xe9tails de l'acheteur"},n.a.createElement(O.a,{target:"_blank",to:"/users/acheteur/show/"+e.original.acheteur.id,onClick:e=>e.stopPropagation()},e.original.acheteur.societe&&e.original.acheteur.societe))},{Header:"Raison",accessor:"raison",filterable:!0,className:"justify-center"},{Header:"Date de Blackliste",className:"justify-center",id:"created",accessor:e=>x()(e.created).format("DD/MM/YYYY HH:mm")},{Header:"Date de D\xe9blackliste",className:"justify-center",id:"deblacklister",accessor:e=>e.deblacklister?x()(e.deblacklister).format("DD/MM/YYYY HH:mm"):""},{Header:"Etat",className:"justify-center",accessor:"etat",Cell:e=>e.original.etat?"Blacklist\xe9":"Retir\xe9"}],defaultPageSize:10,loading:S.loadingBl,noDataText:"Aucun fournisseur blacklist\xe9",ofText:"sur"})),innerScroll:!0})})}}]);