(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{1242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=n},1279:function(e,t,a){"use strict";var n=a(33),r=a(50),o=a(200);const s="[CONTACTS FOURNISSEUR APP] REQUEST CONTACTS",i="[CONTACTS FOURNISSEUR APP] REMOVE CONTACTS",c="[CONTACTS FOURNISSEUR APP] SET PARAMETRES DATA",l="[CONTACTS FOURNISSEUR APP] GET CONTACTS",u="[CONTACTS FOURNISSEUR APP] SET CONTACTS SEARCH TEXT";function d(e){var t="";e.search.length>0&&e.search.map(e=>e.value&&("created"===e.id?t+="&"+e.id+"[after]="+e.value:t+="&"+e.id+"="+e.value));const a=r.a.get("/api/contact_fournisseurs?page=".concat(e.page).concat(t,"&order[").concat(e.filter.id,"]=").concat(e.filter.direction));return e=>(e({type:s}),a.then(t=>e({type:l,payload:t.data})))}function m(e,t){let a={del:!0};return(c,l)=>{const u=r.a.put("/api/contact_fournisseurs/".concat(e.id),a);return c({type:s}),u.then(e=>Promise.all([c({type:i}),c(o.b("message-fournisseur")),c(Object(n.B)({message:"Message bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>c(d(t))))}}function p(e){return{type:c,parametres:e}}var f=a(39);const E="[CONTACT FOURNISSEUR APP] REQUEST CONTACT",g="[CONTACT FOURNISSEUR APP] GET CONTACT",h="[CONTACT FOURNISSEUR APP] REQUEST SAVE",b="[CONTACT FOURNISSEUR APP] SAVE ERROR",O="[CONTACT FOURNISSEUR APP] CLEAN_ERROR",y="[CONTACT FOURNISSEUR APP] CLEAN_UP";function N(){return e=>e({type:O})}function T(e){const t=r.a.get("/api/contact_fournisseurs/".concat(e));return e=>(e({type:E}),t.then(t=>{e({type:g,payload:t.data})}).catch(t=>{e({type:b,payload:f.y.parseApiErrors(t)})}))}function v(e,t,a){const s=r.a.put("/api/contact_fournisseurs/".concat(t),e);return e=>(e({type:h}),s.then(t=>{e(o.b("message-fournisseur")),e(Object(n.B)({message:"Message Modifi\xe9"})),a.push("/contact_fournisseur")}).catch(t=>{e({type:b,payload:f.y.parseApiErrors(t)})}))}const C="[DIALOG] OPEN",S="[DIALOG] CLOSE";function A(){return{type:S}}function x(e){return{type:C,options:e}}a.d(t,"f",function(){return s}),a.d(t,"j",function(){return c}),a.d(t,"d",function(){return l}),a.d(t,"i",function(){return u}),a.d(t,"n",function(){return d}),a.d(t,"q",function(){return m}),a.d(t,"r",function(){return p}),a.d(t,"e",function(){return E}),a.d(t,"c",function(){return g}),a.d(t,"g",function(){return h}),a.d(t,"h",function(){return b}),a.d(t,"a",function(){return O}),a.d(t,"b",function(){return y}),a.d(t,"k",function(){return N}),a.d(t,"m",function(){return T}),a.d(t,"p",function(){return v}),a.d(t,"l",function(){return A}),a.d(t,"o",function(){return x})},1343:function(e,t,a){"use strict";var n=a(43),r=a(1279);const o={data:null,error:null,loading:!1};var s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:return{...o};case r.a:return{...e,error:null};case r.e:case r.g:return{...e,loading:!0};case r.c:return{...e,data:t.payload,loading:!1};case r.h:return{...e,error:t.payload,loading:!1};default:return e}},i=a(102);const c={data:[],pageCount:null,loading:!1,searchText:"",parametres:{page:1,search:[],filter:{id:"created",direction:"desc"}}};var l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.f:return{...e,loading:!0};case r.d:return{...e,data:t.payload["hydra:member"],pageCount:i.a.hydraPageCount(t.payload),loading:!1};case r.i:return{...e,searchText:t.searchText};case r.j:return{...e,parametres:{page:t.parametres.page,search:t.parametres.search,filter:{id:t.parametres.filter.id,direction:t.parametres.filter.direction}}};default:return e}},u=a(33);const d={state:!1,options:{children:"Hi"}};var m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.f:return{...e,state:!0,options:{...e.options,...t.options}};case u.a:return{...e,state:!1};default:return e}};const p=Object(n.d)({contactsFournisseur:l,contactFournisseur:s,dialog:m});t.a=p},1513:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(89),s=a(1204),i=a(1227),c=a(1233),l=a(1224),u=a(1236),d=a(1219),m=a(1232),p=a(1212),f=a(1231),E=a(163),g=a(1157),h=a(39),b=a(137),O=a(16),y=a(10),N=a(7),T=a(136),v=a(1279),C=a(1343),S=a(51),A=a.n(S),x=a(1242),R=a.n(x);const P=Object(g.a)(e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},buttonProgress:{color:R.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},contactFournisseurImageFeaturedStar:{position:"absolute",top:0,right:0,color:E.a[400],opacity:0},contactFournisseurImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},select:{zIndex:999},contactFournisseurImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $contactFournisseurImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $contactFournisseurImageFeaturedStar":{opacity:1},"&:hover $contactFournisseurImageFeaturedStar":{opacity:1}}}}));t.default=Object(T.a)("contactsFournisseurApp",C.a)(function(e){const t=Object(N.b)(),a=Object(N.c)(e=>{let{contactsFournisseurApp:t}=e;return t.contactFournisseur}),[E,g]=Object(n.useState)(!1),T=Object(n.useRef)(null),{form:C,handleChange:S,setForm:x}=Object(b.b)(),R=P(e),[F,I]=Object(n.useState)(0);function U(){g(!1)}function w(){t(v.p(C,C.id,e.history))}return Object(n.useEffect)(()=>{if(a.error&&(a.error.statut||a.error.email||a.error.message||a.error.contact||a.error.phone))return T.current.updateInputsWithError({...a.error}),U(),()=>{t(v.k())}},[a.error]),Object(n.useEffect)(()=>{!function(){const a=e.match.params,{messageId:n}=a;t(v.m(n))}()},[t,e.match.params]),Object(n.useEffect)(()=>{(a.data&&!C||a.data&&C&&a.data.id!==C.id)&&x({...a.data})},[C,a.data,x]),r.a.createElement(h.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:a.loading?"":C&&r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex flex-col items-start max-w-full"},r.a.createElement(h.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(o.a,{className:"normal-case flex items-center sm:mb-12",component:O.a,role:"button",to:"/contact_fournisseur",color:"inherit"},r.a.createElement(s.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),r.a.createElement("div",{className:"flex items-center max-w-full"},r.a.createElement("div",{className:"flex flex-col min-w-0"},r.a.createElement(h.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(o.a,{className:"text-16 sm:text-20 truncate"},C.fournisseur?"Message pour le fournisseur: "+C.fournisseur.societe:"")),r.a.createElement(h.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(o.a,{variant:"caption"},"D\xe9tails du message"," "))))),r.a.createElement(h.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(i.a,{className:"whitespace-no-wrap",variant:"contained",color:"secondary",type:"submit",disabled:!E||a.loading,onClick:()=>w()},"Sauvegarder",a.loading&&r.a.createElement(c.a,{size:24,className:R.buttonProgress})))),contentToolbar:a.loading?r.a.createElement("div",{className:R.root},r.a.createElement(l.a,{color:"secondary"})):r.a.createElement(u.a,{value:F,onChange:function(e,t){I(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},r.a.createElement(d.a,{className:"h-64 normal-case",label:"D\xe9tails de la demande de devis"})),content:a.loading?"":C&&r.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},0===F&&r.a.createElement(A.a,{onValidSubmit:w,onValid:function(){g(!0)},onInvalid:U,ref:T,className:"flex pt-10 flex-col "},r.a.createElement(m.a,{container:!0,spacing:3,className:"mb-5"},r.a.createElement(m.a,{item:!0,xs:12,sm:12},r.a.createElement(h.F,{label:"Fournisseur",id:"fournisseur",name:"fournisseur",value:C.fournisseur?C.fournisseur.societe:"",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0,disabled:!0}))),r.a.createElement(p.a,null),r.a.createElement(m.a,{container:!0,spacing:3,className:"mt-5 mb-5"},r.a.createElement(m.a,{item:!0,xs:12,sm:4},r.a.createElement(h.F,{type:"text",name:"contact",value:C.contact,onChange:S,label:"NOM & Pr\xe9nom",disabled:!0,InputProps:{readOnly:!0,endAdornment:r.a.createElement(f.a,{position:"end"},r.a.createElement(s.a,{className:"text-20",color:"action"},"person"))},variant:"outlined",fullWidth:!0})),r.a.createElement(m.a,{item:!0,xs:12,sm:4},r.a.createElement(h.F,{type:"text",name:"email",label:"Email",value:C.email,onChange:S,InputProps:{readOnly:!0,endAdornment:r.a.createElement(f.a,{position:"end"},r.a.createElement(s.a,{className:"text-20",color:"action"},"email"))},disabled:!0,variant:"outlined",fullWidth:!0})),r.a.createElement(m.a,{item:!0,xs:12,sm:4},r.a.createElement(h.F,{className:"mb-16",value:C.phone,onChange:S,type:"text",name:"phone",label:"T\xe9l\xe9phone",disabled:!0,InputProps:{readOnly:!0,endAdornment:r.a.createElement(f.a,{position:"end"},r.a.createElement(s.a,{className:"text-20",color:"action"},"local_phone"))},variant:"outlined",fullWidth:!0}))),r.a.createElement(h.F,{className:"mb-16  w-full",type:"text",name:"message",value:C.message,onChange:S,label:"Message",validations:{minLength:10},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 10"},variant:"outlined",multiline:!0,rows:"4",required:!0}),r.a.createElement(m.a,{container:!0,spacing:3,className:"flex items-center"},r.a.createElement(m.a,{item:!0,xs:12,sm:12,className:"flex items-center"},r.a.createElement(h.a,{name:"statut",onChange:e=>(function(e,t){x(y.a.set({...C},t,e.target.checked))})(e,"statut"),label:"Valider et alerter le fournisseur",value:C.statut}),r.a.createElement(i.a,{className:"ml-4",variant:"contained",color:"secondary",type:"submit",disabled:!E||a.loading,onClick:()=>w()},"Sauvegarder",a.loading&&r.a.createElement(c.a,{size:24,className:R.buttonProgress})))))),innerScroll:!0})})}}]);