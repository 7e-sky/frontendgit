(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1096:function(e,t,r){"use strict";var n=r(54),a="[PRODUITS SELECTED APP] REQUEST PRODUITS",u="[PRODUITS SELECTED APP] CLEAN_UP",o="[PRODUITS SELECTED APP] GET PRODUITS";function i(){return function(e){return e({type:u})}}function c(){var e=n.a.get("/api/select_produits");return function(t){return t({type:a}),e.then(function(e){return t({type:o,payload:e.data["hydra:member"]})})}}var s=r(40),l=r(36),d="[PRODUIT_SELECTED APP] REQUEST PRODUIT_SELECTED",f="[PRODUIT_SELECTED APP] GET PRODUIT_SELECTED",E="[PRODUIT_SELECTED APP] REQUEST_FOURNISSEUR_SELECTED",p="[PRODUIT_SELECTED APP] GET_FOURNISSEUR_SELECTED",g="[PRODUIT_SELECTED APP] REQUEST CATEGORIE_SELECTED",P="[PRODUIT_SELECTED APP] GET CATEGORIE_SELECTED",m="[PRODUIT_SELECTED APP] REQUEST_PRODUCTS_F",T="[PRODUIT_SELECTED APP] GET_PRODUCTS_F",y="[PRODUIT_SELECTED APP] REQUEST SAVE",O="[PRODUIT_SELECTED APP] SAVE PRODUIT_SELECTED",h="[PRODUIT_SELECTED APP] SAVE ERROR";function S(e){var t=n.a.get("/api/select_produits/".concat(e));return function(e){return e({type:d}),t.then(function(t){e({type:f,payload:t.data})}).catch(function(t){e({type:h,payload:s.y.parseApiErrors(t)})})}}function b(){var e=n.a.get("/api/fournisseurselected");return function(t){return t({type:E}),e.then(function(e){t({type:p,payload:e.data})}).catch(function(e){t({type:h,payload:s.y.parseApiErrors(e)})})}}function D(e){var t=n.a.get("/api/fournisseurcategories?id=".concat(e));return function(e){return e({type:g}),t.then(function(t){e({type:P,payload:t.data})}).catch(function(t){e({type:h,payload:s.y.parseApiErrors(t)})})}}function R(e,t){var r=n.a.get("/api/produits?fournisseur=".concat(e,"&categorie=").concat(t));return function(e){return e({type:m}),r.then(function(t){e({type:T,payload:t.data["hydra:member"]})}).catch(function(t){e({type:h,payload:s.y.parseApiErrors(t)})})}}function A(e,t){var r=n.a.put(t,{produit:e});return function(e){return e({type:y}),r.then(function(t){return e(Object(l.B)({message:"Succ\xe8s"})),e({type:O,payload:t.data})}).catch(function(t){e({type:h,payload:s.y.parseApiErrors(t)})})}}r.d(t,"k",function(){return a}),r.d(t,"a",function(){return u}),r.d(t,"e",function(){return o}),r.d(t,"p",function(){return i}),r.d(t,"s",function(){return c}),r.d(t,"l",function(){return d}),r.d(t,"f",function(){return f}),r.d(t,"i",function(){return E}),r.d(t,"c",function(){return p}),r.d(t,"b",function(){return P}),r.d(t,"j",function(){return m}),r.d(t,"d",function(){return T}),r.d(t,"m",function(){return y}),r.d(t,"o",function(){return O}),r.d(t,"n",function(){return h}),r.d(t,"q",function(){return S}),r.d(t,"r",function(){return b}),r.d(t,"g",function(){return D}),r.d(t,"h",function(){return R}),r.d(t,"t",function(){return A})},1167:function(e,t,r){"use strict";var n=r(46),a=r(8),u=r(1096),o={data:[],loading:!1,searchText:""},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.a:return Object(a.a)({},e,{data:[]});case u.k:return Object(a.a)({},e,{loading:!0});case u.e:return Object(a.a)({},e,{data:t.payload,loading:!1});default:return e}},c={data:null,fournisseurs:null,categories:null,products:null,error:null,loadingFournisseurs:!1,loadingProducts:!1,loading:!1,success:!1,imageReqInProgress:!1,deleteReqInProgress:!1,image:null,image_deleted:null},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.l:return Object(a.a)({},e,{loading:!0});case u.m:return Object(a.a)({},e,{loadingProducts:!0});case u.i:return Object(a.a)({},e,{loadingFournisseurs:!0,categories:null});case u.j:return Object(a.a)({},e,{loadingProducts:!0,products:null});case u.d:return Object(a.a)({},e,{products:t.payload,loadingProducts:!1});case u.c:return Object(a.a)({},e,{fournisseurs:t.payload,loadingFournisseurs:!1});case u.b:return Object(a.a)({},e,{categories:t.payload});case u.f:return Object(a.a)({},e,{data:t.payload,loading:!1});case u.o:return Object(a.a)({},e,{data:t.payload,loadingProducts:!1,success:!0});case u.n:return Object(a.a)({},e,{error:t.payload,loading:!1,success:!1});default:return e}},l=Object(n.d)({focusProduits:i,focusProduit:s});t.a=l},1408:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),u=r(40),o=r(140),i=r(23),c=r(1029),s=r(958),l=r(1013),d=r(78),f=r(6),E=r(64),p=r.n(E),g=r(107),P=r(347);var m=Object(d.g)(function(e){var t=Object(f.c)(function(e){return e.focusProduitsApp.focusProduits.data}),r=Object(f.c)(function(e){return e.focusProduitsApp.focusProduits.searchText}),o=Object(f.c)(function(e){return e.focusProduitsApp.focusProduits.loading}),d=Object(n.useState)(null),E=Object(i.a)(d,2),m=E[0],T=E[1];return Object(n.useEffect)(function(){t&&T(function(e,t){var r=Object.keys(e).map(function(t){return e[t]});return 0===t.length?r:g.a.filterArrayByString(r,t)}(t,r))},[t,r]),m?a.a.createElement(u.d,{animation:"transition.slideUpIn",delay:300},a.a.createElement(P.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTrProps:function(t,r,n){return{className:"h-64 cursor-pointer",onClick:function(t,n){r&&e.history.push("/admin/focus-produits/"+r.original.id)}}},getTheadProps:function(e,t,r){return{className:"h-64 font-bold"}},data:m,columns:[{Header:"",accessor:"produit",Cell:function(e){return e.original.produit&&e.original.produit.featuredImageId?a.a.createElement("img",{className:"w-full block rounded",src:u.G+e.original.produit.featuredImageId.url,alt:""}):a.a.createElement("img",{className:"w-64 block rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:""})},className:"justify-center",width:128,sortable:!1,filterable:!1},{Header:"Fournisseur",accessor:"produit",filterable:!1,Cell:function(e){return e.original.produit&&e.original.produit.fournisseur?e.original.produit.fournisseur.societe:"N/A"}},{Header:"R\xe9f.Produit",accessor:"produit",filterable:!1,Cell:function(e){return e.original.produit?e.original.produit.reference:"N/A"}},{Header:"Cat\xe9gorie",accessor:"produit",filterable:!1,Cell:function(e){return e.original.produit&&e.original.produit.categorie?e.original.produit.categorie.name:"N/A"}},{Header:"statut",accessor:"updated",filterable:!1,Cell:function(e){return e.original.produit?"Actif ("+p()(e.original.updated).toNow(p()())+")":"N/A"}},{Header:"",Cell:function(e){return a.a.createElement("div",{className:"flex items-center"},a.a.createElement(c.a,{title:"Editer"},a.a.createElement(s.a,{className:"text-teal text-20"},a.a.createElement(l.a,null,"edit"))))}}],defaultPageSize:10,loading:o,noDataText:"No Produit found",loadingText:"Chargement...",ofText:"sur"})):null}),T=r(98);var y=function(e){return a.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},a.a.createElement("div",{className:"flex items-center"},a.a.createElement(u.d,{animation:"transition.expandIn",delay:300},a.a.createElement(l.a,{className:"text-32 mr-0 sm:mr-12"},"inbox")),a.a.createElement(u.d,{animation:"transition.slideLeftIn",delay:300},a.a.createElement(T.a,{className:"hidden sm:flex",variant:"h6"},"Focus produits"))))},O=r(1167),h=r(1096);t.default=Object(o.a)("focusProduitsApp",O.a)(function(){var e=Object(f.b)();return Object(n.useEffect)(function(){return e(h.s()),function(){e(h.p())}},[e]),a.a.createElement(u.o,{classes:{content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:a.a.createElement(y,null),content:a.a.createElement(m,null),innerScroll:!0})})}}]);