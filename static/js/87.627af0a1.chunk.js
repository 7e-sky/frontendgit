(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{1058:function(e,t,a){"use strict";var n=a(36),r=a(54),i="[FOURNISSEURS ADMIN APP] REQUEST FOURNISSEURS",c="[FOURNISSEURS ADMIN APP] SET PARAMETRES DATA",o="[FOURNISSEURS ADMIN APP] GET FOURNISSEURS",l="[FOURNISSEURS ADMIN APP] SET FOURNISSEURS SEARCH TEXT";function s(e){var t="";e.search.length>0&&e.search.map(function(e){return e.value&&("created"===e.id?t+="&"+e.id+"[after]="+e.value:"step"===e.id?t+="-1"===e.value?"&".concat(e.id,"=1&isactif=false"):t+="1"===e.value?"&".concat(e.id,"=").concat(e.value,"&isactif=true"):"&".concat(e.id,"=").concat(e.value):t+="&".concat(e.id,"=").concat(e.value))});var a=r.a.get("/api/fournisseurs?page=".concat(e.page).concat(t,"&order[").concat(e.filter.id,"]=").concat(e.filter.direction));return function(e){return e({type:i}),a.then(function(t){return e({type:o,payload:t.data})})}}function u(e,t,a){var c={isactif:t};return function(t){return t({type:i}),r.a.put(e["@id"],c).then(function(e){return Promise.all([t(Object(n.B)({message:"Statut modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(function(){return t(s(a))})})}}function d(e){return{type:c,parametres:e}}var m=a(8),f=a(107),p=a(10),g=a(196),E="[FOURNISSEURS ADMIN APP] REQUEST FOURNISSEUR",S="[FOURNISSEURS ADMIN APP] GET FOURNISSEUR",h="[FOURNISSEURS ADMIN APP] GET PAYS",b="[FOURNISSEURS ADMIN APP] GET VILLES",N="[FOURNISSEURS ADMIN APP] REQUEST PAYS",y="[FOURNISSEURS ADMIN APP] REQUEST_ADD_VILLE",O="[FOURNISSEURS ADMIN APP] SAVE_ADD_VILLE",A="[FOURNISSEURS ADMIN APP] SAVE_ERROR_ADD_VILLE",v="[FOURNISSEURS ADMIN APP] CLEAN_UP_VILLE",P="[FOURNISSEURS ADMIN APP] REQUEST VILLES",R="[FOURNISSEURS ADMIN APP] SAVE ERROR",I="[FOURNISSEURS ADMIN APP] UPDATE FOURNISSEUR",U="[FOURNISSEURS ADMIN APP] REQUEST UPDATE_FOURNISSEUR",j="[FOURNISSEURS ADMIN APP] REQUEST_ADD_SECTEUR",x="[FOURNISSEURS ADMIN APP] SAVE_ADD_SECTEUR",D="[FOURNISSEURS ADMIN APP] SAVE_ERROR_ADD_SECTEUR",T="[FOURNISSEURS ADMIN APP] REQUEST_ADD_PRODUIT",C="[FOURNISSEURS ADMIN APP] SAVE_ADD_PRODUIT",F="[FOURNISSEURS ADMIN APP] REQUEST_SOUS_SECTEUR",M="[FOURNISSEURS ADMIN APP] GET_SOUS_SECTEUR",H="[FOURNISSEURS ADMIN APP] UPLOAD AVATAR",_="[FOURNISSEURS ADMIN APP] UPLOAD REQUEST",w="[FOURNISSEURS ADMIN APP] UPLOAD ERROR",B="[FOURNISSEURS ADMIN APP] REQUEST SECTEUR",L="[FOURNISSEURS ADMIN APP] GET SECTEUR",k="[FOURNISSEURS ADMIN APP] REQUEST PRODUITS",z="[FOURNISSEURS ADMIN APP] GET PRODUITS",Y="[FOURNISSEURS ADMIN APP] REQUEST ABONNEMENTS",G="[FOURNISSEURS ADMIN APP] GET ABONNEMENTS",V="[FOURNISSEURS ADMIN APP] REQUEST JETONS",W="[FOURNISSEURS ADMIN APP] GET JETONS",Q="[FOURNISSEURS ADMIN APP] REQUEST BLACKLISTES",J="[FOURNISSEURS ADMIN APP] GET BLACKLISTES",q="[FOURNISSEUR ADMIN APP] CLEAN_UP_FOURNISSEUR",K="[FOURNISSEUR ADMIN APP] SET PARAMETRES DETAIL";function X(e){return{type:K,parametres:e}}function Z(){return function(e){return e({type:q})}}function $(){return function(e){return e({type:v})}}function ee(e){var t=r.a.get("/api/fournisseurs/".concat(e));return function(e){return e({type:E}),t.then(function(t){e({type:S,payload:t.data})})}}function te(e,t){var a="";t.search.length>0&&t.search.map(function(e){return e.value&&("created"===e.id?a+="&"+e.id+"[after]="+e.value:a+="&"+e.id+"="+e.value)});var n=r.a.get("/api/fournisseurs/".concat(e,"/produits?page=").concat(t.page).concat(a,"&order[").concat(t.filter.id,"]=").concat(t.filter.direction));return function(e){return e({type:k}),n.then(function(t){return e({type:z,payload:t.data})})}}function ae(e){var t=r.a.get("/api/fournisseurs/".concat(e,"/abonnements?pagination=false&order[expired]=desc"));return function(e){return e({type:Y}),t.then(function(t){return e({type:G,payload:t.data})})}}function ne(e){var t=r.a.get("/api/fournisseurs/".concat(e,"/jetons?pagination=false&order[created]=desc"));return function(e){return e({type:V}),t.then(function(t){return e({type:W,payload:t.data})})}}function re(e){var t=r.a.get("/api/fournisseurs/".concat(e,"/blacklistes?order[created]=desc"));return function(e){return e({type:Q}),t.then(function(t){return e({type:J,payload:t.data})})}}function ie(e){var t={name:e},a=r.a.post("/api/secteurs",t);return function(e){return e({type:j}),a.then(function(t){e({type:x}),e(Object(n.B)({message:"Secteur bien ajout\xe9!",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),e(le())}).catch(function(t){e({type:D}),e(Object(n.B)({message:p.a.map(f.a.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function ce(e,t){var a={secteur:e,name:t},i=r.a.post("/api/sous_secteurs",a);return function(t){return i.then(function(a){t(Object(n.B)({message:"Activit\xe9 bien ajout\xe9e!",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),t(se(e))}).catch(function(e){t(Object(n.B)({message:p.a.map(f.a.parseApiErrors(e),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function oe(e,t){var a={name:t,sousSecteurs:[e]},i=r.a.post("/api/categories",a);return function(e){return e({type:T}),i.then(function(t){e({type:C,payload:t.data}),e(Object(n.B)({message:"Produit bien ajout\xe9!",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))}).catch(function(t){e({type:D}),e(Object(n.B)({message:p.a.map(f.a.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function le(){var e=r.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name");return function(t){return t({type:B}),e.then(function(e){t({type:L,payload:e.data})})}}function se(e){var t=r.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return function(e){return e({type:F}),t.then(function(t){e({type:M,payload:t.data})})}}function ue(){var e=r.a.get("/api/pays?pagination=false&props[]=id&props[]=name");return function(t){return t({type:N}),e.then(function(e){t({type:h,payload:e.data["hydra:member"]})})}}function de(e){var t=r.a.get("".concat(e,"/villes?pagination=false&props[]=id&props[]=name"));return function(e){return e({type:P}),t.then(function(t){e({type:b,payload:t.data["hydra:member"]})})}}function me(e,t,a){var i={name:e,pays:"/api/pays/".concat(t)},c=r.a.post("/api/villes",i);return function(e){return e({type:y}),e({type:U}),c.then(function(n){e(de("/api/pays/".concat(t)));var i={ville:n.data["@id"],autreVille:null};return r.a.put("/api/fournisseurs/".concat(a),i).then(function(t){e(g.b("fournisseurs-admin")),e(g.b("fournisseurs-collaps")),e({type:I,payload:t.data}),e({type:O})})}).catch(function(t){e({type:A}),e(Object(n.B)({message:p.a.map(f.a.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function fe(e){var t=r.a.put("/api/fournisseurs/".concat(e),{autreCategories:null});return function(e){return e({type:U}),t.then(function(t){e({type:I,payload:t.data}),e(g.b("fournisseurs-admin")),e(g.b("fournisseurs-collaps"))}).catch(function(t){e({type:R,payload:f.a.parseApiErrors(t)}),e(Object(n.B)({message:p.a.map(f.a.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function pe(e,t){var a=Object(m.a)({},e,{ice:"Maroc"!==e.pays.label?null:e.ice,pays:e.pays.value,ville:e.ville.value,codepostal:e.codepostal?parseInt(e.codepostal):null});return null===a.codepostal&&delete a.codepostal,function(e){var i=r.a.put("/api/fournisseurs/".concat(t),a);return e({type:U}),i.then(function(t){return Promise.all([e({type:I,payload:t.data}),e(Object(n.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).catch(function(t){e({type:R,payload:f.a.parseApiErrors(t)})})}}function ge(e,t){var a={isactif:t};return function(t){return t({type:U}),r.a.put(e["@id"],a).then(function(e){return Promise.all([t({type:I,payload:e.data}),t(Object(n.B)({message:"Statut modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])})}}function Ee(e,t){var a={categories:p.a.map(e,function(e,t){return e["@id"]})};return function(e){var i=r.a.put("/api/fournisseurs/".concat(t),a);return e({type:U}),i.then(function(t){return Promise.all([e({type:I,payload:t.data}),e(Object(n.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).catch(function(t){e({type:R,payload:f.a.parseApiErrors(t)})})}}function Se(e,t){return function(a){var i=r.a.put("/api/fournisseurs/".concat(t),e);return a({type:U}),i.then(function(e){return Promise.all([a({type:I,payload:e.data}),a(Object(n.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).catch(function(e){a({type:R,payload:f.a.parseApiErrors(e)})})}}function he(e,t){return function(a){var i=new FormData;i.append("file",e);var c=r.a.post("/api/avatars",i,{headers:{"Content-Type":"multipart/form-data"}});return a({type:_}),c.then(function(e){return Promise.all([e,a({type:H,payload:e.data}),a(be({avatar:e.data["@id"]},t))])}).catch(function(e){a({type:w}),a(Object(n.B)({message:p.a.map(f.a.parseApiErrors(e),function(e,t){return t+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function be(e,t){return function(a){var i=r.a.put("/api/fournisseurs/".concat(t),e);return a({type:U}),i.then(function(e){return Promise.all([a({type:I,payload:e.data}),a(Object(n.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).catch(function(e){a({type:R,payload:f.a.parseApiErrors(e)})})}}var Ne,ye,Oe=a(67),Ae=a.n(Oe),ve="[SEARCH CATEGORIES FRS APP] SC_SET_SEARCH_TEXT",Pe="[SEARCH CATEGORIES FRS APP] REQUEST_DATA",Re="[SEARCH CATEGORIES FRS APP] GET_DATA",Ie="[SEARCH CATEGORIES FRS APP] SC_OPEN",Ue="[SEARCH CATEGORIES FRS APP] SC_CLOSE",je="[SEARCH CATEGORIES FRS APP] SC_SUSSP",xe="[SEARCH CATEGORIES FRS APP] CLEAN_UP",De=Ae.a.CancelToken;function Te(){return function(e){return e({type:xe})}}function Ce(e){return ye&&clearTimeout(ye),function(t){t({type:Pe}),ye=setTimeout(function(){t(function(e){Ne&&Ne();var t=r.a.get("/api/categories?name=".concat(e,"&del=false&props[]=id&props[]=name"),{cancelToken:new De(function(e){Ne=e})});return function(e){return t.then(function(t){e({type:Re,payload:t.data})}).catch(function(e){Ae.a.isCancel(e)&&console.log("get canceled")})}}(e))},300+1e3*Math.random())}}function Fe(e){return{type:ve,searchText:e.target.value}}function Me(){return{type:Ie}}function He(){return{type:Ue}}var _e="[DIALOG] OPEN",we="[DIALOG] CLOSE";function Be(){return{type:we}}function Le(e){return{type:_e,options:e}}a.d(t,"v",function(){return i}),a.d(t,"P",function(){return c}),a.d(t,"h",function(){return o}),a.d(t,"O",function(){return l}),a.d(t,"ib",function(){return s}),a.d(t,"V",function(){return u}),a.d(t,"tb",function(){return d}),a.d(t,"u",function(){return E}),a.d(t,"g",function(){return S}),a.d(t,"j",function(){return h}),a.d(t,"n",function(){return b}),a.d(t,"x",function(){return N}),a.d(t,"r",function(){return y}),a.d(t,"F",function(){return O}),a.d(t,"J",function(){return A}),a.d(t,"c",function(){return v}),a.d(t,"C",function(){return P}),a.d(t,"G",function(){return R}),a.d(t,"R",function(){return I}),a.d(t,"B",function(){return U}),a.d(t,"q",function(){return j}),a.d(t,"E",function(){return x}),a.d(t,"I",function(){return D}),a.d(t,"p",function(){return T}),a.d(t,"D",function(){return C}),a.d(t,"H",function(){return"[FOURNISSEURS ADMIN APP] SAVE_ERROR_ADD_PRODUIT"}),a.d(t,"A",function(){return F}),a.d(t,"m",function(){return M}),a.d(t,"S",function(){return H}),a.d(t,"U",function(){return _}),a.d(t,"T",function(){return w}),a.d(t,"z",function(){return B}),a.d(t,"l",function(){return L}),a.d(t,"y",function(){return k}),a.d(t,"k",function(){return z}),a.d(t,"o",function(){return Y}),a.d(t,"d",function(){return G}),a.d(t,"w",function(){return V}),a.d(t,"i",function(){return W}),a.d(t,"s",function(){return Q}),a.d(t,"e",function(){return J}),a.d(t,"b",function(){return q}),a.d(t,"Q",function(){return K}),a.d(t,"ub",function(){return X}),a.d(t,"cb",function(){return Z}),a.d(t,"bb",function(){return $}),a.d(t,"hb",function(){return ee}),a.d(t,"lb",function(){return te}),a.d(t,"fb",function(){return ae}),a.d(t,"jb",function(){return ne}),a.d(t,"gb",function(){return re}),a.d(t,"Y",function(){return ie}),a.d(t,"W",function(){return ce}),a.d(t,"X",function(){return oe}),a.d(t,"mb",function(){return le}),a.d(t,"nb",function(){return se}),a.d(t,"kb",function(){return ue}),a.d(t,"ob",function(){return de}),a.d(t,"Z",function(){return me}),a.d(t,"Ab",function(){return fe}),a.d(t,"wb",function(){return pe}),a.d(t,"eb",function(){return ge}),a.d(t,"xb",function(){return Ee}),a.d(t,"yb",function(){return Se}),a.d(t,"zb",function(){return he}),a.d(t,"M",function(){return ve}),a.d(t,"t",function(){return Pe}),a.d(t,"f",function(){return Re}),a.d(t,"L",function(){return Ie}),a.d(t,"K",function(){return Ue}),a.d(t,"N",function(){return je}),a.d(t,"a",function(){return xe}),a.d(t,"ab",function(){return Te}),a.d(t,"qb",function(){return Ce}),a.d(t,"sb",function(){return Fe}),a.d(t,"vb",function(){return Me}),a.d(t,"pb",function(){return He}),a.d(t,"db",function(){return Be}),a.d(t,"rb",function(){return Le})},1104:function(e,t,a){"use strict";var n,r=a(46),i=a(8),c=a(1058),o=a(107),l={data:[],pageCount:null,loading:!1,searchText:"",parametres:{page:1,search:[],societe:"",filter:{id:"created",direction:"desc"}}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.v:return Object(i.a)({},e,{loading:!0});case c.h:return Object(i.a)({},e,{data:t.payload["hydra:member"],pageCount:o.a.hydraPageCount(t.payload),loading:!1});case c.O:return Object(i.a)({},e,{searchText:t.searchText});case c.P:return Object(i.a)({},e,{parametres:{page:t.parametres.page,societe:t.parametres.societe,search:t.parametres.search,filter:{id:t.parametres.filter.id,direction:t.parametres.filter.direction}}});default:return e}},u=a(21),d=a(27),m=(n={pays:null,sousSecteurs:null,loading:!1,requestFournisseur:!1,villes:null,error:null,data:null,fournisseurReqInProgress:!1,avatar:null,fournisseur_deleted:null,loadingAddVille:!1,villeAdded:!1,loadingAddSecteurs:!1,loadingSecteurs:!1,loadingProduit:!1,loadingSousSecteurs:!1,secteurs:[]},Object(d.a)(n,"sousSecteurs",[]),Object(d.a)(n,"produit",null),Object(d.a)(n,"produits",[]),Object(d.a)(n,"pageCount",null),Object(d.a)(n,"totalItems",0),Object(d.a)(n,"loadingProduits",!1),Object(d.a)(n,"parametres",{page:1,reference:"",search:[],filter:{id:"created",direction:"desc"}}),Object(d.a)(n,"abonnements",[]),Object(d.a)(n,"totalItemsAb",0),Object(d.a)(n,"loadingAb",!1),Object(d.a)(n,"jetons",[]),Object(d.a)(n,"totalItemsJt",0),Object(d.a)(n,"loadingJt",!1),Object(d.a)(n,"blacklistes",[]),Object(d.a)(n,"totalItemsBl",0),Object(d.a)(n,"loadingBl",!1),n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.s:return Object(i.a)({},e,{loadingBl:!0});case c.e:return Object(i.a)({},e,{blacklistes:t.payload["hydra:member"],totalItemsBl:t.payload["hydra:totalItems"],loadingBl:!1});case c.w:return Object(i.a)({},e,{loadingJt:!0});case c.i:return Object(i.a)({},e,{jetons:t.payload["hydra:member"],totalItemsJt:t.payload["hydra:totalItems"],loadingJt:!1});case c.o:return Object(i.a)({},e,{loadingAb:!0});case c.d:return Object(i.a)({},e,{abonnements:t.payload["hydra:member"],totalItemsAb:t.payload["hydra:totalItems"],loadingAb:!1});case c.y:return Object(i.a)({},e,{loadingProduits:!0});case c.k:return Object(i.a)({},e,{produits:t.payload["hydra:member"],pageCount:o.a.hydraPageCount(t.payload),totalItems:t.payload["hydra:totalItems"],loadingProduits:!1});case c.p:return Object(i.a)({},e,{loadingProduit:!0});case c.D:return Object(i.a)({},e,{loadingProduit:!1,produit:t.payload});case c.H:return Object(i.a)({},e,{loadingProduit:!1});case c.q:return Object(i.a)({},e,{loadingAddSecteurs:!0});case c.E:case c.I:return Object(i.a)({},e,{loadingAddSecteurs:!1});case c.z:return Object(i.a)({},e,{loadingSecteurs:!0,sousSecteurs:[]});case c.A:return Object(i.a)({},e,{loadingSousSecteurs:!0});case c.l:return Object(i.a)({},e,{secteurs:t.payload["hydra:member"],loadingSecteurs:!1});case c.m:return Object(i.a)({},e,{sousSecteurs:t.payload["hydra:member"],loadingSousSecteurs:!1});case c.r:return Object(i.a)({},e,{loadingAddVille:!0});case c.F:return Object(i.a)({},e,{loadingAddVille:!1,villeAdded:!0});case c.J:return Object(i.a)({},e,{loadingAddVille:!1});case c.c:return Object(i.a)({},e,{villeAdded:!1});case c.b:return Object(i.a)({},e,{pays:null,sousSecteurs:null,loading:!1,requestFournisseur:!1,villes:null,error:null,data:null,fournisseurReqInProgress:!1,avatar:null,fournisseur_deleted:null,loadingSecteurs:!1,secteurs:[]});case c.B:case c.x:return Object(i.a)({},e,{loading:!0});case c.u:return Object(i.a)({},e,{requestFournisseur:!0});case c.C:return Object(i.a)({},e,{villes:null});case c.g:return Object(i.a)({},e,{data:t.payload,requestFournisseur:!1,error:null});case c.j:return Object(i.a)({},e,{pays:t.payload,loading:!1});case c.n:return Object(i.a)({},e,{villes:[].concat(Object(u.a)(t.payload),[{"@id":"/api/villes/113",name:"Autre"}])});case c.R:return Object(i.a)({},e,{loading:!1,data:t.payload,error:null});case c.G:return Object(i.a)({},e,{loading:!1,error:t.payload,success:!1,redirect_success:""});case c.U:return Object(i.a)({},e,{fournisseurReqInProgress:!0});case c.S:return Object(i.a)({},e,{avatar:t.payload,fournisseurReqInProgress:!1});case c.T:return Object(i.a)({},e,{fournisseurReqInProgress:!1});case c.Q:return Object(i.a)({},e,{parametres:{page:t.parametres.page,search:t.parametres.search,reference:t.parametres.reference,filter:{id:t.parametres.filter.id,direction:t.parametres.filter.direction}}});default:return e}},p={searchText:"",suggestions:[],loading:!1,opened:!1,noSuggestions:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:return Object(i.a)({},e,{suggestions:[],noSuggestions:!1});case c.t:return Object(i.a)({},e,{loading:!0,suggestions:[],noSuggestions:!1});case c.f:var a=t.payload["hydra:member"],n=0===a.length;return Object(i.a)({},e,{suggestions:a,noSuggestions:n,loading:!1});case c.M:return Object(i.a)({},e,{searchText:t.searchText});case c.L:return Object(i.a)({},e,{opened:!0});case c.K:return Object(i.a)({},e,{opened:!1,searchText:""});case c.N:return Object(i.a)({},e,{opened:!1});default:return e}},E=a(36),S={state:!1,options:{children:"Hi"}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.f:return Object(i.a)({},e,{state:!0,options:Object(i.a)({},e.options,t.options)});case E.a:return Object(i.a)({},e,{state:!1});default:return e}},b=Object(r.d)({fournisseurs:s,searchCategories:g,fournisseur:f,dialog:h});t.a=b},1316:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a(0),i=a.n(r),c=a(98),o=a(1013),l=a(945),s=a(1044),u=a(1027),d=a(1040),m=a(1039),f=a(1020),p=a(1029),g=a(974),E=a(967),S=a(958),h=a(345),b=a(40),N=a(6),y=a(140),O=a(1058),A=a(1104),v=a(10),P=a(55),R=a.n(P),I=a(1032),U=a(18),j=a(64),x=a.n(j),D=a(347),T=Object(h.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},chip:{marginLeft:e.spacing(1),padding:2,background:"#ef5350",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chip2:{marginLeft:e.spacing(1),padding:2,background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chipOrange:{marginLeft:e.spacing(1),padding:2,background:"#ff9800",color:"white",fontWeight:"bold",fontSize:"11px",height:20},blue:{marginLeft:e.spacing(1),padding:2,background:"#3490dc",color:"white",fontWeight:"bold",fontSize:"11px",height:20}}});t.default=Object(y.a)("FournisseurDetailsApp",A.a)(function(e){var t=Object(N.b)(),a=T(),h=Object(N.c)(function(e){return e.FournisseurDetailsApp.fournisseur}),y=Object(r.useState)(0),A=Object(n.a)(y,2),P=A[0],j=A[1],C=e.match.params.fournisseurId;Object(r.useEffect)(function(){return t(O.hb(C)),t(O.fb(C)),t(O.jb(C)),t(O.gb(C)),function(){t(O.cb())}},[t,C]),Object(r.useEffect)(function(){C&&t(O.lb(C,h.parametres))},[t,h.parametres,C]);var F=v.a.debounce(function(e){return t(O.ub(e))},1e3);return i.a.createElement(b.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:h.requestFournisseur?i.a.createElement(I.a,{color:"secondary"}):h.data&&i.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},i.a.createElement("div",{className:"flex flex-col items-start max-w-full"},i.a.createElement(b.d,{animation:"transition.slideRightIn",delay:300},i.a.createElement(c.a,{className:"normal-case flex items-center sm:mb-12",component:U.a,role:"button",to:"/users/fournisseurs",color:"inherit"},i.a.createElement(o.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),i.a.createElement("div",{className:"flex items-center max-w-full"},i.a.createElement(b.d,{animation:"transition.expandIn",delay:300},h.data.avatar?i.a.createElement(l.a,{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",alt:"user photo",src:b.G+h.data.avatar.url}):i.a.createElement(l.a,{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded"},h.data.firstName[0])),i.a.createElement("div",{className:"flex flex-col min-w-0"},i.a.createElement(b.d,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(c.a,{className:"text-16 sm:text-20 truncate"},h.data.firstName&&h.data.lastName?h.data.firstName+" "+h.data.lastName:"NOM & Pr\xe9nom")),i.a.createElement(b.d,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(c.a,{variant:"caption"},h.data.societe?h.data.societe:"Soci\xe9t\xe9"," ",h.data.email?" | "+h.data.email:"")))))),contentToolbar:h.requestFournisseur?i.a.createElement("div",{className:a.root},i.a.createElement(I.a,{color:"secondary"})):h.data&&i.a.createElement(s.a,{value:P,onChange:function(e,t){j(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},i.a.createElement(u.a,{className:"h-64 normal-case",label:"Infos soci\xe9t\xe9"}),i.a.createElement(u.a,{className:"h-64 normal-case",label:"Produits "+(h.loadingProduits?"( chargement... )":h.totalItems>100?"( +99 )":"( "+h.totalItems+" )")}),i.a.createElement(u.a,{className:"h-64 normal-case",label:"Abonnements "+(h.loadingAb?"( chargement... )":h.totalItemsAb>100?"( +99 )":"( "+h.totalItemsAb+" )")}),i.a.createElement(u.a,{className:"h-64 normal-case",label:"Jetons "+(h.loadingJt?"( chargement... )":h.totalItemsJt>100?"( +99 )":"( "+h.totalItemsJt+" )")}),i.a.createElement(u.a,{className:"h-64 normal-case",label:"Blacklistes "+(h.loadingBl?"( chargement... )":h.totalItemsBl>100?"( +99 )":"( "+h.totalItemsBl+" )")})),content:h.requestFournisseur?"":h.data&&i.a.createElement("div",{className:" sm:p-10 max-w-2xl"},0===P&&i.a.createElement(R.a,{className:"flex flex-col"},i.a.createElement(d.a,{container:!0,spacing:3,className:"mb-5"},i.a.createElement(d.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:"flex"},i.a.createElement(b.F,{className:"",type:"text",name:"fullname",value:h.data.civilite+" "+h.data.firstName+" "+h.data.lastName,label:"Nom complet",InputProps:{readOnly:!0},fullWidth:!0}))),i.a.createElement(d.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:"flex"},i.a.createElement(b.F,{className:"",name:"email",value:h.data.email,label:"Email",fullWidth:!0,InputProps:{readOnly:!0,endAdornment:i.a.createElement(m.a,{position:"end"},i.a.createElement(o.a,{className:"text-20",color:"action"},"email"))}}))),i.a.createElement(d.a,{item:!0,xs:12,sm:4},i.a.createElement(b.F,{className:"",type:"text",name:"phonep",id:"phonep",value:h.data.phone,label:"T\xe9l\xe9phone",InputProps:{readOnly:!0,endAdornment:i.a.createElement(m.a,{position:"end"},i.a.createElement(o.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),i.a.createElement(f.a,null),i.a.createElement(d.a,{container:!0,spacing:3,className:"mb-5"},i.a.createElement(d.a,{item:!0,xs:12,sm:8},i.a.createElement("div",{className:"flex"},i.a.createElement(b.F,{className:"mt-20",label:"Raison sociale",id:"societe",name:"societe",value:h.data.societe,fullWidth:!0,InputProps:{readOnly:!0}}))),i.a.createElement(d.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:"flex"},i.a.createElement(b.F,{className:"mt-20",name:"fix",value:h.data.fix,label:"Fixe",InputProps:{readOnly:!0,endAdornment:i.a.createElement(m.a,{position:"end"},i.a.createElement(o.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),i.a.createElement(d.a,{item:!0,xs:12,sm:8},i.a.createElement(b.F,{id:"produits",className:"",name:"produits",label:"Produits",value:h.data.categories?v.a.join(v.a.map(h.data.categories,"name"),", "):"",fullWidth:!0,InputProps:{readOnly:!0}})),i.a.createElement(d.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:"flex"},i.a.createElement(b.F,{id:"website",className:"",type:"text",name:"website",value:h.data.website,label:"Site Web",InputProps:{readOnly:!0,endAdornment:i.a.createElement(m.a,{position:"end"},i.a.createElement(o.a,{className:"text-20",color:"action"},"language"))},fullWidth:!0}))),i.a.createElement(d.a,{item:!0,xs:12,sm:8},i.a.createElement("div",{className:"flex"},h.data.ice?i.a.createElement(b.F,{className:"",type:"text",name:"ice",id:"ice",value:h.data.ice,label:"ICE",fullWidth:!0,InputProps:{readOnly:!0}}):""))),i.a.createElement(f.a,null),i.a.createElement(d.a,{container:!0,spacing:3,className:"mb-5"},i.a.createElement(d.a,{item:!0,xs:12,sm:8},i.a.createElement("div",{className:"flex"},i.a.createElement(b.F,{className:"mt-20",type:"text",name:"adresse1",id:"adresse1",value:h.data.adresse1,label:"Adresse 1",InputProps:{readOnly:!0,endAdornment:i.a.createElement(m.a,{position:"end"},i.a.createElement(o.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),i.a.createElement(d.a,{item:!0,xs:12,sm:4},i.a.createElement(b.F,{className:"mt-20",type:"text",name:"pays",id:"pays",value:h.data.pays?h.data.pays.name:"",label:"Pays",InputProps:{readOnly:!0},fullWidth:!0})),i.a.createElement(d.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:"flex"},i.a.createElement(b.F,{className:"",type:"text",name:"adresse2",value:h.data.adresse2,label:"Adresse 2",InputProps:{readOnly:!0,endAdornment:i.a.createElement(m.a,{position:"end"},i.a.createElement(o.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),i.a.createElement(d.a,{item:!0,xs:12,sm:4},i.a.createElement("div",{className:"flex"},i.a.createElement(b.F,{className:"",name:"codepostal",value:String(h.data.codepostal),label:"Code Postal",fullWidth:!0,InputProps:{readOnly:!0}}))),i.a.createElement(d.a,{item:!0,xs:12,sm:4},i.a.createElement(b.F,{className:"",type:"text",name:"ville",id:"ville",value:h.data.ville?h.data.ville.name:"",label:"Ville",InputProps:{readOnly:!0},fullWidth:!0}))),i.a.createElement(f.a,null),i.a.createElement(d.a,{container:!0,spacing:3},i.a.createElement(d.a,{item:!0,xs:12,sm:12},i.a.createElement(b.F,{className:"mb-5 mt-20  w-full",type:"text",name:"description",value:h.data.description,label:"Pr\xe9sentation",multiline:!0,rows:"10",InputProps:{readOnly:!0}})))),1===P&&i.a.createElement(D.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTheadProps:function(e,t,a){return{className:"h-64 font-bold"}},data:h.produits,columns:[{Header:"",accessor:"featuredImageId",Cell:function(e){return e.original.featuredImageId?i.a.createElement("img",{className:"w-full block rounded",src:b.G+e.original.featuredImageId.url,alt:e.original.reference}):i.a.createElement("img",{className:"w-full block rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:e.original.reference})},className:"justify-center",width:64,sortable:!1,filterable:!1},{Header:"Ref",accessor:"reference",className:"justify-center",filterable:!0,Cell:function(e){return i.a.createElement(p.a,{title:"Voir le produit"},i.a.createElement(U.a,{target:"_blank",to:"/products/"+e.original.id,onClick:function(e){return e.stopPropagation()}},e.original.reference&&e.original.reference))}},{Header:"Statut",accessor:"isValid",className:"justify-center",filterable:!0,Cell:function(e){return i.a.createElement("div",{className:"flex items-center"},e.original.isValid?i.a.createElement(g.a,{className:a.chip2,label:"Publi\xe9"}):i.a.createElement(g.a,{className:a.chipOrange,label:"En attente"}),e.original.isSelect?i.a.createElement(g.a,{className:a.chip2,label:"Produit de la semaine"}):"")},Filter:function(e){var t=e.filter,a=e.onChange;return i.a.createElement("select",{onChange:function(e){return a(e.target.value)},style:{width:"100%"},value:t?t.value:""},i.a.createElement("option",{value:""},"Tous"),i.a.createElement("option",{value:"true"},"Publi\xe9"),i.a.createElement("option",{value:"false"},"En attente"))}},{Header:"Titre",accessor:"titre",className:"justify-center",filterable:!0},{Header:"Secteur",className:"justify-center",filterable:!0,accessor:"secteur.name",Cell:function(e){return e.original.secteur?e.original.secteur.name:"N/A"}},{Header:"Activit\xe9",className:"justify-center",filterable:!0,accessor:"sousSecteurs.name",Cell:function(e){return e.original.sousSecteurs?e.original.sousSecteurs.name:"N/A"}},{Header:"Produit",className:"justify-center",filterable:!0,accessor:"categorie.name",Cell:function(e){return e.original.categorie?e.original.categorie.name:"N/A"}},{Header:"Date de cr\xe9ation",filterable:!0,className:"justify-center",accessor:"created",Cell:function(e){return x()(e.original.created).format("DD/MM/YYYY")},Filter:function(e){var t=e.filter,a=e.onChange;return i.a.createElement(E.a,{onChange:function(e){return a(e.target.value)},style:{width:"100%"},value:t?t.value:"",type:"date",InputLabelProps:{shrink:!0}})}}],manual:!0,pages:h.pageCount,defaultPageSize:10,loading:h.loadingProduits,showPageSizeOptions:!1,onPageChange:function(e){h.parametres.page=e+1,t(O.tb(h.parametres))},onSortedChange:function(e,a,n){h.parametres.page=1,h.parametres.filter.id=e[0].id,h.parametres.filter.direction=e[0].desc?"desc":"asc",t(O.tb(h.parametres))},onFilteredChange:function(e){h.parametres.page=1,h.parametres.search=e,F(h.parametres)},noDataText:"Aucun produit trouv\xe9",loadingText:"Chargement...",ofText:"sur"}),2===P&&i.a.createElement(D.b,{className:"-striped -highlight sm:rounded-16 overflow-hidden",getTrProps:function(e,t,a){return{className:"h-64"}},getTheadProps:function(e,t,a){return{className:"h-64 font-bold"}},data:h.abonnements,columns:[{Header:"Offre",className:"font-bold justify-center",sortable:!1,id:"offre",accessor:function(e){return e.offre.name}},{Header:"Activit\xe9s",accessor:"sousSecteurs.name",className:"justify-center",Cell:function(e){return i.a.createElement(p.a,{title:v.a.join(v.a.map(e.original.sousSecteurs,"name"),", ")},i.a.createElement(g.a,{className:a.chip2,label:e.original.sousSecteurs.length}))}},{Header:"Date de cr\xe9ation",className:"justify-center",accessor:"created",sortable:!1,filterable:!1,Cell:function(e){return x()(e.original.created).format("DD/MM/YYYY")}},{Header:"Renouvellement",className:"justify-center",sortable:!1,accessor:"expired",filterable:!1,Cell:function(e){return e.original.expired&&x()(e.original.expired).format("DD/MM/YYYY")}},{Header:"Statut",className:"justify-center",sortable:!1,filterable:!1,Cell:function(e){return i.a.createElement("div",{className:"flex items-center"},!1===e.original.statut?e.original.expired&&void 0!==e.original.expired?x()(e.original.expired)>=x()()?i.a.createElement(g.a,{className:a.chip,label:"Annul\xe9e"}):i.a.createElement(g.a,{className:a.chip,label:"Expir\xe9"}):i.a.createElement(g.a,{className:a.chipOrange,label:"En attente"}):x()(e.original.expired)>=x()()?i.a.createElement(g.a,{className:a.chip2,label:"En cours"}):i.a.createElement(g.a,{className:a.chip,label:"Expir\xe9"}))}},{Header:"",className:"justify-center",accessor:"type",Cell:function(e){return i.a.createElement("div",{className:"flex items-center"},!1===e.original.type?i.a.createElement(g.a,{className:a.blue,label:"Nouvelle"}):i.a.createElement(g.a,{className:a.chip2,label:"Renouvellement"}))}},{Header:"",Cell:function(t){return i.a.createElement("div",{className:"flex items-center"},(x()(t.original.expired)>=x()()||!t.original.expired)&&i.a.createElement(p.a,{title:"Editer"},i.a.createElement(S.a,{className:"text-orange text-20",onClick:function(){return e.history.push("/admin/offres/abonnement/"+t.original.id)}},i.a.createElement(o.a,null,"edit"))),!0===t.original.statut&&x()(t.original.expired).diff(x()(),"month",!0)<=1&&x()(t.original.expired).diff(x()(),"month",!0)>0&&i.a.createElement(p.a,{title:"Renouveler"},i.a.createElement(S.a,{onClick:function(){e.history.push("/admin/offres/renouvellement/"+t.original.id+"/1")},className:"text-teal text-20"},i.a.createElement(o.a,null,"autorenew"))),!0===t.original.statut&&x()(t.original.expired)<x()()&&i.a.createElement(p.a,{title:"Dupliquer"},i.a.createElement(S.a,{onClick:function(){e.history.push("/admin/offres/renouvellement/"+t.original.id+"/2")},className:"text-green-700 text-20"},i.a.createElement(o.a,null,"file_copy"))))}}],defaultPageSize:10,loading:h.loadingAb,noDataText:"Pas d'abonnement trouv\xe9",loadingText:"Chargement...",ofText:"sur"}),3===P&&i.a.createElement(D.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTheadProps:function(e,t,a){return{className:"h-64 font-bold"}},data:h.jetons,columns:[{Header:"Nombre de jetons",className:"justify-center font-bold",accessor:"nbrJeton"},{Header:"Mode de paiement",className:"justify-center",accessor:"paiement.name",Cell:function(e){return e.original.paiement?e.original.paiement.name:""}},{Header:"Prix",className:"justify-center",accessor:"prix",Cell:function(e){return parseFloat(e.original.prix).toLocaleString("fr",{minimumFractionDigits:2})+" Dhs "}},{Header:"Etat",className:"justify-center",accessor:"isPayed",Cell:function(e){return e.original.isPayed?i.a.createElement(g.a,{className:a.chip2,label:"Pay\xe9"}):i.a.createElement(g.a,{className:a.chipOrange,label:"En attente"})}},{Header:"Date de cr\xe9ation",className:"justify-center",accessor:"created",Cell:function(e){return x()(e.original.created).format("DD/MM/YYYY HH:mm")}}],defaultPageSize:10,loading:h.loadingJt,noDataText:"Aucun jeton trouv\xe9",loadingText:"Chargement...",ofText:"sur"}),4===P&&i.a.createElement(D.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTheadProps:function(e,t,a){return{className:"h-64 font-bold"}},data:h.blacklistes,columns:[{Header:"Acheteur",className:"font-bold justify-center",filterable:!0,accessor:"acheteur",Cell:function(e){return i.a.createElement(p.a,{title:"D\xe9tails de l'acheteur"},i.a.createElement(U.a,{target:"_blank",to:"/users/acheteur/show/"+e.original.acheteur.id,onClick:function(e){return e.stopPropagation()}},e.original.acheteur.societe&&e.original.acheteur.societe))}},{Header:"Raison",accessor:"raison",filterable:!0,className:"justify-center"},{Header:"Date de Blackliste",className:"justify-center",id:"created",accessor:function(e){return x()(e.created).format("DD/MM/YYYY HH:mm")}},{Header:"Date de D\xe9blackliste",className:"justify-center",id:"deblacklister",accessor:function(e){return e.deblacklister?x()(e.deblacklister).format("DD/MM/YYYY HH:mm"):""}},{Header:"Etat",className:"justify-center",accessor:"etat",Cell:function(e){return e.original.etat?"Blacklist\xe9":"Retir\xe9"}}],defaultPageSize:10,loading:h.loadingBl,noDataText:"Aucun fournisseur blacklist\xe9",ofText:"sur"})),innerScroll:!0})})}}]);