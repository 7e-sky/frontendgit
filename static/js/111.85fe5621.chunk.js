(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{1373:function(e,a,t){"use strict";t.r(a);var n=t(21),r=t(8),c=t(23),s=t(0),i=t.n(s),o=t(98),l=t(1013),m=t(1035),u=t(1041),d=t(1032),f=t(1044),p=t(1027),E=t(1040),g=t(1023),b=t(1078),h=t(1079),v=t(1080),y=t(1081),x=t(1082),S=t(1046),N=t(974),O=t(1031),A=t(1051),j=t(1037),C=t(967),w=t(1020),F=t(1038),M=t(163),P=t(345),R=t(40),T=t(18),D=t(1098),k=t(10),B=t(6),U=t(140),I=t(54),L=t(36),z="[COMMANDE AB FRS APP] REQUEST COMMANDE",_="[COMMANDE AB FRS APP] GET COMMANDE",G="[COMMANDE AB FRS APP] REQUEST_SUGGESTION",V="[COMMANDE AB FRS APP] REQUEST_SOUS_SECTEURS",Q="[COMMANDE AB FRS APP] GET SOUS_SECTEURS",H="[COMMANDE AB FRS APP] REQUEST SECTEURS",W="[COMMANDE AB FRS APP] GET SECTEURS",q="[COMMANDE AB FRS APP] REQUEST FOURNISSEUR",$="[COMMANDE AB FRS APP] GET FOURNISSEUR",J="[COMMANDE AB FRS APP] REQUEST OFFRES",K="[COMMANDE AB FRS APP] GET OFFRES",X="[COMMANDE AB FRS APP] REQUEST SAVE",Y="[COMMANDE AB FRS APP] SAVE COMMANDE",Z="[COMMANDE AB FRS APP] SAVE_SUGGESTION",ee="[COMMANDE AB FRS APP] GET_PAIEMENT",ae="[COMMANDE AB FRS APP] GET_DUREE",te="[COMMANDE AB FRS APP] CLEAN_UP";function ne(){return function(e){return e({type:te})}}var re=t(46),ce={data:null,offres:null,fournisseur:null,loadingSecteurs:!1,secteurs:null,sousSecteurs:null,error:null,loading:!1,loadingSuggestion:!1,loadingSS:!1,success:!1,successActivite:!1,paiements:null,durees:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:case q:case J:case X:return Object(r.a)({},e,{loading:!0});case H:return Object(r.a)({},e,{loadingSecteurs:!0});case W:return Object(r.a)({},e,{secteurs:a.payload,loadingSecteurs:!1});case V:return Object(r.a)({},e,{loadingSS:!0});case Q:return Object(r.a)({},e,{sousSecteurs:a.payload,loadingSS:!1});case ee:return Object(r.a)({},e,{paiements:a.payload});case ae:return Object(r.a)({},e,{durees:a.payload});case G:return Object(r.a)({},e,{loadingSuggestion:!0});case Z:return Object(r.a)({},e,{successActivite:!0,loadingSuggestion:!1});case _:return Object(r.a)({},e,{data:a.payload,loading:!1});case Y:return Object(r.a)({},e,{loading:!1,success:!0});case te:return{initialState:ce};case $:return Object(r.a)({},e,{fournisseur:a.payload,loading:!1});case K:return Object(r.a)({},e,{offres:a.payload,loading:!1});case"[COMMANDE AB FRS APP] SAVE ERROR":return Object(r.a)({},e,{error:a.payload,loading:!1});default:return e}},ie={state:!1,options:{children:"Hi"}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case L.f:return Object(r.a)({},e,{state:!0,options:Object(r.a)({},e.options,a.options)});case L.a:return Object(r.a)({},e,{state:!1});default:return e}},le=Object(re.d)({commande:se,dialog:oe}),me=t(55),ue=t.n(me),de=t(141),fe=t(1024),pe=t(965),Ee=t(1048),ge=t(2),be=Object(P.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},chips:{flex:1,display:"flex",flexWrap:"wrap"},commandeImageFeaturedStar:{position:"absolute",top:0,right:0,color:M.a[400],opacity:0},button:{margin:e.spacing(1)},commandeImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},commandeImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $commandeImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $commandeImageFeaturedStar":{opacity:1},"&:hover $commandeImageFeaturedStar":{opacity:1}}},error:{backgroundColor:e.palette.error.dark},border:{borderLeft:"11px solid "+e.palette.secondary.main+"!important",paddingLeft:11},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)},chip:{marginLeft:e.spacing(1),background:"#ef5350",color:"white",fontWeight:"bold",fontSize:"11px"},chip2:{marginLeft:e.spacing(1),background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px"},chip3:{margin:e.spacing(1),background:"green",color:"white",fontWeight:"bold",fontSize:"11px"}}});a.default=Object(U.a)("commandeOffreFrsApp",le)(function(e){var a=Object(B.b)(),t=Object(B.c)(function(e){return e.commandeOffreFrsApp.commande}),M=Object(B.c)(function(e){return e.auth.user}),P=Object(s.useState)([]),U=Object(c.a)(P,2),te=U[0],re=U[1],ce=Object(s.useState)(""),se=Object(c.a)(ce,2),ie=se[0],oe=se[1],le=Object(s.useState)(""),me=Object(c.a)(le,2),he=me[0],ve=me[1],ye=Object(s.useState)(null),xe=Object(c.a)(ye,2),Se=xe[0],Ne=xe[1],Oe=Object(s.useState)(null),Ae=Object(c.a)(Oe,2),je=Ae[0],Ce=Ae[1],we=Object(s.useState)(null),Fe=Object(c.a)(we,2),Me=Fe[0],Pe=Fe[1],Re=Object(s.useState)(null),Te=Object(c.a)(Re,2),De=Te[0],ke=Te[1],Be=Object(s.useState)(!1),Ue=Object(c.a)(Be,2),Ie=Ue[0],Le=Ue[1],ze=Object(de.b)(null),_e=ze.form,Ge=ze.setForm,Ve=Object(s.useState)(0),Qe=Object(c.a)(Ve,2),He=Qe[0],We=Qe[1],qe=Object(s.useState)(0),$e=Object(c.a)(qe,2),Je=$e[0],Ke=$e[1],Xe=Object(s.useState)(0),Ye=Object(c.a)(Xe,2),Ze=Ye[0],ea=Ye[1],aa=Object(s.useState)(0),ta=Object(c.a)(aa,2),na=ta[0],ra=ta[1],ca=Object(s.useState)(0),sa=Object(c.a)(ca,2),ia=sa[0],oa=sa[1],la=Object(s.useState)(0),ma=Object(c.a)(la,2),ua=ma[0],da=ma[1],fa=be(e);function pa(){Le(!1)}function Ea(e,a){da(a)}function ga(t){var n=e.match.params.commandeId;a("new"===n?function(e,a,t,n,r){var c={offre:t["@id"],sousSecteurs:k.a.map(a,function(e,a){return e.value}),mode:n,duree:r["@id"]},s=I.a.post("/api/demande_abonnements",c);return function(e){return e({type:X}),s.then(function(a){return e(Object(L.B)({message:"Votre commande a bien \xe9t\xe9 enregistr\xe9e, un mail vous sera envoy\xe9 d\xe8s la validation de votre commande, nous vous remercions pour votre confiance!"})),e({type:Y,payload:a.data})})}}(0,te,je,Me,De):function(e,a,t,n,c){var s=Object(r.a)({},e,{offre:t["@id"],sousSecteurs:k.a.map(a,function(e,a){return e.value}),mode:n,duree:c["@id"]}),i=I.a.put(e["@id"],s);return function(e){return e({type:X}),i.then(function(a){return e(Object(L.B)({message:"Commande modifi\xe9e avec succ\xe8s"})),e({type:Y,payload:a.data})})}}(t,te,je,Me,De))}function ba(e,t){if("activites"===t){if(te.length===je.nbActivite)return;if(!k.a.find(te,["value",e.value])){var r=e;r.label=Se.label+": "+r.label,re([e].concat(Object(n.a)(te)))}}else e.value&&(Ne(e),a(function(e){var a=I.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return function(e){return e({type:V}),a.then(function(a){e({type:Q,payload:a.data["hydra:member"]})})}}(e.value)))}return Object(s.useEffect)(function(){M.id&&a(function(e){var a=I.a.get("/api/fournisseurs/".concat(e));return function(e){return e({type:q}),a.then(function(a){return e({type:$,payload:a.data})})}}(M.id))},[a,M.id]),Object(s.useEffect)(function(){a(function(){var e=I.a.get("/api/offres");return function(a){return a({type:J}),e.then(function(e){return a({type:K,payload:e.data["hydra:member"]})})}}()),a(function(){var e=I.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name&order[name]=asc");return function(a){return a({type:H}),e.then(function(e){a({type:W,payload:e.data["hydra:member"]})})}}()),a(function(){var e=I.a.get("/api/paiements");return function(a){return e.then(function(e){a({type:ee,payload:e.data["hydra:member"]})})}}()),a(function(){var e=I.a.get("/api/durees");return function(a){return e.then(function(e){a({type:ae,payload:e.data["hydra:member"]})})}}())},[a]),Object(s.useEffect)(function(){t.success&&(a(ne()),e.history.push("/abonnement"))},[t.success,a]),Object(s.useEffect)(function(){t.successActivite&&Le(!1)},[t.successActivite,Le]),Object(s.useEffect)(function(){return function(){var t=e.match.params.commandeId;a("new"===t?{type:_,payload:{offre:null,sousSecteurs:[]}}:function(e){var a=I.a.get("/api/demande_abonnements/".concat(e));return function(e){return e({type:z}),a.then(function(a){return e({type:_,payload:a.data})})}}(t))}(),function(){a(ne())}},[a,e.match.params]),Object(s.useEffect)(function(){if((t.data&&!_e||t.data&&_e&&t.data.id!==_e.id)&&(Ge(Object(r.a)({},t.data)),t.data.sousSecteurs&&re(t.data.sousSecteurs.map(function(e){return{value:e["@id"],label:e.secteur.name+": "+e.name}})),t.data.offre&&Ce(t.data.offre),t.data.mode&&Pe(t.data.mode["@id"]),t.data.duree&&(ke(t.data.duree),t.data.offre)))if(t.data.fournisseur.currency.name===R.z){var e=t.data.offre.prixMad*t.data.duree.name;if(We(e),t.data.duree.remise){var a=e*t.data.duree.remise/100,n=e-a,c=n*R.A;ea(a),ra(n),Ke(c),oa(n+c)}else{var s=e*R.A;Ke(e*R.A),oa(e+s)}}else{var i=t.data.offre.prixEur*t.data.duree.name;if(We(i),t.data.duree.remise){var o=i*t.data.duree.remise/100,l=i-o;ea(o),ra(l),oa(l)}else oa(i)}},[_e,t.data,Ge]),Object(s.useEffect)(function(){t.offres&&!je&&Ce(t.offres[0])},[je,t.offres,Ce]),Object(s.useEffect)(function(){t.paiements&&!Me&&Pe(t.paiements[0]["@id"])},[Me,t.paiements,Pe]),Object(s.useEffect)(function(){if(t.durees&&!De&&(ke(t.durees[0]),je))if(M.data.currency===R.z){var e=je.prixMad*t.durees[0].name;if(We(e),t.durees[0].remise){var a=e*t.durees[0].remise/100,n=e-a,r=n*R.A;ea(a),ra(n),Ke(r),oa(n+r)}else{var c=e*R.A;Ke(e*R.A),oa(e+c)}}else{var s=je.prixEur*t.durees[0].name;if(We(s),t.durees[0].remise){var i=s*t.durees[0].remise/100,o=s-i;ea(i),ra(o),oa(o)}else oa(s)}},[De,t.durees,ke]),i.a.createElement(R.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:t.loading?"":_e&&i.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},i.a.createElement("div",{className:"flex flex-col items-start max-w-full"},i.a.createElement(R.d,{animation:"transition.slideRightIn",delay:300},i.a.createElement(o.a,{className:"normal-case flex items-center sm:mb-12",component:T.a,role:"button",to:"/abonnement",color:"inherit"},i.a.createElement(l.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),i.a.createElement("div",{className:"flex items-center max-w-full"},i.a.createElement("div",{className:"flex flex-col min-w-0"},i.a.createElement(R.d,{animation:"transition.slideLeftIn",delay:300},i.a.createElement("div",{className:"text-16 sm:text-20 truncate"},t.data.reference?t.data.reference:"Nouvelle Commande"))))),i.a.createElement("div",{className:"flex items-end"},0===ua?i.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(e){return Ea(0,1)}},"Suivant ",i.a.createElement(l.a,null,"navigate_next")):i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"mr-4",onClick:function(e){return Ea(0,0)}},i.a.createElement(l.a,null,"navigate_before")," Pr\xe9c\xe9dent"),i.a.createElement(m.a,{className:"whitespace-no-wrap",variant:"contained",color:"secondary",disabled:0===te.length,onClick:function(){return ga(_e)}},"Passer la commande",t.loading&&i.a.createElement(u.a,{size:24,className:fa.buttonProgress}))))),contentToolbar:t.loading||!_e?i.a.createElement("div",{className:fa.root},i.a.createElement(d.a,{color:"secondary"})):i.a.createElement(f.a,{value:ua,onChange:Ea,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},i.a.createElement(p.a,{className:"h-64 normal-case",label:"D\xe9tail de l'abonnement"}),i.a.createElement(p.a,{className:"h-64 normal-case",label:"Secteurs d'activit\xe9s"})),content:t.loading?"":_e&&i.a.createElement(ue.a,null,i.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},0===ua&&i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{container:!0,spacing:3,className:""},i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(o.a,{className:"mb-16 ",variant:"h6"},i.a.createElement("span",{className:fa.border},"Offres"))),i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(o.a,{className:"mb-16",variant:"h6"}," ",i.a.createElement("span",{className:fa.border},"R\xe9capitulatif de votre commande")))),i.a.createElement(E.a,{container:!0,spacing:3,className:"mt-16 mb-8"},i.a.createElement(E.a,{item:!0,xs:12,sm:6,className:"border-1"},t.offres&&je&&t.fournisseur?t.offres.map(function(e,a){return i.a.createElement(E.a,{container:!0,key:a,spacing:3},i.a.createElement(E.a,{item:!0,xs:6,sm:6},i.a.createElement("strong",{className:"p-1"},e.name)," ",i.a.createElement("br",null),i.a.createElement("span",{className:"p-1"},e.description)),i.a.createElement(E.a,{item:!0,xs:6,sm:6},i.a.createElement(pe.a,{row:!0},i.a.createElement(g.a,{control:i.a.createElement(fe.a,{checked:je.id===e.id,onChange:function(){return function(e){if(Ce(e),te.length>0&&re(k.a.slice(te,0,e.nbActivite)),M.data.currency===R.z){var a=e.prixMad*De.name;if(We(a),De.remise){var t=a*De.remise/100,n=a-t,r=n*R.A;ea(t),ra(n),Ke(r),oa(n+r)}else{var c=a,s=c*R.A;Ke(s),ra(c),oa(c+s)}}else{var i=e.prixEur*De.name;if(We(i),De.remise){var o=i*De.remise/100,l=i-o;ea(o),ra(l),oa(l)}else{var m=i;ra(m),oa(m)}}}(e)},value:e["@id"]}),label:t.fournisseur.currency.name===R.z?parseFloat(e.prixMad).toLocaleString("fr",{minimumFractionDigits:2})+R.z+" HT / mois":parseFloat(e.prixEur).toLocaleString("fr",{minimumFractionDigits:2})+" \u20ac HT / mois"}))))}):i.a.createElement(Ee.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},i.a.createElement("circle",{cx:"10",cy:"20",r:"8"}),i.a.createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),i.a.createElement("circle",{cx:"10",cy:"50",r:"8"}),i.a.createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),i.a.createElement("circle",{cx:"10",cy:"80",r:"8"}),i.a.createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}))),i.a.createElement(E.a,{item:!0,xs:12,sm:6},t.offres&&je&&De?i.a.createElement(b.a,{className:"w-full -striped"},i.a.createElement(h.a,{className:"bg-gray-200"},i.a.createElement(v.a,null,i.a.createElement(y.a,{className:"font-bold  text-black"},"Offre"),i.a.createElement(y.a,{className:"font-bold text-black text-right"},"Total HT"))),i.a.createElement(x.a,null,i.a.createElement(v.a,null,i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11"},i.a.createElement("strong",null,je?je.name:""),i.a.createElement("br",null),parseFloat(je.prixMad).toLocaleString("fr",{minimumFractionDigits:2}),"* ",De.name+" mois"),i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(He).toLocaleString("fr",{minimumFractionDigits:2}))),i.a.createElement(v.a,{className:"bg-gray-200"},i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Total HT"),i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(He).toLocaleString("fr",{minimumFractionDigits:2}))),De.remise?i.a.createElement(v.a,{className:""},i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Remise (",De.remise,"%)"),i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(Ze).toLocaleString("fr",{minimumFractionDigits:2}))):null,na>0&&na!==He?i.a.createElement(v.a,{className:"bg-gray-200"},i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Montant NET HT"),i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(na).toLocaleString("fr",{minimumFractionDigits:2}))):null,i.a.createElement(v.a,{className:""},i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"TVA (20%)"),i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(Je).toLocaleString("fr",{minimumFractionDigits:2}))),i.a.createElement(v.a,{className:"bg-gray-200"},i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate font-bold text-11 text-right"},"Montant TTC"),i.a.createElement(y.a,{component:"th",scope:"row",className:"truncate font-bold text-13 text-right"},parseFloat(ia).toLocaleString("fr",{minimumFractionDigits:2}))))):i.a.createElement(Ee.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},i.a.createElement("circle",{cx:"10",cy:"20",r:"8"}),i.a.createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),i.a.createElement("circle",{cx:"10",cy:"50",r:"8"}),i.a.createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),i.a.createElement("circle",{cx:"10",cy:"80",r:"8"}),i.a.createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"})))),i.a.createElement(E.a,{container:!0,spacing:3,className:""},i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(o.a,{className:"mb-16",variant:"h6"},i.a.createElement("span",{className:fa.border},"Mode de paiement"),"  ")),i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(o.a,{className:"mb-16",variant:"h6"},i.a.createElement("span",{className:fa.border},"Dur\xe9e de votre abonnement")," "))),i.a.createElement(E.a,{container:!0,spacing:3,className:"mt-6 mb-8"},i.a.createElement(E.a,{item:!0,xs:12,sm:6,className:"border-1"},t.paiements?t.paiements.map(function(e,a){return i.a.createElement(g.a,{onChange:function(){return Pe(e["@id"])},key:a,value:e["@id"],checked:Me===e["@id"],control:i.a.createElement(S.a,null),label:e.name})}):i.a.createElement(Ee.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},i.a.createElement("circle",{cx:"15",cy:"17",r:"6"}),i.a.createElement("rect",{x:"25",y:"11",rx:"5",ry:"5",width:"100",height:"12"}),i.a.createElement("circle",{cx:"145",cy:"17",r:"6"}),i.a.createElement("rect",{x:"155",y:"11",rx:"5",ry:"5",width:"100",height:"12"}))),i.a.createElement(E.a,{item:!0,xs:12,sm:6,className:"border-1"},t.durees&&De?t.durees.map(function(e,a){return i.a.createElement(i.a.Fragment,{key:a},i.a.createElement(g.a,{onChange:function(){return function(e){if(ke(e),M.data.currency===R.z){var a=je.prixMad*e.name;if(We(a),e.remise){var t=a*e.remise/100,n=a-t,r=n*R.A;ea(t),ra(n),Ke(r),oa(n+r)}else{var c=a,s=c*R.A;Ke(s),ra(c),oa(c+s)}}else{var i=je.prixEur*e.name;if(We(i),e.remise){var o=i*e.remise/100,l=i-o;ea(o),ra(l),oa(l)}else{var m=i;ra(m),oa(m)}}}(e)},value:e["@id"],checked:De.id===e.id,control:i.a.createElement(S.a,null),label:e.name+" mois"}),e.remise?i.a.createElement("span",{className:"text-12 text-red"},"(Soit ",e.remise,"% de remise )"):"")}):i.a.createElement(Ee.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},i.a.createElement("circle",{cx:"15",cy:"17",r:"6"}),i.a.createElement("rect",{x:"25",y:"11",rx:"5",ry:"5",width:"100",height:"12"}),i.a.createElement("circle",{cx:"145",cy:"17",r:"6"}),i.a.createElement("rect",{x:"155",y:"11",rx:"5",ry:"5",width:"100",height:"12"})))),i.a.createElement(E.a,{container:!0,spacing:3,className:"mt-6 mb-16"},i.a.createElement(E.a,{item:!0,xs:12,sm:12,className:"flex justify-end"},i.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(e){return Ea(0,1)}},"Suivant ",i.a.createElement(l.a,null,"navigate_next"))))),1===ua&&i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,{container:!0,spacing:3,className:""},i.a.createElement(E.a,{item:!0,xs:12},i.a.createElement(o.a,{className:"mb-16",variant:"h6"},i.a.createElement("span",{className:fa.border},"Secteurs & Activit\xe9s")))),i.a.createElement(E.a,{container:!0,spacing:3,className:"mt-8 mb-8"},i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(R.E,{id:"secteurs",name:"secteurs",value:Se,placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Secteurs",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mb-16",options:t.secteurs,isLoading:t.loadingSecteurs,onChange:function(e){return ba(e,"secteurs")},required:!0})),i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(R.E,{id:"activites",name:"activites",value:"",placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Activit\xe9s",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mb-16",options:t.sousSecteurs,isLoading:t.loadingSS,onChange:function(e){return ba(e,"activites")},required:!0}),i.a.createElement(o.a,{variant:"caption"},je&&(je.nbActivite>te.length?"Vous pouvez encore ajouter ".concat(je.nbActivite-te.length," activit\xe9s"):"Vous avez atteint la limite de ".concat(je.nbActivite," activit\xe9s"))))),i.a.createElement(E.a,{container:!0,spacing:3,className:"mb-8"},i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(o.a,{variant:"h6"},i.a.createElement("span",{className:fa.border},"Activit\xe9(s) choisie(s)"))),i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(o.a,{variant:"h6"},i.a.createElement("span",{className:fa.border},"Suggestions")," "))),i.a.createElement(E.a,{container:!0,spacing:3,className:"mt-4 border-1"},i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement("div",{className:Object(ge.a)(fa.chips)},te&&te.length>0&&k.a.sortBy(te,[function(e){return e.label}]).map(function(e,a){return i.a.createElement(N.a,{key:e.label,label:e.label,color:"secondary",onDelete:function(){return a=e.value,void re(k.a.reject(te,function(e){return e.value===a}));var a},className:"mt-8 mr-8"})}))),i.a.createElement(E.a,{item:!0,xs:12,sm:6,className:"border-1"},t.fournisseur?i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{className:"mt-4",variant:"caption"},"Si vos secteurs ou activit\xe9s n\xb4existent pas, veuillez nous les envoyer en cliquant"),i.a.createElement("div",{className:"mt-4"},i.a.createElement(D.a,{component:"button",variant:"body2",color:"secondary",onClick:function(){Le(!0)}},"Suggerer d'autres secteurs et activit\xe9s"),i.a.createElement(O.a,{open:Ie,onClose:pa,"aria-labelledby":"form-dialog-title"},i.a.createElement(A.a,{id:"form-dialog-title"},"Vos suggestions"),i.a.createElement(j.a,null,i.a.createElement(o.a,{variant:"caption"},"Ces suggestions seront prises en compte par l'administrateur dans les plus brefs d\xe9lais."),i.a.createElement(E.a,{container:!0,spacing:3},i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(C.a,{className:"mt-8 mb-16",error:he.length<=2,required:!0,label:"Secteur",autoFocus:!0,value:he,id:"secteur",name:"secteur",onChange:function(e){return ve(e.target.value)},variant:"outlined",fullWidth:!0,helperText:he.length<=2?"Ce champ doit contenir au moins 3 caract\xe8res":""})),i.a.createElement(E.a,{item:!0,xs:12,sm:6},i.a.createElement(C.a,{className:"mt-8 mb-16",id:"sousSecteur",name:"sousSecteur",error:ie.length<=2,onChange:function(e){return oe(e.target.value)},label:"Activit\xe9",type:"text",required:!0,value:ie,variant:"outlined",fullWidth:!0,helperText:ie.length<=2?"Ce champ doit contenir au moins 3 caract\xe8res ":""})))),i.a.createElement(w.a,null),i.a.createElement(F.a,null,i.a.createElement(m.a,{onClick:pa,variant:"outlined",color:"primary"},"Annuler"),i.a.createElement(m.a,{onClick:function(){a(function(e,a,t){var n={};if(a&&e)return n.sousSecteur=a,n.secteur=e,n.pageSuggestion="Demande Offre d'abonnement fournisseur",n.user="/api/fournisseurs/".concat(t),function(e,a){var t=I.a.post("/api/suggestion_secteurs",n);return e({type:G}),t.then(function(a){return Promise.all([e({type:Z}),e(Object(L.B)({message:"Votre suggestion a bien \xe9t\xe9 enregistr\xe9e, un mail vous sera envoy\xe9 d\xe8s la validation de votre suggestion, nous vous remercions pour votre confiance!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])})}}(he,ie,M.id))},variant:"contained",color:"secondary",disabled:t.loadingSuggestion||ie.length<2||he.length<=2},"Soumettre la suggestion",t.loadingSuggestion&&i.a.createElement(u.a,{size:24,className:fa.buttonProgress})))))):i.a.createElement(Ee.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},i.a.createElement("rect",{x:"1",y:"13",rx:"5",ry:"5",width:"220",height:"24"})))),i.a.createElement(E.a,{container:!0,spacing:3,className:"mt-16 mb-16 flex justify-end"},i.a.createElement(E.a,{item:!0,xs:12,sm:6,className:"flex justify-end"},i.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"mr-4",onClick:function(e){return Ea(0,0)}},i.a.createElement(l.a,null,"navigate_before")," Pr\xe9c\xe9dent"),i.a.createElement(m.a,{className:"whitespace-no-wrap",variant:"contained",color:"secondary",disabled:0===te.length,onClick:function(){return ga(_e)}},"Passer la commande",t.loading&&i.a.createElement(u.a,{size:24,className:fa.buttonProgress}))))))),innerScroll:!0})})}}]);