(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1241:function(e,t,a){"use strict";var r=a(0),n=function(){return(n=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};var c=function(){return Math.random().toString(36).substring(2)},i=function(e){var t=e.rtl,a=e.speed,i=e.interval,o=e.style,s=e.width,l=e.height,d=e.baseUrl,u=e.gradientRatio,m=e.animate,p=e.ariaLabel,E=e.children,f=e.className,y=e.uniquekey,h=e.primaryColor,g=e.primaryOpacity,b=e.secondaryColor,O=e.secondaryOpacity,P=e.preserveAspectRatio,x=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),v=y?y+"-idClip":c(),T=y?y+"-idGradient":c(),S=t?{transform:"scaleX(-1)"}:{},w="0; "+i+"; 1",R=a+"s";return Object(r.createElement)("svg",n({role:"img",style:n(n({},o),S),className:f,"aria-label":p||null,viewBox:"0 0 "+s+" "+l,preserveAspectRatio:P},x),p?Object(r.createElement)("title",null,p):null,Object(r.createElement)("rect",{x:"0",y:"0",width:s,height:l,clipPath:"url("+d+"#"+v+")",style:{fill:"url("+d+"#"+T+")"}}),Object(r.createElement)("defs",null,Object(r.createElement)("clipPath",{id:v},E),Object(r.createElement)("linearGradient",{id:T},Object(r.createElement)("stop",{offset:"0%",stopColor:h,stopOpacity:g},m&&Object(r.createElement)("animate",{attributeName:"offset",values:-u+"; "+-u+"; 1",keyTimes:w,dur:R,repeatCount:"indefinite"})),Object(r.createElement)("stop",{offset:"50%",stopColor:b,stopOpacity:O},m&&Object(r.createElement)("animate",{attributeName:"offset",values:-u/2+"; "+-u/2+"; "+(1+u/2),keyTimes:w,dur:R,repeatCount:"indefinite"})),Object(r.createElement)("stop",{offset:"100%",stopColor:h,stopOpacity:g},m&&Object(r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+u),keyTimes:w,dur:R,repeatCount:"indefinite"})))))},o={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},s=function(e){return Object(r.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},l=function(e){var t=n(n({},o),e);return Object(r.createElement)(i,n({},t),e.children||Object(r.createElement)(s,n({},t)))};t.a=l},1242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=r},1292:function(e,t,a){"use strict";var r=a(50);const n="[PRODUITS SELECTED APP] REQUEST PRODUITS",c="[PRODUITS SELECTED APP] CLEAN_UP",i="[PRODUITS SELECTED APP] GET PRODUITS";function o(){return e=>e({type:c})}function s(){const e=r.a.get("/api/select_produits");return t=>(t({type:n}),e.then(e=>t({type:i,payload:e.data["hydra:member"]})))}var l=a(39),d=a(33);const u="[PRODUIT_SELECTED APP] REQUEST PRODUIT_SELECTED",m="[PRODUIT_SELECTED APP] GET PRODUIT_SELECTED",p="[PRODUIT_SELECTED APP] REQUEST_FOURNISSEUR_SELECTED",E="[PRODUIT_SELECTED APP] GET_FOURNISSEUR_SELECTED",f="[PRODUIT_SELECTED APP] REQUEST CATEGORIE_SELECTED",y="[PRODUIT_SELECTED APP] GET CATEGORIE_SELECTED",h="[PRODUIT_SELECTED APP] REQUEST_PRODUCTS_F",g="[PRODUIT_SELECTED APP] GET_PRODUCTS_F",b="[PRODUIT_SELECTED APP] REQUEST SAVE",O="[PRODUIT_SELECTED APP] SAVE PRODUIT_SELECTED",P="[PRODUIT_SELECTED APP] SAVE ERROR";function x(e){const t=r.a.get("/api/select_produits/".concat(e));return e=>(e({type:u}),t.then(t=>{e({type:m,payload:t.data})}).catch(t=>{e({type:P,payload:l.y.parseApiErrors(t)})}))}function v(){const e=r.a.get("/api/fournisseurselected");return t=>(t({type:p}),e.then(e=>{t({type:E,payload:e.data})}).catch(e=>{t({type:P,payload:l.y.parseApiErrors(e)})}))}function T(e){const t=r.a.get("/api/fournisseurcategories?id=".concat(e));return e=>(e({type:f}),t.then(t=>{e({type:y,payload:t.data})}).catch(t=>{e({type:P,payload:l.y.parseApiErrors(t)})}))}function S(e,t){const a=r.a.get("/api/produits?fournisseur=".concat(e,"&categorie=").concat(t));return e=>(e({type:h}),a.then(t=>{e({type:g,payload:t.data["hydra:member"]})}).catch(t=>{e({type:P,payload:l.y.parseApiErrors(t)})}))}function w(e,t){const a=r.a.put(t,{produit:e});return e=>(e({type:b}),a.then(t=>(e(Object(d.B)({message:"Succ\xe8s"})),e({type:O,payload:t.data}))).catch(t=>{e({type:P,payload:l.y.parseApiErrors(t)})}))}a.d(t,"k",function(){return n}),a.d(t,"a",function(){return c}),a.d(t,"e",function(){return i}),a.d(t,"p",function(){return o}),a.d(t,"s",function(){return s}),a.d(t,"l",function(){return u}),a.d(t,"f",function(){return m}),a.d(t,"i",function(){return p}),a.d(t,"c",function(){return E}),a.d(t,"b",function(){return y}),a.d(t,"j",function(){return h}),a.d(t,"d",function(){return g}),a.d(t,"m",function(){return b}),a.d(t,"o",function(){return O}),a.d(t,"n",function(){return P}),a.d(t,"q",function(){return x}),a.d(t,"r",function(){return v}),a.d(t,"g",function(){return T}),a.d(t,"h",function(){return S}),a.d(t,"t",function(){return w})},1322:function(e,t,a){"use strict";var r=a(3),n=a.n(r),c=a(4),i=a.n(c),o=a(0),s=a.n(o),l=a(2),d=(a(28),a(8)),u=["video","audio","picture","iframe","img"],m=s.a.forwardRef(function(e,t){var a=e.classes,r=e.className,c=e.component,o=void 0===c?"div":c,d=e.image,m=e.src,p=e.style,E=i()(e,["classes","className","component","image","src","style"]),f=-1!==u.indexOf(o),y=!f&&d?n()({backgroundImage:'url("'.concat(d,'")')},p):p;return s.a.createElement(o,n()({className:Object(l.a)(a.root,f&&a.media,r),ref:t,style:y,src:f?d||m:void 0},E))});t.a=Object(d.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%",objectFit:"cover"}},{name:"MuiCardMedia"})(m)},1323:function(e,t,a){"use strict";var r=a(3),n=a.n(r),c=a(4),i=a.n(c),o=a(0),s=a.n(o),l=a(2),d=a(8),u=s.a.forwardRef(function(e,t){var a=e.disableSpacing,r=void 0!==a&&a,c=e.classes,o=e.className,d=i()(e,["disableSpacing","classes","className"]);return s.a.createElement("div",n()({className:Object(l.a)(c.root,!r&&c.spacing,o),ref:t},d))});t.a=Object(d.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > * + *":{marginLeft:8}}},{name:"MuiCardActions"})(u)},1358:function(e,t,a){"use strict";var r=a(43),n=a(1292);const c={data:[],loading:!1,searchText:""};var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.a:return{...e,data:[]};case n.k:return{...e,loading:!0};case n.e:return{...e,data:t.payload,loading:!1};default:return e}};const o={data:null,fournisseurs:null,categories:null,products:null,error:null,loadingFournisseurs:!1,loadingProducts:!1,loading:!1,success:!1,imageReqInProgress:!1,deleteReqInProgress:!1,image:null,image_deleted:null};var s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.l:return{...e,loading:!0};case n.m:return{...e,loadingProducts:!0};case n.i:return{...e,loadingFournisseurs:!0,categories:null};case n.j:return{...e,loadingProducts:!0,products:null};case n.d:return{...e,products:t.payload,loadingProducts:!1};case n.c:return{...e,fournisseurs:t.payload,loadingFournisseurs:!1};case n.b:return{...e,categories:t.payload};case n.f:return{...e,data:t.payload,loading:!1};case n.o:return{...e,data:t.payload,loadingProducts:!1,success:!0};case n.n:return{...e,error:t.payload,loading:!1,success:!1};default:return e}};const l=Object(r.d)({focusProduits:i,focusProduit:s});t.a=l},1510:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(1157),i=a(137),o=a(7),s=a(136),l=a(1292),d=a(1358),u=a(39),m=a(89),p=a(1204),E=a(1232),f=a(1227),y=a(1212),h=a(1217),g=a(1322),b=a(1235),O=a(1160),P=a(1323),x=a(16),v=a(1242),T=a.n(v),S=a(1241),w=a(10),R=a(201),j=a(51),C=a.n(j);const D=Object(c.a)(e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},buttonProgress:{color:T.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},media:{height:140}}));t.default=Object(s.a)("focusProduitsApp",d.a)(function(e){const t=Object(o.b)(),a=Object(o.c)(e=>{let{focusProduitsApp:t}=e;return t.focusProduit}),[c,s]=Object(r.useState)(null),[d,v]=Object(r.useState)(null),{form:T,setForm:j}=Object(i.b)(null),I=D(e);return Object(r.useEffect)(()=>{!function(){const a=e.match.params,{produitId:r}=a;t(l.q(r)),t(l.r())}()},[t,e.match.params]),Object(r.useEffect)(()=>{(a.data&&!T||a.data&&T&&a.data.id!==T.id)&&(j({...a.data}),a.data.produit&&(s({value:a.data.produit.fournisseur.id,label:a.data.produit.fournisseur.societe}),v({value:a.data.produit.categorie.id,label:a.data.produit.categorie.name}),t(l.g(a.data.produit.fournisseur.id)),t(l.h(a.data.produit.fournisseur.id,a.data.produit.categorie.id))))},[t,T,a.data,j]),n.a.createElement(u.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:T&&n.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},n.a.createElement("div",{className:"flex flex-col items-start max-w-full"},n.a.createElement(u.d,{animation:"transition.slideRightIn",delay:300},n.a.createElement(m.a,{className:"normal-case flex items-center sm:mb-12",component:x.a,role:"button",to:"/admin/focus-produits",color:"inherit"},n.a.createElement(p.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),n.a.createElement("div",{className:"flex items-center max-w-full"},n.a.createElement("div",{className:"flex flex-col min-w-0"},n.a.createElement(u.d,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(m.a,{className:"text-16 sm:text-20 truncate"},T.produit?T.produit.titre:"Mettre \xe0 jour")))))),content:a.loading?"":T&&n.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},n.a.createElement(C.a,null,n.a.createElement(E.a,{container:!0,spacing:2,className:"items-center justify-center"},n.a.createElement(E.a,{item:!0,sm:4},n.a.createElement(u.E,{id:"fournisseur",name:"fournisseur",value:c,placeholder:"S\xe9lectionner un fournisseur",textFieldProps:{label:"Fournisseurs",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mt-8",options:a.fournisseurs,onChange:e=>{s(e),t(l.g(e.value)),v("")}})),n.a.createElement(E.a,{item:!0,sm:4},n.a.createElement(u.E,{id:"categorie",name:"categorie",value:d,placeholder:"S\xe9lectionner un cat\xe9gorie",textFieldProps:{label:"Cat\xe9gories",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mt-8",options:a.categories,onChange:e=>{v(e)}})),n.a.createElement(E.a,{item:!0,sm:4},n.a.createElement(f.a,{size:"large",className:"mt-8",variant:"contained",disabled:!c||!d,onClick:()=>{t(l.h(c.value,d.value))},color:"primary"},"Rechercher")))),n.a.createElement(y.a,{className:"mb-16 mt-16"}),a.loadingProducts?n.a.createElement(S.a,Object.assign({viewBox:"0 0 1360 900",height:900,width:1360,speed:2},e),n.a.createElement("rect",{x:"30",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),n.a.createElement("rect",{x:"30",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),n.a.createElement("rect",{x:"30",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),n.a.createElement("rect",{x:"250",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),n.a.createElement("rect",{x:"250",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),n.a.createElement("rect",{x:"250",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),n.a.createElement("rect",{x:"470",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),n.a.createElement("rect",{x:"470",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),n.a.createElement("rect",{x:"470",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),n.a.createElement("rect",{x:"690",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),n.a.createElement("rect",{x:"690",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),n.a.createElement("rect",{x:"690",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),n.a.createElement("rect",{x:"910",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),n.a.createElement("rect",{x:"910",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),n.a.createElement("rect",{x:"910",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),n.a.createElement("rect",{x:"1130",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),n.a.createElement("rect",{x:"1130",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),n.a.createElement("rect",{x:"1130",y:"275",rx:"0",ry:"0",width:"120",height:"20"})):n.a.createElement(E.a,{container:!0,spacing:2},a.products&&a.products.map((r,c)=>n.a.createElement(E.a,{item:!0,sm:3,xs:6,key:c},n.a.createElement(h.a,{className:I.card},n.a.createElement(g.a,{className:I.media,image:r.featuredImageId?R.d+r.featuredImageId.url:"assets/images/ecommerce/product-placeholder.jpg",title:r.titre}),n.a.createElement(b.a,null,n.a.createElement(m.a,{gutterBottom:!0,variant:"h5",component:"h5"},w.a.capitalize(w.a.truncate(r.titre,{length:18}))),n.a.createElement(m.a,{variant:"caption",color:"textSecondary"},"R\xe9f.",r.reference),n.a.createElement(m.a,{variant:"body2",color:"textSecondary",component:"p",className:"mb-16 mt-8"},w.a.capitalize(w.a.truncate(r.description,{length:150}))),r.images.length>0?n.a.createElement(O.a,{icon:n.a.createElement(p.a,{className:"text-16 mr-0"},"image"),label:r.images.length,classes:{root:"h-24",label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0",...e.classes},variant:"outlined",className:"mr-4"}):"",r.videos?n.a.createElement(O.a,{icon:n.a.createElement(p.a,{className:"text-16 mr-0"},"videocam"),label:"1",classes:{root:"h-24",label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0",...e.classes},variant:"outlined",className:"mr-4"}):"",r.ficheTechnique?n.a.createElement(O.a,{icon:n.a.createElement(p.a,{className:"text-16 mr-0"},"picture_as_pdf"),label:"1 fiche technique",classes:{root:"h-24",label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0",...e.classes},variant:"outlined",className:"mr-4"}):""),n.a.createElement(P.a,{className:"flex justify-center"},a.data.produit&&a.data.produit.id===r.id?n.a.createElement(O.a,{icon:n.a.createElement(p.a,{className:"text-16 mr-0"},"done"),label:"Selectionn\xe9",classes:{root:"h-24",label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0",...e.classes},color:"secondary",className:"mr-4"}):n.a.createElement(f.a,{size:"small",variant:"contained",onClick:()=>{t(l.t(r["@id"],a.data["@id"]))},color:"primary"},"S\xe9lectionner"))))))),innerScroll:!0})})}}]);