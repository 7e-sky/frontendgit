(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1049:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=n},1084:function(e,t,a){"use strict";var n=a(36),r=a(54),o=a(196),i="[CONTACTS FOURNISSEUR APP] REQUEST CONTACTS",c="[CONTACTS FOURNISSEUR APP] REMOVE CONTACTS",s="[CONTACTS FOURNISSEUR APP] SET PARAMETRES DATA",u="[CONTACTS FOURNISSEUR APP] GET CONTACTS",l="[CONTACTS FOURNISSEUR APP] SET CONTACTS SEARCH TEXT";function d(e){var t="";e.search.length>0&&e.search.map(function(e){return e.value&&("created"===e.id?t+="&"+e.id+"[after]="+e.value:t+="&"+e.id+"="+e.value)});var a=r.a.get("/api/contact_fournisseurs?page=".concat(e.page).concat(t,"&order[").concat(e.filter.id,"]=").concat(e.filter.direction));return function(e){return e({type:i}),a.then(function(t){return e({type:u,payload:t.data})})}}function m(e,t){var a={del:!0};return function(s,u){var l=r.a.put("/api/contact_fournisseurs/".concat(e.id),a);return s({type:i}),l.then(function(e){return Promise.all([s({type:c}),s(o.b("message-fournisseur")),s(Object(n.B)({message:"Message bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(function(){return s(d(t))})})}}function f(e){return{type:s,parametres:e}}var p=a(40),E="[CONTACT FOURNISSEUR APP] REQUEST CONTACT",g="[CONTACT FOURNISSEUR APP] GET CONTACT",b="[CONTACT FOURNISSEUR APP] REQUEST SAVE",h="[CONTACT FOURNISSEUR APP] SAVE ERROR",O="[CONTACT FOURNISSEUR APP] CLEAN_ERROR",v="[CONTACT FOURNISSEUR APP] CLEAN_UP";function y(){return function(e){return e({type:O})}}function N(e){var t=r.a.get("/api/contact_fournisseurs/".concat(e));return function(e){return e({type:E}),t.then(function(t){e({type:g,payload:t.data})}).catch(function(t){e({type:h,payload:p.y.parseApiErrors(t)})})}}function T(e,t,a){var i=r.a.put("/api/contact_fournisseurs/".concat(t),e);return function(e){return e({type:b}),i.then(function(t){e(o.b("message-fournisseur")),e(Object(n.B)({message:"Message Modifi\xe9"})),a.push("/contact_fournisseur")}).catch(function(t){e({type:h,payload:p.y.parseApiErrors(t)})})}}var C="[DIALOG] OPEN",S="[DIALOG] CLOSE";function A(){return{type:S}}function x(e){return{type:C,options:e}}a.d(t,"f",function(){return i}),a.d(t,"j",function(){return s}),a.d(t,"d",function(){return u}),a.d(t,"i",function(){return l}),a.d(t,"n",function(){return d}),a.d(t,"q",function(){return m}),a.d(t,"r",function(){return f}),a.d(t,"e",function(){return E}),a.d(t,"c",function(){return g}),a.d(t,"g",function(){return b}),a.d(t,"h",function(){return h}),a.d(t,"a",function(){return O}),a.d(t,"b",function(){return v}),a.d(t,"k",function(){return y}),a.d(t,"m",function(){return N}),a.d(t,"p",function(){return T}),a.d(t,"l",function(){return A}),a.d(t,"o",function(){return x})},1155:function(e,t,a){"use strict";var n=a(46),r=a(8),o=a(1084),i={data:null,error:null,loading:!1},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.b:return Object(r.a)({},i);case o.a:return Object(r.a)({},e,{error:null});case o.e:case o.g:return Object(r.a)({},e,{loading:!0});case o.c:return Object(r.a)({},e,{data:t.payload,loading:!1});case o.h:return Object(r.a)({},e,{error:t.payload,loading:!1});default:return e}},s=a(107),u={data:[],pageCount:null,loading:!1,searchText:"",parametres:{page:1,search:[],filter:{id:"created",direction:"desc"}}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.f:return Object(r.a)({},e,{loading:!0});case o.d:return Object(r.a)({},e,{data:t.payload["hydra:member"],pageCount:s.a.hydraPageCount(t.payload),loading:!1});case o.i:return Object(r.a)({},e,{searchText:t.searchText});case o.j:return Object(r.a)({},e,{parametres:{page:t.parametres.page,search:t.parametres.search,filter:{id:t.parametres.filter.id,direction:t.parametres.filter.direction}}});default:return e}},d=a(36),m={state:!1,options:{children:"Hi"}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.f:return Object(r.a)({},e,{state:!0,options:Object(r.a)({},e.options,t.options)});case d.a:return Object(r.a)({},e,{state:!1});default:return e}},p=Object(n.d)({contactsFournisseur:l,contactFournisseur:c,dialog:f});t.a=p},1329:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(23),o=a(0),i=a.n(o),c=a(98),s=a(1013),u=a(1035),l=a(1041),d=a(1032),m=a(1044),f=a(1027),p=a(1040),E=a(1020),g=a(1039),b=a(163),h=a(345),O=a(40),v=a(141),y=a(18),N=a(10),T=a(6),C=a(140),S=a(1084),A=a(1155),x=a(55),R=a.n(x),P=a(1049),j=a.n(P),F=Object(h.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},buttonProgress:{color:j.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},contactFournisseurImageFeaturedStar:{position:"absolute",top:0,right:0,color:b.a[400],opacity:0},contactFournisseurImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},select:{zIndex:999},contactFournisseurImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $contactFournisseurImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $contactFournisseurImageFeaturedStar":{opacity:1},"&:hover $contactFournisseurImageFeaturedStar":{opacity:1}}}}});t.default=Object(C.a)("contactsFournisseurApp",A.a)(function(e){var t=Object(T.b)(),a=Object(T.c)(function(e){return e.contactsFournisseurApp.contactFournisseur}),b=Object(o.useState)(!1),h=Object(r.a)(b,2),C=h[0],A=h[1],x=Object(o.useRef)(null),P=Object(v.b)(),j=P.form,I=P.handleChange,U=P.setForm,w=F(e),_=Object(o.useState)(0),L=Object(r.a)(_,2),M=L[0],k=L[1];function D(){A(!1)}function V(){t(S.p(j,j.id,e.history))}return Object(o.useEffect)(function(){if(a.error&&(a.error.statut||a.error.email||a.error.message||a.error.contact||a.error.phone))return x.current.updateInputsWithError(Object(n.a)({},a.error)),D(),function(){t(S.k())}},[a.error]),Object(o.useEffect)(function(){!function(){var a=e.match.params.messageId;t(S.m(a))}()},[t,e.match.params]),Object(o.useEffect)(function(){(a.data&&!j||a.data&&j&&a.data.id!==j.id)&&U(Object(n.a)({},a.data))},[j,a.data,U]),i.a.createElement(O.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:a.loading?"":j&&i.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},i.a.createElement("div",{className:"flex flex-col items-start max-w-full"},i.a.createElement(O.d,{animation:"transition.slideRightIn",delay:300},i.a.createElement(c.a,{className:"normal-case flex items-center sm:mb-12",component:y.a,role:"button",to:"/contact_fournisseur",color:"inherit"},i.a.createElement(s.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),i.a.createElement("div",{className:"flex items-center max-w-full"},i.a.createElement("div",{className:"flex flex-col min-w-0"},i.a.createElement(O.d,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(c.a,{className:"text-16 sm:text-20 truncate"},j.fournisseur?"Message pour le fournisseur: "+j.fournisseur.societe:"")),i.a.createElement(O.d,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(c.a,{variant:"caption"},"D\xe9tails du message"," "))))),i.a.createElement(O.d,{animation:"transition.slideRightIn",delay:300},i.a.createElement(u.a,{className:"whitespace-no-wrap",variant:"contained",color:"secondary",type:"submit",disabled:!C||a.loading,onClick:function(){return V()}},"Sauvegarder",a.loading&&i.a.createElement(l.a,{size:24,className:w.buttonProgress})))),contentToolbar:a.loading?i.a.createElement("div",{className:w.root},i.a.createElement(d.a,{color:"secondary"})):i.a.createElement(m.a,{value:M,onChange:function(e,t){k(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},i.a.createElement(f.a,{className:"h-64 normal-case",label:"D\xe9tails de la demande de devis"})),content:a.loading?"":j&&i.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},0===M&&i.a.createElement(R.a,{onValidSubmit:V,onValid:function(){A(!0)},onInvalid:D,ref:x,className:"flex pt-10 flex-col "},i.a.createElement(p.a,{container:!0,spacing:3,className:"mb-5"},i.a.createElement(p.a,{item:!0,xs:12,sm:12},i.a.createElement(O.F,{label:"Fournisseur",id:"fournisseur",name:"fournisseur",value:j.fournisseur?j.fournisseur.societe:"",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0,disabled:!0}))),i.a.createElement(E.a,null),i.a.createElement(p.a,{container:!0,spacing:3,className:"mt-5 mb-5"},i.a.createElement(p.a,{item:!0,xs:12,sm:4},i.a.createElement(O.F,{type:"text",name:"contact",value:j.contact,onChange:I,label:"NOM & Pr\xe9nom",disabled:!0,InputProps:{readOnly:!0,endAdornment:i.a.createElement(g.a,{position:"end"},i.a.createElement(s.a,{className:"text-20",color:"action"},"person"))},variant:"outlined",fullWidth:!0})),i.a.createElement(p.a,{item:!0,xs:12,sm:4},i.a.createElement(O.F,{type:"text",name:"email",label:"Email",value:j.email,onChange:I,InputProps:{readOnly:!0,endAdornment:i.a.createElement(g.a,{position:"end"},i.a.createElement(s.a,{className:"text-20",color:"action"},"email"))},disabled:!0,variant:"outlined",fullWidth:!0})),i.a.createElement(p.a,{item:!0,xs:12,sm:4},i.a.createElement(O.F,{className:"mb-16",value:j.phone,onChange:I,type:"text",name:"phone",label:"T\xe9l\xe9phone",disabled:!0,InputProps:{readOnly:!0,endAdornment:i.a.createElement(g.a,{position:"end"},i.a.createElement(s.a,{className:"text-20",color:"action"},"local_phone"))},variant:"outlined",fullWidth:!0}))),i.a.createElement(O.F,{className:"mb-16  w-full",type:"text",name:"message",value:j.message,onChange:I,label:"Message",validations:{minLength:10},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 10"},variant:"outlined",multiline:!0,rows:"4",required:!0}),i.a.createElement(p.a,{container:!0,spacing:3,className:"flex items-center"},i.a.createElement(p.a,{item:!0,xs:12,sm:12,className:"flex items-center"},i.a.createElement(O.a,{name:"statut",onChange:function(e){return function(e,t){U(N.a.set(Object(n.a)({},j),t,e.target.checked))}(e,"statut")},label:"Valider et alerter le fournisseur",value:j.statut}),i.a.createElement(u.a,{className:"ml-4",variant:"contained",color:"secondary",type:"submit",disabled:!C||a.loading,onClick:function(){return V()}},"Sauvegarder",a.loading&&i.a.createElement(l.a,{size:24,className:w.buttonProgress})))))),innerScroll:!0})})}}]);