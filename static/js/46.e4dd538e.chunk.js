(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1049:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};n.default=a},1077:function(e,n,t){"use strict";var a=t(54),r=t(36),i="[CONDITIONS APP ADMIN] REQUEST CONDITIONS",o="[CONDITIONS APP ADMIN] GET CONDITIONS",c="[CONDITIONS APP ADMIN] SET CONDITIONS SEARCH TEXT";function l(e){return{type:c,searchText:e.target.value}}function u(){var e=a.a.get("/api/condition_generales");return function(n){return n({type:i}),e.then(function(e){return n({type:o,payload:e.data})})}}function s(e){return function(n){var t=a.a.delete(e["@id"]);return n({type:i}),t.then(function(e){return Promise.all([n(Object(r.B)({message:"Bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(function(){return n(u())})})}}var d=t(107),m="[CONDITION APP APP] REQUEST CONDITION",f="[CONDITION APP APP] GET CONDITION",p="[CONDITION APP APP] SAVE ERROR",g="[CONDITION APP APP] UPDATE CONDITION",b="[CONDITION APP APP] REQUEST SAVE_CONDITION",h="[CONDITION APP APP] CLEAN_UP";function O(){return function(e){return e({type:h})}}function I(e){var n=a.a.get("/api/condition_generales/".concat(e));return function(e){return e({type:m}),n.then(function(n){e({type:f,payload:n.data})})}}function N(e,n){return function(t,i){var o=a.a.put(e["@id"],e);return t({type:b}),o.then(function(e){return Promise.all([t({type:g,payload:e.data}),t(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),n.push("/admin/conditions")])}).catch(function(e){t({type:p,payload:d.a.parseApiErrors(e)})})}}function v(e,n){var t=a.a.post("/api/condition_generales",e);return function(e){return e({type:b}),t.then(function(t){e(Object(r.B)({message:"Condition sauvegard\xe9"})),e({type:g,payload:t.data}),n.push("/admin/conditions")}).catch(function(n){e({type:p,payload:d.a.parseApiErrors(n)})})}}function E(){return{type:f,payload:{titre:"",contenu:""}}}t.d(n,"e",function(){return i}),t.d(n,"c",function(){return o}),t.d(n,"i",function(){return c}),t.d(n,"p",function(){return l}),t.d(n,"l",function(){return u}),t.d(n,"n",function(){return s}),t.d(n,"d",function(){return m}),t.d(n,"b",function(){return f}),t.d(n,"h",function(){return p}),t.d(n,"g",function(){return g}),t.d(n,"f",function(){return b}),t.d(n,"a",function(){return h}),t.d(n,"j",function(){return O}),t.d(n,"k",function(){return I}),t.d(n,"q",function(){return N}),t.d(n,"o",function(){return v}),t.d(n,"m",function(){return E})},1133:function(e,n){var t;(t=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})).fr=Object.assign(t.fr||{},{a:"Envoi du fichier \xe9chou\xe9 :",b:"Barre d'outils des images",c:"Barre d'outils des tableaux",d:"Italique",e:"Choisir l'en-t\xeate",f:"En-t\xeate",g:"Ins\xe9rer une image ou un fichier",h:"Citation",i:"Objet image",j:"Ins\xe9rer une image",k:"Augmenter le retrait",l:"Diminuer le retrait",m:"Ins\xe9rer un tableau",n:"Colonne d'ent\xeate",o:"Ins\xe9rer une colonne \xe0 gauche",p:"Ins\xe9rer une colonne \xe0 droite",q:"Supprimer la colonne",r:"Colonne",s:"Ligne d'ent\xeate",t:"Ins\xe9rer une ligne en-dessous",u:"Ins\xe9rer une ligne au-dessus",v:"Supprimer la ligne",w:"Ligne",x:"Fusionner la cellule au-dessus",y:"Fusionner la cellule \xe0 droite",z:"Fusionner la cellule en-dessous",aa:"Fusionner la cellule \xe0 gauche",ab:"Scinder la cellule verticalement",ac:"Scinder la cellule horizontalement",ad:"Fusionner les cellules",ae:"Liste num\xe9rot\xe9e",af:"Liste \xe0 puces",ag:"Gras",ah:"Image taille r\xe9elle",ai:"Image lat\xe9rale",aj:"Image align\xe9e \xe0 gauche",ak:"Image centr\xe9e",al:"Image align\xe9e \xe0 droite",am:"Saisir la l\xe9gende de l\u2019image",an:"\xc9chec de l'envoi",ao:"Ins\xe9rer un m\xe9dia",ap:"L'URL ne doit pas \xeatre vide.",aq:"Cette URL de m\xe9dia n'est pas support\xe9e.",ar:"widget m\xe9dia",as:"Lien",at:"Impossible d'obtenir l'image redimensionn\xe9e",au:"La s\xe9lection de l'image redimensionn\xe9e a \xe9chou\xe9.",av:"Impossible d'ins\xe9rer l'image \xe0 la position courante.",aw:"L'insertion d'image a \xe9chou\xe9.",ax:"Barre d'outils du widget",ay:"T\xe9l\xe9chargement en cours",az:"Ouvrir dans un nouvel onglet",ba:"Fichier t\xe9l\xe9chargeable",bb:"Supprimer le lien",bc:"Modifier le lien",bd:"Ouvrir le lien dans un nouvel onglet",be:"Ce lien n'a pas d'URL",bf:"Enregistrer",bg:"Annuler",bh:"Coller l'URL du m\xe9dia",bi:"Astuce : Copier l'URL du m\xe9dia dans le contenu pour l'ins\xe9rer plus rapidement",bj:"URL de m\xe9dia",bk:"URL du lien",bl:"\xc9diteur de texte enrichi",bm:"Barre d'outils dans un menu d\xe9roulant",bn:"%0 sur %1",bo:"Pr\xe9cedent",bp:"Suivant",bq:"Barre d'outils de l'\xe9diteur",br:"Montrer plus d'\xe9l\xe9ments",bs:"Annuler",bt:"Restaurer",bu:"\xc9diteur de texte enrichi, %0",bv:"Changer le texte alternatif \xe0 l\u2019image",bw:"Paragraphe",bx:"Titre 1",by:"Titre 2",bz:"Titre 3",ca:"Titre 4",cb:"Titre 5",cc:"Titre 6",cd:"Texte alternatif"})},1169:function(e,n,t){"use strict";var a=t(46),r=t(8),i=t(1077),o={entities:[],loading:!1,searchText:""},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case i.e:return Object(r.a)({},e,{loading:!0});case i.c:return Object(r.a)({},e,{entities:n.payload["hydra:member"],loading:!1});case i.i:return Object(r.a)({},e,{searchText:n.searchText});default:return e}},l={loading:!1,requestCondition:!1,error:null,data:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case i.a:return Object(r.a)({},e,{loading:!1,requestCondition:!1,error:null,data:null});case i.f:return Object(r.a)({},e,{loading:!0});case i.d:return Object(r.a)({},e,{requestCondition:!0});case i.b:return Object(r.a)({},e,{data:n.payload,requestCondition:!1,error:null});case i.g:return Object(r.a)({},e,{loading:!1,error:null});case i.h:return Object(r.a)({},e,{loading:!1,error:n.payload});default:return e}},s=Object(a.d)({conditions:c,condition:u});n.a=s},1328:function(e,n,t){"use strict";t.r(n);var a=t(8),r=t(23),i=t(0),o=t.n(i),c=t(98),l=t(1013),u=t(1035),s=t(1044),d=t(1027),m=t(1040),f=t(345),p=t(40),g=t(141),b=t(6),h=t(140),O=t(1077),I=t(1169),N=t(10),v=t(55),E=t.n(v),T=t(1041),C=t(1049),y=t.n(C),A=t(18),P=t(1032),j=t(1126),x=t.n(j),w=t(1128),S=t.n(w),D=(t(1133),Object(f.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},buttonProgress:{color:y.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));n.default=Object(h.a)("conditionsApp",I.a)(function(e){var n=Object(b.b)(),t=D(),f=Object(b.c)(function(e){return e.conditionsApp.condition}),h=Object(i.useRef)(null),I=Object(i.useState)(0),v=Object(r.a)(I,2),C=v[0],y=(v[1],Object(g.b)(null)),j=y.form,w=y.handleChange,L=y.setForm;return Object(i.useEffect)(function(){return function(){var t=e.match.params.conditionId;n("new"===t?O.m():O.k(t))}(),function(){n(O.j())}},[n,e.match.params]),Object(i.useEffect)(function(){f.error&&0===C&&(f.error.titre||f.error.reponse)&&h.current.updateInputsWithError(Object(a.a)({},f.error))},[f.error]),Object(i.useEffect)(function(){(f.data&&!j||f.data&&j&&f.data.id!==j.id)&&L(Object(a.a)({},f.data))},[j,f.data,L]),o.a.createElement(p.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:j&&o.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},o.a.createElement("div",{className:"flex flex-col items-start max-w-full"},o.a.createElement(p.d,{animation:"transition.slideRightIn",delay:300},o.a.createElement(c.a,{className:"normal-case flex items-center sm:mb-12",component:A.a,role:"button",to:"/admin/conditions",color:"inherit"},o.a.createElement(l.a,{className:"mr-4 text-20"},"arrow_back"),"Conditions")),o.a.createElement("div",{className:"flex items-center max-w-full"},o.a.createElement("div",{className:"flex flex-col min-w-0"},o.a.createElement(p.d,{animation:"transition.slideLeftIn",delay:300},o.a.createElement(c.a,{className:"text-16 sm:text-20 truncate"},j.titre?j.titre:"Nouveau Condition"))))),o.a.createElement(p.d,{animation:"transition.slideRightIn",delay:300},o.a.createElement(u.a,{className:"whitespace-no-wrap",variant:"contained",disabled:f.loading||!j.titre||!j.contenu,onClick:function(){return function(t){var a=e.match.params.conditionId;n("new"===a?O.o(j,e.history):O.q(j,e.history))}()}},"Sauvegarder",f.loading&&o.a.createElement(T.a,{size:24,className:t.buttonProgress})))),contentToolbar:j&&o.a.createElement(s.a,{indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},o.a.createElement(d.a,{className:"h-64 normal-case",label:"Infos condition"})),content:f.requestCondition?o.a.createElement(P.a,{color:"secondary"}):j&&o.a.createElement("div",{className:" sm:p-10 max-w-2xl"},0===C&&o.a.createElement(E.a,{ref:h,className:"flex pt-5 flex-col "},o.a.createElement(m.a,{container:!0,spacing:2},o.a.createElement(m.a,{item:!0,xs:12,sm:12},o.a.createElement(p.F,{className:"mb-16",type:"text",name:"titre",value:j.titre,onChange:w,label:"Titre",validations:{minLength:4},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 4"},variant:"outlined",required:!0,fullWidth:!0}))),o.a.createElement(m.a,{container:!0,spacing:3},o.a.createElement(m.a,{item:!0,xs:12,sm:12},o.a.createElement(x.a,{editor:S.a,data:j.contenu,config:{language:"fr"},onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,n){var t=n.getData();L(N.a.set(Object(a.a)({},j),"contenu",t))},onBlur:function(e){console.log("Blur.",e)}}),f.error&&f.error.contenu?o.a.createElement("span",{className:"text-red"}," ",f.error.contenu):"")))),innerScroll:!0})})}}]);