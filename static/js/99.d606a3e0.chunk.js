(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{1094:function(e,t,a){"use strict";var r=a(54),n=a(107),s="[FORGOT PASSWORD APP] SUCCESS_RESET",o="[FORGOT PASSWORD APP] REQUEST_RESET",i="[FORGOT PASSWORD APP] ERROR_RESET";function l(e,t){return function(a){return a({type:o}),r.a.post("/api/request-forgot",e).then(function(e){a({type:s}),t.push("/email-reset")}).catch(function(e){return a({type:i,payload:n.a.parseApiErrors(e)})})}}var c=a(36),m="[RESET PASSWORD APP] SUCCESS_RESET",u="[RESET PASSWORD APP] REQUEST_RESET",d="[RESET PASSWORD APP] ERROR_RESET";function p(e,t,a){var s={password:e.password,token:t};return function(e){return e({type:u}),r.a.post("/api/reset-password",s).then(function(t){e({type:m}),e(Object(c.B)({message:"Votre mot de passe \xe0 \xe9t\xe9 chang\xe9 avec succ\xe8s",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),a.push("/login")}).catch(function(t){return e({type:d,payload:n.a.parseApiErrors(t)})})}}a.d(t,"e",function(){return s}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"g",function(){return l}),a.d(t,"f",function(){return m}),a.d(t,"d",function(){return u}),a.d(t,"b",function(){return d}),a.d(t,"h",function(){return p})},1160:function(e,t,a){"use strict";var r=a(46),n=a(8),s=a(1094),o={loading:!1,error:""},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.c:return Object(n.a)({},e,{loading:!0});case s.e:return Object(n.a)({},e,{loading:!1,error:""});case s.a:return Object(n.a)({},e,{loading:!1,error:t.payload});default:return e}},l={loading:!1,error:""},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.d:return Object(n.a)({},e,{loading:!0});case s.f:return Object(n.a)({},e,{loading:!1,error:""});case s.b:return Object(n.a)({},e,{loading:!1,error:t.payload});default:return e}},m=Object(r.d)({forgotpassword:i,resetpassword:c});t.a=m},1313:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a(23),s=a(0),o=a.n(s),i=a(98),l=a(1025),c=a(1043),m=a(1039),u=a(958),d=a(1035),p=a(1041),E=a(1013),f=a(345),b=a(91),g=a(40),w=a(2),h=a(18),S=a(346),O=a(55),R=a.n(O),v=a(6),x=a(1094),A=a(1160),P=a(140),y=a(36),j=a(351),T=a.n(j),N=a(352),I=a.n(N),D=Object(f.a)(function(e){return{root:{background:"linear-gradient(to right, "+e.palette.primary.dark+" 0%, "+Object(b.darken)(e.palette.primary.dark,.5)+" 100%)",color:e.palette.primary.contrastText},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}});t.default=Object(P.a)("resetpassword",A.a)(function(e){var t=Object(v.b)(),a=Object(v.c)(function(e){return e.resetpassword.resetpassword}),f=Object(s.useState)(!1),b=Object(n.a)(f,2),O=b[0],A=b[1],P=Object(s.useRef)(null),j=D(),N=e.match.params.token,k=Object(s.useState)({showPassword:!1}),L=Object(n.a)(k,2),C=L[0],U=L[1],F=function(){U(Object(r.a)({},C,{showPassword:!C.showPassword}))},q=function(e){e.preventDefault()};function M(){A(!1)}return Object(s.useEffect)(function(){a.error&&a.error.password&&(P.current.updateInputsWithError(Object(r.a)({},a.error)),M()),a.error&&a.error.Erreur&&(t(Object(y.B)({message:"Token invalide",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"})),M())},[a.error]),o.a.createElement("div",{className:Object(w.a)(j.root,"flex flex-col flex-auto flex-shrink-0 p-24 md:flex-row md:p-0")},o.a.createElement(S.Helmet,null,o.a.createElement("title",null,"R\xe9initialiser votre mot de passe | Les Achats Industriels"),o.a.createElement("meta",{name:"description",content:"Modifier ou r\xe9initialiser votre mot de passe"})),o.a.createElement("div",{className:"flex flex-col flex-grow-0 items-center text-white p-16 text-center md:p-128 md:items-start md:flex-shrink-0 md:flex-1 md:text-left"},o.a.createElement(g.d,{animation:"transition.expandIn"},o.a.createElement("img",{className:"w-128 mb-32",src:"assets/images/logos/icon.png",alt:"logo"})),o.a.createElement(g.d,{animation:"transition.slideUpIn",delay:300},o.a.createElement(i.a,{variant:"h3",color:"inherit",className:"font-light"},"LES ACHATS INDUSTRIELS")),o.a.createElement(g.d,{delay:400},o.a.createElement(i.a,{variant:"subtitle1",color:"inherit",className:"max-w-512 mt-16"},"LA PLACE DE MARCHE B TO B N\xb0 1 AU MAROC, DES ACHETEURS ET FOURNISSEURS AVERTIS."))),o.a.createElement(g.d,{animation:{translateX:[0,"100%"]}},o.a.createElement(l.a,{className:"w-full max-w-400 mx-auto m-16 md:m-0",square:!0},o.a.createElement(c.a,{className:"flex flex-col items-center justify-center p-32 md:p-48 md:pt-128 "},o.a.createElement(i.a,{variant:"h6",className:"md:w-full mb-32 text-center"},"R\xc9INITIALISER VOTRE MOT DE PASSE"),o.a.createElement(R.a,{onValidSubmit:function(a){t(x.h(a,N,e.history)),M()},onValid:function(){A(!0)},onInvalid:M,ref:P,className:"flex flex-col justify-center w-full"},o.a.createElement(g.F,{className:"mb-16",name:"password",type:C.showPassword?"text":"password",label:"Mot de passe",validations:{minLength:6,matchRegexp:/(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).{6,}/},validationErrors:{minLength:"La longueur minimale des caract\xe8res est de 6",matchRegexp:"Le mot de passe doit \xeatre de 6 caract\xe8res minimum et contenir un lettre majuscules et des lettres minuscules et au moins un chiffre"},InputProps:{endAdornment:o.a.createElement(m.a,{position:"end"},o.a.createElement(u.a,{"aria-label":"toggle password visibility",onClick:F,onMouseDown:q},C.showPassword?o.a.createElement(T.a,null):o.a.createElement(I.a,null)))},variant:"outlined",required:!0}),o.a.createElement(g.F,{className:"mb-16",type:C.showPassword?"text":"password",name:"confirmpassword",label:"Confirmer le mot de passe",validations:"equalsField:password",validationErrors:{equalsField:"les mots de passe saisis ne sont pas identiques"},InputProps:{endAdornment:o.a.createElement(m.a,{position:"end"},o.a.createElement(u.a,{"aria-label":"toggle password visibility",onClick:F,onMouseDown:q},C.showPassword?o.a.createElement(T.a,null):o.a.createElement(I.a,null)))},variant:"outlined",required:!0}),o.a.createElement(d.a,{type:"submit",variant:"contained",name:"submit",color:"primary",className:"w-full mx-auto mt-16 normal-case","aria-label":"LOG IN",disabled:!O||a.loading,value:"legacy"},"R\xc9INITIALISER",a.loading&&o.a.createElement(p.a,{size:24,className:j.buttonProgress}))),o.a.createElement("div",{className:"flex flex-col items-center justify-center pt-32"},o.a.createElement(h.a,{className:"font-medium text-blue",to:"/login"},"Revenir \xe0 la page de connexion"),o.a.createElement(h.a,{className:"font-medium mt-8 flex items-end text-blue",to:"/"},o.a.createElement(E.a,{className:"mr-4"},"home")," ",o.a.createElement("span",null,"Accueil"))),o.a.createElement("div",{className:"flex flex-col items-center justify-center pt-32 pb-24"})))))})}}]);