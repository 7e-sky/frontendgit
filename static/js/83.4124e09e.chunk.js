(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1244:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(4),l=a.n(i),o=a(0),c=a.n(o),s=a(2),u=a(8),m=a(89),p=c.a.forwardRef(function(e,t){var a=e.children,n=e.classes,i=e.className,o=e.disableTypography,u=void 0!==o&&o,p=l()(e,["children","classes","className","disableTypography"]);return c.a.createElement("div",r()({className:Object(s.a)(n.root,i),ref:t},p),u?a:c.a.createElement(m.a,{variant:"h6"},a))});t.a=Object(u.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(p)},1245:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(0),l=a.n(i),o=a(8),c=a(89),s=l.a.forwardRef(function(e,t){return l.a.createElement(c.a,r()({component:"p",variant:"body1",color:"textSecondary",ref:t},e))});t.a=Object(o.a)({root:{marginBottom:16}},{name:"MuiDialogContentText"})(s)},1546:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(39),l=a(7),o=a(136),c=a(89),s=a(1221),u=a(1140),m=a(1204),p=a(365),d=a(50),E=a(102),f=a(33),g=a(10);const h="[FAQ_CATEGORIES APP] GET FAQ_CATEGORIES",A="[FAQ_CATEGORIES APP] REQUEST FAQ_CATEGORIES",O="[FAQ_CATEGORIES APP] SET SEARCH TEXT",b="[FAQ_CATEGORIES APP] OPEN NEW FAQ_CATEGORIES DIALOG",C="[FAQ_CATEGORIES APP] CLOSE NEW FAQ_CATEGORIES DIALOG",y="[FAQ_CATEGORIES APP] OPEN EDIT FAQ_CATEGORIES DIALOG",v="[FAQ_CATEGORIES APP] CLOSE EDIT FAQ_CATEGORIES DIALOG",x="[FAQ_CATEGORIES APP] ADD FAQ_CATEGORIE",T="[FAQ_CATEGORIES APP] SAVE ERROR",j="[FAQ_CATEGORIES APP] UPDATE FAQ_CATEGORIE",S="[FAQ_CATEGORIES APP] REMOVE FAQ_CATEGORIE";function I(){const e=d.a.get("/api/faq_categories");return t=>(t({type:A}),e.then(e=>{t({type:h,payload:e.data})}))}function N(e){return t=>{const a=d.a.delete(e["@id"]);return t({type:A}),a.then(e=>Promise.all([t({type:S}),t(Object(f.B)({message:"Cat\xe9gorie bien supprim\xe9e!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>t(I())))}}const P="[DIALOG] OPEN",R="[DIALOG] CLOSE";function w(){return{type:R}}var G=function(e){const t=Object(l.b)(),a=Object(l.c)(e=>{let{faqCategorieApp:t}=e;return t.faqCategories.entities}),o=Object(l.c)(e=>{let{faqCategorieApp:t}=e;return t.faqCategories.loading}),d=Object(l.c)(e=>{let{faqCategorieApp:t}=e;return t.faqCategories.searchText}),[E,f]=Object(n.useState)(null);return Object(n.useEffect)(()=>{a&&f(function(e,t){const a=Object.keys(e).map(t=>e[t]);return 0===t.length?a:i.y.filterArrayByString(a,t)}(a,d))},[a,d]),E?0===E.length?r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},r.a.createElement(c.a,{color:"textSecondary",variant:"h5"},"Aucune cat\xe9gorie trouv\xe9e")):r.a.createElement(i.d,{animation:"transition.slideUpIn",delay:300},r.a.createElement(p.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTrProps:(e,a,n)=>({className:"cursor-pointer",onClick:(e,n)=>{a&&t(function(e){return{type:y,data:e}}(a.original))}}),data:E,columns:[{Header:"Categorie",accessor:"name",filterable:!1},{Header:"",Cell:e=>r.a.createElement("div",{className:"flex items-center"},r.a.createElement(s.a,{title:"Editer"},r.a.createElement(u.a,{className:"text-teal text-20"},r.a.createElement(m.a,null,"edit"))),r.a.createElement(s.a,{title:"Supprimer"},r.a.createElement(u.a,{className:"text-red text-20",onClick:a=>{a.stopPropagation(),t(N(e.original))}},r.a.createElement(m.a,null,"delete"))))}],defaultPageSize:10,loading:o,noDataText:"Aucune cat\xe9gorie trouv\xe9e",loadingText:"Chargement...",ofText:"sur"})):null},F=a(135),q=a(1139),D=a(1227),_=a(1205);var Q=function(e){const t=Object(l.b)(),a=Object(l.c)(e=>{let{faqCategorieApp:t}=e;return t.faqCategories.searchText}),n=Object(l.c)(e=>{let{faqCategorieApp:t}=e;return t.faqCategories.loading}),o=Object(l.c)(e=>{let{fuse:t}=e;return t.settings.mainTheme});return r.a.createElement("div",{className:"flex flex-1 items-center justify-between p-8 sm:p-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(i.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(c.a,{className:"hidden sm:flex",variant:"h6"},"Gestion des Categories de Faq"))),r.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},r.a.createElement(_.a,{theme:o},r.a.createElement(i.d,{animation:"transition.slideDownIn",delay:300},r.a.createElement(F.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},r.a.createElement(m.a,{className:"mr-8",color:"action"},"search"),r.a.createElement(q.a,{placeholder:"Rechercher...",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:e=>{t(function(e){return{type:O,searchText:e.target.value}}(e))}}))))),r.a.createElement(i.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(D.a,{disabled:n,onClick:e=>t({type:b}),className:"whitespace-no-wrap",variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex"},"Ajouter nouvelle categorie"),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},L=a(1223),k=a(1218),z=a(1228),B=a(1229),W=a(1230),H=a(1244),M=a(1245),V=a(137),U=a(51),J=a.n(U);const X={name:""};var K=function(e){const t=Object(l.b)(),a=Object(l.c)(e=>{let{faqCategorieApp:t}=e;return t.faqCategories.faqCategoriesDialog}),{form:o,handleChange:s,setForm:p}=Object(V.b)(X),[h,O]=Object(n.useState)(!1),b=Object(n.useRef)(null),y=Object(n.useCallback)(()=>{"edit"===a.type&&a.data&&p({...a.data}),"new"===a.type&&p({...X,...a.data})},[a.data,a.type,p]);function S(){"edit"===a.type?t({type:v}):t({type:C})}function R(){t(N(o)),t(w()),S()}return Object(n.useEffect)(()=>{a.props.open&&y()},[a.props.open,y]),r.a.createElement(L.a,Object.assign({classes:{paper:"m-24"}},a.props,{onClose:S,fullWidth:!0,maxWidth:"xs"}),r.a.createElement(k.a,{position:"static",elevation:1},r.a.createElement(z.a,{className:"flex w-full"},r.a.createElement(c.a,{variant:"subtitle1",color:"inherit"},"new"===a.type?"Nouvelle Categorie":"Editer Categorie"))),r.a.createElement(J.a,{onValidSubmit:function(e){var n,r;"new"===a.type?t((r=o,e=>{const t=d.a.post("/api/faq_categories",r);return e({type:A}),t.then(t=>Promise.all([e({type:x}),e(Object(f.B)({message:"Cat\xe9gorie bien ajout\xe9e!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>e(I()))).catch(t=>{e({type:T}),e(Object(f.B)({message:g.a.map(E.a.parseApiErrors(t),function(e,t){return t+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})})):t((n=o,e=>{const t=d.a.put(n["@id"],n);return e({type:A}),t.then(t=>Promise.all([e({type:j}),e(Object(f.B)({message:"Cat\xe9gorie bien modifi\xe9e!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>e(I()))).catch(t=>{e({type:T}),e(Object(f.B)({message:g.a.map(E.a.parseApiErrors(t),function(e,t){return t+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})})),S()},onValid:function(){O(!0)},onInvalid:function(){O(!1)},ref:b,className:"flex flex-col overflow-hidden"},r.a.createElement(B.a,{classes:{root:"p-24"}},r.a.createElement("div",{className:"flex"},r.a.createElement(i.F,{className:"mb-24",label:"Nom",autoFocus:!0,id:"name",name:"name",value:o.name,onChange:s,variant:"outlined",validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},required:!0,fullWidth:!0}))),"new"===a.type?r.a.createElement(W.a,{className:"justify-between pl-16"},r.a.createElement(D.a,{variant:"contained",color:"primary",type:"submit",disabled:!h},"Ajouter")):r.a.createElement(W.a,{className:"justify-between pl-16"},r.a.createElement(D.a,{variant:"contained",color:"primary",type:"submit",disabled:!h},"Modifier"),r.a.createElement(u.a,{onClick:()=>t(function(e){return{type:P,options:e}}({children:r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{id:"alert-dialog-title"},"Suppression"),r.a.createElement(B.a,null,r.a.createElement(M.a,{id:"alert-dialog-description"},"Voulez vous vraiment supprimer cet enregistrement ?")),r.a.createElement(W.a,null,r.a.createElement(D.a,{onClick:()=>t(w()),color:"primary"},"Non"),r.a.createElement(D.a,{onClick:R,color:"primary",autoFocus:!0},"Oui")))}))},r.a.createElement(m.a,null,"delete")))))},Y=a(43);const Z={entities:null,parametres:{page:1,name:"",filter:{id:"id",direction:"asc"}},pageCount:null,loading:!1,searchText:"",routeParams:{},faqCategoriesDialog:{type:"new",props:{open:!1},data:null},pays:null};var $=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{...e,loading:!0};case h:return{...e,entities:t.payload["hydra:member"],loading:!1};case O:return{...e,searchText:t.searchText};case b:return{...e,faqCategoriesDialog:{type:"new",props:{open:!0},data:null}};case C:return{...e,faqCategoriesDialog:{type:"new",props:{open:!1},data:null}};case y:return{...e,faqCategoriesDialog:{type:"edit",props:{open:!0},data:t.data}};case v:return{...e,faqCategoriesDialog:{type:"edit",props:{open:!1},data:null}};default:return e}};const ee={state:!1,options:{children:"Hi"}};var te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.f:return{...e,state:!0,options:{...e.options,...t.options}};case f.a:return{...e,state:!1};default:return e}};var ae=Object(Y.d)({faqCategories:$,dialog:te});t.default=Object(o.a)("faqCategorieApp",ae)(function(e){const t=Object(l.b)(),a=Object(n.useRef)(null);return Object(n.useEffect)(()=>{t(I())},[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.p,{classes:{contentWrapper:"p-0 sm:p-24 pb-80 sm:pb-80 h-full",content:"flex flex-col h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(Q,{pageLayout:a}),content:r.a.createElement(G,null),sidebarInner:!0,ref:a,innerScroll:!0}),r.a.createElement(K,null))})}}]);