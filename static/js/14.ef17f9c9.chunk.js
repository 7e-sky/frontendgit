(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1241:function(e,a,t){"use strict";var n=t(0),r=function(){return(r=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e}).apply(this,arguments)};var l=function(){return Math.random().toString(36).substring(2)},c=function(e){var a=e.rtl,t=e.speed,c=e.interval,i=e.style,s=e.width,o=e.height,m=e.baseUrl,d=e.gradientRatio,u=e.animate,p=e.ariaLabel,f=e.children,E=e.className,g=e.uniquekey,h=e.primaryColor,b=e.primaryOpacity,y=e.secondaryColor,x=e.secondaryOpacity,v=e.preserveAspectRatio,N=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),O=g?g+"-idClip":l(),S=g?g+"-idGradient":l(),A=a?{transform:"scaleX(-1)"}:{},w="0; "+c+"; 1",C=t+"s";return Object(n.createElement)("svg",r({role:"img",style:r(r({},i),A),className:E,"aria-label":p||null,viewBox:"0 0 "+s+" "+o,preserveAspectRatio:v},N),p?Object(n.createElement)("title",null,p):null,Object(n.createElement)("rect",{x:"0",y:"0",width:s,height:o,clipPath:"url("+m+"#"+O+")",style:{fill:"url("+m+"#"+S+")"}}),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:O},f),Object(n.createElement)("linearGradient",{id:S},Object(n.createElement)("stop",{offset:"0%",stopColor:h,stopOpacity:b},u&&Object(n.createElement)("animate",{attributeName:"offset",values:-d+"; "+-d+"; 1",keyTimes:w,dur:C,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:y,stopOpacity:x},u&&Object(n.createElement)("animate",{attributeName:"offset",values:-d/2+"; "+-d/2+"; "+(1+d/2),keyTimes:w,dur:C,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:h,stopOpacity:b},u&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+d),keyTimes:w,dur:C,repeatCount:"indefinite"})))))},i={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},s=function(e){return Object(n.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},o=function(e){var a=r(r({},i),e);return Object(n.createElement)(c,r({},a),e.children||Object(n.createElement)(s,r({},a)))};a.a=o},1243:function(e,a,t){"use strict";var n=t(0),r=t.n(n).a.createContext();a.a=r},1244:function(e,a,t){"use strict";var n=t(3),r=t.n(n),l=t(4),c=t.n(l),i=t(0),s=t.n(i),o=t(2),m=t(8),d=t(89),u=s.a.forwardRef(function(e,a){var t=e.children,n=e.classes,l=e.className,i=e.disableTypography,m=void 0!==i&&i,u=c()(e,["children","classes","className","disableTypography"]);return s.a.createElement("div",r()({className:Object(o.a)(n.root,l),ref:a},u),m?t:s.a.createElement(d.a,{variant:"h6"},t))});a.a=Object(m.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(u)},1248:function(e,a,t){"use strict";var n=t(0),r=t.n(n).a.createContext();a.a=r},1273:function(e,a,t){"use strict";var n=t(3),r=t.n(n),l=t(4),c=t.n(l),i=t(0),s=t.n(i),o=t(2),m=t(8),d=t(1248),u=s.a.forwardRef(function(e,a){var t=e.classes,n=e.className,l=e.component,i=void 0===l?"table":l,m=e.padding,u=void 0===m?"default":m,p=e.size,f=void 0===p?"medium":p,E=c()(e,["classes","className","component","padding","size"]),g=s.a.useMemo(function(){return{padding:u,size:f}},[u,f]);return s.a.createElement(d.a.Provider,{value:g},s.a.createElement(i,r()({ref:a,className:Object(o.a)(t.root,n)},E)))});a.a=Object(m.a)({root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0}},{name:"MuiTable"})(u)},1274:function(e,a,t){"use strict";var n=t(3),r=t.n(n),l=t(4),c=t.n(l),i=t(0),s=t.n(i),o=t(2),m=t(8),d=t(1243),u={variant:"head"},p=s.a.forwardRef(function(e,a){var t=e.classes,n=e.className,l=e.component,i=void 0===l?"thead":l,m=c()(e,["classes","className","component"]);return s.a.createElement(d.a.Provider,{value:u},s.a.createElement(i,r()({className:Object(o.a)(t.root,n),ref:a},m)))});a.a=Object(m.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(p)},1275:function(e,a,t){"use strict";var n=t(3),r=t.n(n),l=t(4),c=t.n(l),i=t(0),s=t.n(i),o=t(2),m=t(8),d=t(1243),u=s.a.forwardRef(function(e,a){var t=e.classes,n=e.className,l=e.component,i=void 0===l?"tr":l,m=e.hover,u=void 0!==m&&m,p=e.selected,f=void 0!==p&&p,E=c()(e,["classes","className","component","hover","selected"]),g=s.a.useContext(d.a);return s.a.createElement(i,r()({ref:a,className:Object(o.a)(t.root,n,g&&["head"===g.variant&&t.head,"footer"===g.variant&&t.footer],u&&t.hover,f&&t.selected)},E))});a.a=Object(m.a)(function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:"none","&$selected":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.08)"},"&$hover:hover":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.07)":"rgba(255, 255, 255, 0.14)"}},selected:{},hover:{},head:{},footer:{}}},{name:"MuiTableRow"})(u)},1276:function(e,a,t){"use strict";var n=t(4),r=t.n(n),l=t(3),c=t.n(l),i=t(0),s=t.n(i),o=t(2),m=t(8),d=t(9),u=t(12),p=t(1248),f=t(1243),E=s.a.forwardRef(function(e,a){var t,n=e.align,l=void 0===n?"inherit":n,i=e.classes,m=e.className,u=e.component,E=e.padding,g=e.scope,h=e.size,b=e.sortDirection,y=e.variant,x=r()(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),v=s.a.useContext(p.a),N=s.a.useContext(f.a);t=u||(N&&"head"===N.variant?"th":"td");var O=g;!O&&N&&"head"===N.variant&&(O="col");var S=E||(v&&v.padding?v.padding:"default"),A=h||(v&&v.size?v.size:"medium"),w=null;return b&&(w="asc"===b?"ascending":"descending"),s.a.createElement(t,c()({ref:a,className:Object(o.a)(i.root,(y?"head"===y:N&&"head"===N.variant)&&i.head,(y?"body"===y:N&&"body"===N.variant)&&i.body,(y?"footer"===y:N&&"footer"===N.variant)&&i.footer,"inherit"!==l&&i["align".concat(Object(d.a)(l))],"default"!==S&&i["padding".concat(Object(d.a)(S))],"medium"!==A&&i["size".concat(Object(d.a)(A))],m),"aria-sort":w,scope:O},x))});a.a=Object(m.a)(function(e){return{root:c()({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(u.e)(Object(u.c)(e.palette.divider,1),.88):Object(u.a)(Object(u.c)(e.palette.divider,1),.68)),textAlign:"left",padding:"14px 40px 14px 16px","&:last-child":{paddingRight:16}}),head:{color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),lineHeight:e.typography.pxToRem(21),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"}}},{name:"MuiTableCell"})(E)},1277:function(e,a,t){"use strict";var n=t(3),r=t.n(n),l=t(4),c=t.n(l),i=t(0),s=t.n(i),o=t(2),m=t(8),d=t(1243),u={variant:"body"},p=s.a.forwardRef(function(e,a){var t=e.classes,n=e.className,l=e.component,i=void 0===l?"tbody":l,m=c()(e,["classes","className","component"]);return s.a.createElement(d.a.Provider,{value:u},s.a.createElement(i,r()({className:Object(o.a)(t.root,n),ref:a},m)))});a.a=Object(m.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(p)},1283:function(e,a,t){"use strict";var n=t(50);const r="[COMMANDES APP] REQUEST COMMANDESAB",l="[COMMANDES APP] SET PARAMETRES DATA",c="[COMMANDES APP] GET COMMANDESAB",i="[COMMANDES APP] SET COMMANDES SEARCH TEXT",s="[COMMANDES APP] CLEAN_UP";function o(){return e=>e({type:s})}function m(e){var a="";e.search.length>0&&e.search.map(e=>e.value&&("created"===e.id?a+="&"+e.id+"[after]="+e.value:a+="&"+e.id+"="+e.value));const t=n.a.get("/api/demande_abonnements?page=".concat(e.page).concat(a,"&order[").concat(e.filter.id,"]=").concat(e.filter.direction));return e=>(e({type:r}),t.then(a=>e({type:c,payload:a.data})))}function d(e){return{type:l,parametres:e}}var u=t(33),p=t(10),f=t(200);const E="[COMMANDE APP] REQUEST COMMANDE",g="[COMMANDE APP] GET COMMANDE",h="[COMMANDE APP] REQUEST_SOUS_SECTEURS",b="[COMMANDE APP] GET SOUS_SECTEURS",y="[COMMANDE APP] REQUEST SECTEURS",x="[COMMANDE APP] GET SECTEURS",v="[COMMANDE APP] REQUEST OFFRES",N="[COMMANDE APP] GET OFFRES",O="[COMMANDE APP] REQUEST SAVE",S="[COMMANDE APP] SAVE COMMANDE",A="[COMMANDE APP] GET_PAIEMENT",w="[COMMANDE APP] GET_DUREE";function C(){const e=n.a.get("/api/durees");return a=>e.then(e=>{a({type:w,payload:e.data["hydra:member"]})})}function P(e,a,t,r,l,c,i){e.offre=t["@id"],e.sousSecteurs=p.a.map(a,function(e,a){return e.value}),e.mode=r,e.duree=l["@id"],e.paiement=i,e.remise=c;const s=n.a.put(e["@id"],e);return e=>(e({type:O}),s.then(a=>(e(Object(u.B)({message:"Commande modifi\xe9e avec succ\xe8s"})),e(f.b("commandes-abonnements")),e(f.b("abonnement-fournisseur")),e({type:S,payload:a.data}))))}function j(e){const a=n.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return e=>(e({type:h}),a.then(a=>{e({type:b,payload:a.data["hydra:member"]})}))}function M(){const e=n.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name&order[name]=asc");return a=>(a({type:y}),e.then(e=>{a({type:x,payload:e.data["hydra:member"]})}))}function T(){const e=n.a.get("/api/paiements");return a=>e.then(e=>{a({type:A,payload:e.data["hydra:member"]})})}function F(){const e=n.a.get("/api/offres");return a=>(a({type:v}),e.then(e=>a({type:N,payload:e.data["hydra:member"]})))}function R(e){const a=n.a.get("/api/demande_abonnements/".concat(e));return e=>(e({type:E}),a.then(a=>e({type:g,payload:a.data})))}t.d(a,"j",function(){return r}),t.d(a,"r",function(){return l}),t.d(a,"c",function(){return c}),t.d(a,"q",function(){return i}),t.d(a,"a",function(){return s}),t.d(a,"s",function(){return o}),t.d(a,"u",function(){return m}),t.d(a,"A",function(){return d}),t.d(a,"i",function(){return E}),t.d(a,"b",function(){return g}),t.d(a,"n",function(){return h}),t.d(a,"h",function(){return b}),t.d(a,"m",function(){return y}),t.d(a,"g",function(){return x}),t.d(a,"k",function(){return v}),t.d(a,"e",function(){return N}),t.d(a,"l",function(){return O}),t.d(a,"o",function(){return S}),t.d(a,"p",function(){return"[COMMANDE APP] SAVE ERROR"}),t.d(a,"f",function(){return A}),t.d(a,"a",function(){}),t.d(a,"d",function(){return w}),t.d(a,"s",function(){}),t.d(a,"v",function(){return C}),t.d(a,"B",function(){return P}),t.d(a,"z",function(){return j}),t.d(a,"y",function(){return M}),t.d(a,"x",function(){return T}),t.d(a,"w",function(){return F}),t.d(a,"t",function(){return R})},1348:function(e,a,t){"use strict";var n=t(43),r=t(1283),l=t(102);const c={data:[],pageCount:null,loading:!1,searchText:"",parametres:{page:1,search:[],filter:{id:"created",direction:"desc"}}};var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.a:return{...c};case r.j:return{...e,loading:!0};case r.c:return{...e,data:a.payload["hydra:member"],pageCount:l.a.hydraPageCount(a.payload),loading:!1};case r.q:return{...e,searchText:a.searchText};case r.r:return{...e,parametres:{page:a.parametres.page,search:a.parametres.search,filter:{id:a.parametres.filter.id,direction:a.parametres.filter.direction}}};default:return e}};const s={data:null,offres:null,loadingSecteurs:!1,secteurs:null,sousSecteurs:null,error:null,loading:!1,loadingSS:!1,success:!1,paiements:null,durees:null};var o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.i:case r.k:case r.l:return{...e,loading:!0};case r.m:return{...e,loadingSecteurs:!0};case r.g:return{...e,secteurs:a.payload,loadingSecteurs:!1};case r.n:return{...e,loadingSS:!0};case r.h:return{...e,sousSecteurs:a.payload,loadingSS:!1};case r.f:return{...e,paiements:a.payload};case r.d:return{...e,durees:a.payload};case r.o:return{...e,loading:!1,success:!0};case r.a:return{...e,data:null,loading:!1,success:!1,error:null,offres:null,sousSecteurs:null};case r.b:return{...e,data:a.payload,loading:!1};case r.e:return{...e,offres:a.payload,loading:!1};case r.p:return{...e,error:a.payload,loading:!1};default:return e}},m=t(33);const d={state:!1,options:{children:"Hi"}};var u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m.f:return{...e,state:!0,options:{...e.options,...a.options}};case m.a:return{...e,state:!1};default:return e}};const p=Object(n.d)({commandes:i,commande:o,dialog:u});a.a=p},1504:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(89),c=t(1204),i=t(1223),s=t(1244),o=t(1229),m=t(1212),d=t(1230),u=t(1227),p=t(1233),f=t(1215),E=t(1239),g=t(1224),h=t(1236),b=t(1219),y=t(1232),x=t(1273),v=t(1274),N=t(1275),O=t(1276),S=t(1277),A=t(1238),w=t(1160),C=t(1231),P=t(163),j=t(1157),M=t(39),T=t(16),F=t(10),R=t(7),D=t(136),k=t(1283),I=t(1348),z=t(51),L=t.n(z),W=t(137),U=t(1216),_=t(1149),V=t(1241),B=t(2);const H=Object(j.a)(e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},commandeImageFeaturedStar:{position:"absolute",top:0,right:0,color:P.a[400],opacity:0},button:{margin:e.spacing(1)},commandeImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},commandeImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $commandeImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $commandeImageFeaturedStar":{opacity:1},"&:hover $commandeImageFeaturedStar":{opacity:1}}},error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)},chip:{marginLeft:e.spacing(1),background:"#ef5350",color:"white",fontWeight:"bold",fontSize:"11px"},chip2:{marginLeft:e.spacing(1),background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px"},chip3:{margin:e.spacing(1),background:"green",color:"white",fontWeight:"bold",fontSize:"11px"}}));a.default=Object(D.a)("commandeOffreAdminApp",I.a)(function(e){const a=Object(R.b)(),t=Object(R.c)(e=>{let{commandeOffreAdminApp:a}=e;return a.commande}),[P,j]=Object(n.useState)([]),[D,I]=Object(n.useState)(null),[z,G]=Object(n.useState)(0),[q,Q]=Object(n.useState)(null),[$,J]=Object(n.useState)(null),[X,K]=Object(n.useState)(null),[Y,Z]=Object(n.useState)(0),{form:ee,setForm:ae}=Object(W.b)(null),[te,ne]=Object(n.useState)(!1),[re,le]=Object(n.useState)(!1),ce=H(e),[ie,se]=Object(n.useState)(0),[oe,me]=Object(n.useState)(0),[de,ue]=Object(n.useState)(0),[pe,fe]=Object(n.useState)(0),[Ee,ge]=Object(n.useState)(0);function he(){le(!1)}function be(e,t){if("activites"===t){if(P.length===D.nbActivite)return;if(!F.a.find(P,["label",e.label])){var n=e;n.label=$.label+": "+n.label,j([e,...P])}}else e.value&&(J(e),a(k.z(e.value)))}return Object(n.useEffect)(()=>{a(k.w()),a(k.y()),a(k.x()),a(k.v())},[a]),Object(n.useEffect)(()=>{t.success&&(a(k.s()),e.history.push("/admin/offres/commande"))},[t.success,a,e.history]),Object(n.useEffect)(()=>(function(){const t=e.match.params,{commandeId:n}=t;a(k.t(n))}(),()=>{a(k.s())}),[a,e.match.params]),Object(n.useEffect)(()=>{if((t.data&&!ee||t.data&&ee&&t.data.id!==ee.id)&&(ae({...t.data}),t.data.sousSecteurs&&j(t.data.sousSecteurs.map(e=>({value:e["@id"],label:e.secteur.name+": "+e.name}))),t.data.offre&&I(t.data.offre),t.data.mode&&K(t.data.mode["@id"]),t.data.duree&&(Q(t.data.duree),t.data.offre)))if(t.data.fournisseur.currency.name===M.z){let e=t.data.offre.prixMad*t.data.duree.name;if(se(e),t.data.duree.remise){let a=e*t.data.duree.remise/100,n=e-a,r=n*M.A;ue(a),fe(n),me(r),ge(n+r)}else{let a=e*M.A;me(e*M.A),ge(e+a)}}else{let e=t.data.offre.prixEur*t.data.duree.name;if(se(e),t.data.duree.remise){let a=e*t.data.duree.remise/100,n=e-a;ue(a),fe(n),ge(n)}else ge(e)}},[ee,t.data,ae]),r.a.createElement(M.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:t.loading?"":ee&&r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex flex-col items-start max-w-full"},r.a.createElement(M.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(l.a,{className:"normal-case flex items-center sm:mb-12",component:T.a,role:"button",to:"/admin/offres/commande",color:"inherit"},r.a.createElement(c.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),r.a.createElement("div",{className:"flex items-center max-w-full"},r.a.createElement("div",{className:"flex flex-col min-w-0"},r.a.createElement(M.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement("div",{className:"text-16 sm:text-20 truncate"},t.data.reference?t.data.reference+", Fournisseur : "+t.data.fournisseur.societe:""))))),r.a.createElement(i.a,{open:re,onClose:he,"aria-labelledby":"form-dialog-title"},r.a.createElement(s.a,{id:"form-dialog-title"},"Confirmation"," "),r.a.createElement(o.a,{className:"mb-12"},te?"Vous \xeates sur le point d'affecter une nouveau abonnement":"Voullez-vous vraiment valider la commande sans confirmation du paiment?"),r.a.createElement(m.a,null),r.a.createElement(d.a,null,r.a.createElement(u.a,{onClick:he,variant:"outlined",color:"secondary"},"Annuler"),r.a.createElement(u.a,{onClick:()=>(function(e){a(k.B(e,P,D,X,q,z,te))})(ee),variant:"contained",color:"secondary",disabled:t.loading},"Sauvegarder",t.loading&&r.a.createElement(p.a,{size:24,className:ce.buttonProgress})))),r.a.createElement("div",{className:"flex items-end max-w-full"},r.a.createElement(f.a,{control:r.a.createElement(E.a,{checked:te,onChange:e=>(function(e){ne(e.target.checked)})(e),value:te}),label:"Confirmer le paiement de cette entreprise"}),r.a.createElement(M.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(u.a,{className:"whitespace-no-wrap",variant:"contained",disabled:t.loading||0===P.length,onClick:function(){le(!0)}},"Valider la commande",t.loading&&r.a.createElement(p.a,{size:24,className:ce.buttonProgress}))))),contentToolbar:t.loading||!ee?r.a.createElement("div",{className:ce.root},r.a.createElement(g.a,{color:"secondary"})):r.a.createElement(h.a,{value:Y,onChange:function(e,a){Z(a)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},r.a.createElement(b.a,{className:"h-64 normal-case",label:"D\xe9tails de la commande"}),r.a.createElement(b.a,{className:"h-64 normal-case",label:"Secteurs d'activit\xe9s"}),r.a.createElement(b.a,{className:"h-64 normal-case",label:"Infos de la soci\xe9t\xe9"})),content:t.loading?"":ee&&r.a.createElement(L.a,{className:"flex flex-col "},r.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},0===Y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{container:!0,spacing:3,className:""},r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(l.a,{className:"mb-16",variant:"h6"},"1- Offres & Activit\xe9s")),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(l.a,{className:"mb-16",variant:"h6"},"R\xe9capitulatif de votre commande"))),r.a.createElement(m.a,null),r.a.createElement(y.a,{container:!0,spacing:3,className:"mt-16 mb-16"},r.a.createElement(y.a,{item:!0,xs:12,sm:6},t.offres&&D?t.offres.map((e,a)=>r.a.createElement(y.a,{container:!0,key:a,spacing:3},r.a.createElement(y.a,{item:!0,xs:6,sm:6},r.a.createElement("strong",{className:"p-1"},e.name)," ",r.a.createElement("br",null),r.a.createElement("span",{className:"p-1"},e.description)),r.a.createElement(y.a,{item:!0,xs:6,sm:6},r.a.createElement(_.a,{row:!0},r.a.createElement(f.a,{control:r.a.createElement(U.a,{checked:D.id===e.id,onChange:()=>{!function(e){if(I(e),P.length>0&&j(F.a.slice(P,0,e.nbActivite)),t.data.fournisseur.currency.name===M.z){let a=e.prixMad*q.name;if(se(a),q.remise){let e=a*q.remise/100,t=a-e;z&&z>0&&(t=a-e-z);let n=t*M.A;ue(e),fe(t),me(n),ge(t+n)}else{let e=a;z&&z>0&&(e=a-z);let t=e*M.A;me(t),fe(e),ge(e+t)}}else{let a=e.prixEur*q.name;if(se(a),q.remise){let e=a*q.remise/100,t=a-e;z&&z>0&&(t=a-e-z),ue(e),fe(t),ge(t)}else{let e=a;z&&z>0&&(e=a-z),fe(e),ge(e)}}}(e)},value:e["@id"]}),label:t.data.fournisseur.currency.name===M.z?parseFloat(e.prixMad).toLocaleString("fr",{minimumFractionDigits:2})+M.z+" HT / mois":parseFloat(e.prixEur).toLocaleString("fr",{minimumFractionDigits:2})+" \u20ac HT / mois"}))))):r.a.createElement(V.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("circle",{cx:"10",cy:"20",r:"8"}),r.a.createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),r.a.createElement("circle",{cx:"10",cy:"50",r:"8"}),r.a.createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),r.a.createElement("circle",{cx:"10",cy:"80",r:"8"}),r.a.createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},t.offres&&D&&q?r.a.createElement(x.a,{className:"w-full -striped"},r.a.createElement(v.a,{className:"bg-gray-200"},r.a.createElement(N.a,null,r.a.createElement(O.a,{className:"font-bold  text-black"},"Offre"),r.a.createElement(O.a,{className:"font-bold text-black text-right"},"Total HT"))),r.a.createElement(S.a,null,r.a.createElement(N.a,null,r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11"},r.a.createElement("strong",null,D?D.name:""),r.a.createElement("br",null),t.data.fournisseur.currency.name===M.z?parseFloat(D.prixMad).toLocaleString("fr",{minimumFractionDigits:2}):parseFloat(D.prixEur).toLocaleString("fr",{minimumFractionDigits:2}),"* ",q.name+" mois"),r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(ie).toLocaleString("fr",{minimumFractionDigits:2}))),r.a.createElement(N.a,{className:"bg-gray-200"},r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Total HT"),r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(ie).toLocaleString("fr",{minimumFractionDigits:2}))),q.remise?r.a.createElement(N.a,{className:""},r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Remise (",q.remise,"%)"),r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(de).toLocaleString("fr",{minimumFractionDigits:2}))):null,r.a.createElement(N.a,{className:""},r.a.createElement(O.a,{component:"th",scope:"row",className:"text-11 text-right"},"Remise"),r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},r.a.createElement(M.F,{type:"number",step:"any",name:"discount",id:"discount",onChange:e=>{!function(e){if(G(e),t.data.fournisseur.currency.name===M.z){let a=D.prixMad*q.name;if(se(a),q.remise){let t=a*q.remise/100,n=a-t;e&&e>0&&(n=a-t-e);let r=n*M.A;ue(t),fe(n),me(r),ge(n+r)}else{let t=a;e&&e>0&&(t=a-e);let n=t*M.A;me(n),fe(t),ge(t+n)}}else{let a=D.prixEur*q.name;if(se(a),q.remise){let t=a*q.remise/100,n=a-t;e&&e>0&&(n=a-t-e),ue(t),fe(n),ge(n)}else{let t=a;e&&e>0&&(t=a-e),fe(t),ge(t)}}}(e.target.value)},value:z}))),pe>0&&pe!==ie?r.a.createElement(N.a,{className:"bg-gray-200"},r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Montant NET HT"),r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(pe).toLocaleString("fr",{minimumFractionDigits:2}))):null,r.a.createElement(N.a,{className:""},r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"TVA (20%)"),r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(oe).toLocaleString("fr",{minimumFractionDigits:2}))),r.a.createElement(N.a,{className:"bg-gray-200"},r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate font-bold text-11 text-right"},"Montant TTC"),r.a.createElement(O.a,{component:"th",scope:"row",className:"truncate font-bold text-13 text-right"},parseFloat(Ee).toLocaleString("fr",{minimumFractionDigits:2}))))):r.a.createElement(V.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("circle",{cx:"10",cy:"20",r:"8"}),r.a.createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),r.a.createElement("circle",{cx:"10",cy:"50",r:"8"}),r.a.createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),r.a.createElement("circle",{cx:"10",cy:"80",r:"8"}),r.a.createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"})))),r.a.createElement(y.a,{container:!0,spacing:3,className:""},r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(l.a,{className:"mb-16",variant:"h6"},"2- Mode de paiement"," ")),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(l.a,{className:"mb-16",variant:"h6"},"3- Dur\xe9e de votre abonnement"))),r.a.createElement(m.a,null),r.a.createElement(y.a,{container:!0,spacing:3,className:"mt-6 mb-16"},r.a.createElement(y.a,{item:!0,xs:12,sm:6},t.paiements?t.paiements.map((e,a)=>r.a.createElement(f.a,{onChange:()=>K(e["@id"]),key:a,value:e["@id"],checked:X===e["@id"],control:r.a.createElement(A.a,null),label:e.name})):r.a.createElement(V.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("circle",{cx:"15",cy:"17",r:"6"}),r.a.createElement("rect",{x:"25",y:"11",rx:"5",ry:"5",width:"100",height:"12"}),r.a.createElement("circle",{cx:"145",cy:"17",r:"6"}),r.a.createElement("rect",{x:"155",y:"11",rx:"5",ry:"5",width:"100",height:"12"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},t.durees&&q?t.durees.map((e,a)=>r.a.createElement("div",{className:"inline",key:a},r.a.createElement(f.a,{onChange:()=>(function(e){if(Q(e),t.data.fournisseur.currency.name===M.z){let a=D.prixMad*e.name;if(se(a),e.remise){let t=a*e.remise/100,n=a-t;z&&z>0&&(n=a-t-z);let r=n*M.A;ue(t),fe(n),me(r),ge(n+r)}else{let e=a;z&&z>0&&(e=a-z);let t=e*M.A;me(t),fe(e),ge(e+t)}}else{let a=D.prixEur*e.name;if(se(a),e.remise){let t=a*e.remise/100,n=a-t;z&&z>0&&(n=a-t-z),ue(t),fe(n),ge(n)}else{let e=a;z&&z>0&&(e=a-z),fe(e),ge(e)}}})(e),value:e["@id"],checked:q.id===e.id,control:r.a.createElement(A.a,null),label:e.name+" mois"}),e.remise?r.a.createElement("span",{className:"text-12 text-red"},"(Soit ",e.remise,"% de remise )"):"")):r.a.createElement(V.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("circle",{cx:"15",cy:"17",r:"6"}),r.a.createElement("rect",{x:"25",y:"11",rx:"5",ry:"5",width:"100",height:"12"}),r.a.createElement("circle",{cx:"145",cy:"17",r:"6"}),r.a.createElement("rect",{x:"155",y:"11",rx:"5",ry:"5",width:"100",height:"12"}))))),1===Y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{container:!0,spacing:3,className:""},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(l.a,{className:"mb-16",variant:"h6"},"Secteurs & Activit\xe9s"))),r.a.createElement(m.a,null),r.a.createElement(y.a,{container:!0,spacing:3,className:"mt-16 mb-16"},r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(M.E,{id:"secteurs",name:"secteurs",value:$,placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Secteurs",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mb-16",options:t.secteurs,isLoading:t.loadingSecteurs,onChange:e=>be(e,"secteurs"),required:!0})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(M.E,{id:"activites",name:"activites",value:"",placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Activit\xe9s",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mb-16",options:t.sousSecteurs,isLoading:t.loadingSS,onChange:e=>be(e,"activites"),required:!0}),r.a.createElement(l.a,{variant:"caption"},D&&(D.nbActivite>P.length?"Vous pouvez encore ajouter ".concat(D.nbActivite-P.length," activit\xe9s"):"Vous avez atteint la limite de ".concat(D.nbActivite," activit\xe9s"))))),r.a.createElement(y.a,{container:!0,spacing:3,className:""},r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(l.a,{className:"mb-16",variant:"h6"},"Activit\xe9(s) choisie(s)"))),r.a.createElement(m.a,null),r.a.createElement(y.a,{container:!0,spacing:3,className:"mt-4"},r.a.createElement(y.a,{item:!0,xs:12,sm:12},r.a.createElement("div",{className:Object(B.a)(ce.chips)},P&&P.length>0&&F.a.sortBy(P,[function(e){return e.label}]).map((e,a)=>r.a.createElement(w.a,{key:a,label:e.label,color:"secondary",onDelete:()=>(function(e){j(F.a.reject(P,function(a){return a.value===e}))})(e.value),className:"mt-8 mr-8"})))))),2===Y&&r.a.createElement(L.a,{className:"flex flex-col"},r.a.createElement(y.a,{container:!0,spacing:3,className:"mb-5"},r.a.createElement(y.a,{item:!0,xs:12,sm:4},r.a.createElement("div",{className:"flex"},r.a.createElement(M.F,{className:"",type:"text",name:"fullname",value:t.data.fournisseur.civilite+" "+t.data.fournisseur.firstName+" "+t.data.fournisseur.lastName,label:"Nom complet",InputProps:{readOnly:!0},fullWidth:!0}))),r.a.createElement(y.a,{item:!0,xs:12,sm:4},r.a.createElement("div",{className:"flex"},r.a.createElement(M.F,{className:"",name:"email",value:t.data.fournisseur.email,label:"Email",fullWidth:!0,InputProps:{readOnly:!0,endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(c.a,{className:"text-20",color:"action"},"email"))}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:4},r.a.createElement(M.F,{className:"",type:"text",name:"phonep",id:"phonep",value:t.data.fournisseur.phone,label:"T\xe9l\xe9phone",InputProps:{readOnly:!0,endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(c.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),r.a.createElement(m.a,null),r.a.createElement(y.a,{container:!0,spacing:3,className:"mb-5"},r.a.createElement(y.a,{item:!0,xs:12,sm:8},r.a.createElement("div",{className:"flex"},r.a.createElement(M.F,{className:"mt-20",label:"Raison sociale",id:"societe",name:"societe",value:t.data.fournisseur.societe,fullWidth:!0,InputProps:{readOnly:!0}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:4},r.a.createElement("div",{className:"flex"},r.a.createElement(M.F,{className:"mt-20",name:"fix",value:t.data.fournisseur.fix,label:"Fixe",InputProps:{readOnly:!0,endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(c.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),r.a.createElement(y.a,{item:!0,xs:12,sm:8},r.a.createElement(M.F,{id:"secteur",className:"",name:"secteur",label:"Activit\xe9",value:t.data.fournisseur.categories?F.a.join(F.a.map(t.data.fournisseur.categories,"name"),", "):"",fullWidth:!0,multiline:!0,rows:"3",InputProps:{readOnly:!0}})),r.a.createElement(y.a,{item:!0,xs:12,sm:4},r.a.createElement("div",{className:"flex"},r.a.createElement(M.F,{id:"website",className:"",type:"text",name:"website",value:t.data.fournisseur.website,label:"Site Web",InputProps:{readOnly:!0,endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(c.a,{className:"text-20",color:"action"},"language"))},fullWidth:!0}))),r.a.createElement(y.a,{item:!0,xs:12,sm:8},r.a.createElement("div",{className:"flex"},t.data.fournisseur.ice?r.a.createElement(M.F,{className:"",type:"text",name:"ice",id:"ice",value:t.data.fournisseur.ice,label:"ICE",fullWidth:!0,InputProps:{readOnly:!0}}):""))),r.a.createElement(m.a,null),r.a.createElement(y.a,{container:!0,spacing:3,className:"mb-5"},r.a.createElement(y.a,{item:!0,xs:12,sm:8},r.a.createElement("div",{className:"flex"},r.a.createElement(M.F,{className:"mt-20",type:"text",name:"adresse1",id:"adresse1",value:t.data.fournisseur.adresse1,label:"Adresse 1",InputProps:{readOnly:!0,endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(c.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),r.a.createElement(y.a,{item:!0,xs:12,sm:4},r.a.createElement(M.F,{className:"mt-20",type:"text",name:"pays",id:"pays",value:t.data.fournisseur.pays?t.data.fournisseur.pays.name:"",label:"Pays",InputProps:{readOnly:!0},fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,sm:4},r.a.createElement("div",{className:"flex"},r.a.createElement(M.F,{className:"",type:"text",name:"adresse2",value:t.data.fournisseur.adresse2,label:"Adresse 2",InputProps:{readOnly:!0,endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(c.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),r.a.createElement(y.a,{item:!0,xs:12,sm:4},r.a.createElement("div",{className:"flex"},r.a.createElement(M.F,{className:"",name:"codepostal",value:String(t.data.fournisseur.codepostal),label:"Code Postal",fullWidth:!0,InputProps:{readOnly:!0}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:4},r.a.createElement(M.F,{className:"",type:"text",name:"ville",id:"ville",value:t.data.fournisseur.ville?t.data.fournisseur.ville.name:"",label:"Ville",InputProps:{readOnly:!0},fullWidth:!0}))),r.a.createElement(m.a,null),r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12,sm:12},r.a.createElement(M.F,{className:"mb-5 mt-20  w-full",type:"text",name:"description",value:t.data.fournisseur.description,label:"Pr\xe9sentation",multiline:!0,rows:"8",InputProps:{readOnly:!0}})))))),innerScroll:!0})})}}]);