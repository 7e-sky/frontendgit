(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1048:function(e,t,a){"use strict";var r=a(0),n=function(){return(n=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};var c=function(){return Math.random().toString(36).substring(2)},i=function(e){var t=e.rtl,a=e.speed,i=e.interval,o=e.style,l=e.width,s=e.height,u=e.baseUrl,d=e.gradientRatio,m=e.animate,p=e.ariaLabel,f=e.children,E=e.className,y=e.uniquekey,h=e.primaryColor,g=e.primaryOpacity,b=e.secondaryColor,O=e.secondaryOpacity,v=e.preserveAspectRatio,P=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),x=y?y+"-idClip":c(),j=y?y+"-idGradient":c(),T=t?{transform:"scaleX(-1)"}:{},S="0; "+i+"; 1",w=a+"s";return Object(r.createElement)("svg",n({role:"img",style:n(n({},o),T),className:E,"aria-label":p||null,viewBox:"0 0 "+l+" "+s,preserveAspectRatio:v},P),p?Object(r.createElement)("title",null,p):null,Object(r.createElement)("rect",{x:"0",y:"0",width:l,height:s,clipPath:"url("+u+"#"+x+")",style:{fill:"url("+u+"#"+j+")"}}),Object(r.createElement)("defs",null,Object(r.createElement)("clipPath",{id:x},f),Object(r.createElement)("linearGradient",{id:j},Object(r.createElement)("stop",{offset:"0%",stopColor:h,stopOpacity:g},m&&Object(r.createElement)("animate",{attributeName:"offset",values:-d+"; "+-d+"; 1",keyTimes:S,dur:w,repeatCount:"indefinite"})),Object(r.createElement)("stop",{offset:"50%",stopColor:b,stopOpacity:O},m&&Object(r.createElement)("animate",{attributeName:"offset",values:-d/2+"; "+-d/2+"; "+(1+d/2),keyTimes:S,dur:w,repeatCount:"indefinite"})),Object(r.createElement)("stop",{offset:"100%",stopColor:h,stopOpacity:g},m&&Object(r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+d),keyTimes:S,dur:w,repeatCount:"indefinite"})))))},o={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},l=function(e){return Object(r.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},s=function(e){var t=n(n({},o),e);return Object(r.createElement)(i,n({},t),e.children||Object(r.createElement)(l,n({},t)))};t.a=s},1049:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=r},1096:function(e,t,a){"use strict";var r=a(54),n="[PRODUITS SELECTED APP] REQUEST PRODUITS",c="[PRODUITS SELECTED APP] CLEAN_UP",i="[PRODUITS SELECTED APP] GET PRODUITS";function o(){return function(e){return e({type:c})}}function l(){var e=r.a.get("/api/select_produits");return function(t){return t({type:n}),e.then(function(e){return t({type:i,payload:e.data["hydra:member"]})})}}var s=a(40),u=a(36),d="[PRODUIT_SELECTED APP] REQUEST PRODUIT_SELECTED",m="[PRODUIT_SELECTED APP] GET PRODUIT_SELECTED",p="[PRODUIT_SELECTED APP] REQUEST_FOURNISSEUR_SELECTED",f="[PRODUIT_SELECTED APP] GET_FOURNISSEUR_SELECTED",E="[PRODUIT_SELECTED APP] REQUEST CATEGORIE_SELECTED",y="[PRODUIT_SELECTED APP] GET CATEGORIE_SELECTED",h="[PRODUIT_SELECTED APP] REQUEST_PRODUCTS_F",g="[PRODUIT_SELECTED APP] GET_PRODUCTS_F",b="[PRODUIT_SELECTED APP] REQUEST SAVE",O="[PRODUIT_SELECTED APP] SAVE PRODUIT_SELECTED",v="[PRODUIT_SELECTED APP] SAVE ERROR";function P(e){var t=r.a.get("/api/select_produits/".concat(e));return function(e){return e({type:d}),t.then(function(t){e({type:m,payload:t.data})}).catch(function(t){e({type:v,payload:s.y.parseApiErrors(t)})})}}function x(){var e=r.a.get("/api/fournisseurselected");return function(t){return t({type:p}),e.then(function(e){t({type:f,payload:e.data})}).catch(function(e){t({type:v,payload:s.y.parseApiErrors(e)})})}}function j(e){var t=r.a.get("/api/fournisseurcategories?id=".concat(e));return function(e){return e({type:E}),t.then(function(t){e({type:y,payload:t.data})}).catch(function(t){e({type:v,payload:s.y.parseApiErrors(t)})})}}function T(e,t){var a=r.a.get("/api/produits?fournisseur=".concat(e,"&categorie=").concat(t));return function(e){return e({type:h}),a.then(function(t){e({type:g,payload:t.data["hydra:member"]})}).catch(function(t){e({type:v,payload:s.y.parseApiErrors(t)})})}}function S(e,t){var a=r.a.put(t,{produit:e});return function(e){return e({type:b}),a.then(function(t){return e(Object(u.B)({message:"Succ\xe8s"})),e({type:O,payload:t.data})}).catch(function(t){e({type:v,payload:s.y.parseApiErrors(t)})})}}a.d(t,"k",function(){return n}),a.d(t,"a",function(){return c}),a.d(t,"e",function(){return i}),a.d(t,"p",function(){return o}),a.d(t,"s",function(){return l}),a.d(t,"l",function(){return d}),a.d(t,"f",function(){return m}),a.d(t,"i",function(){return p}),a.d(t,"c",function(){return f}),a.d(t,"b",function(){return y}),a.d(t,"j",function(){return h}),a.d(t,"d",function(){return g}),a.d(t,"m",function(){return b}),a.d(t,"o",function(){return O}),a.d(t,"n",function(){return v}),a.d(t,"q",function(){return P}),a.d(t,"r",function(){return x}),a.d(t,"g",function(){return j}),a.d(t,"h",function(){return T}),a.d(t,"t",function(){return S})},1134:function(e,t,a){"use strict";var r=a(3),n=a.n(r),c=a(4),i=a.n(c),o=a(0),l=a.n(o),s=(a(1),a(2)),u=(a(31),a(7)),d=["video","audio","picture","iframe","img"],m=l.a.forwardRef(function(e,t){var a=e.classes,r=e.className,c=e.component,o=void 0===c?"div":c,u=e.image,m=e.src,p=e.style,f=i()(e,["classes","className","component","image","src","style"]),E=-1!==d.indexOf(o),y=!E&&u?n()({backgroundImage:'url("'.concat(u,'")')},p):p;return l.a.createElement(o,n()({className:Object(s.a)(a.root,E&&a.media,r),ref:t,style:y,src:E?u||m:void 0},f))});t.a=Object(u.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%",objectFit:"cover"}},{name:"MuiCardMedia"})(m)},1135:function(e,t,a){"use strict";var r=a(3),n=a.n(r),c=a(4),i=a.n(c),o=a(0),l=a.n(o),s=(a(1),a(2)),u=a(7),d=l.a.forwardRef(function(e,t){var a=e.disableSpacing,r=void 0!==a&&a,c=e.classes,o=e.className,u=i()(e,["disableSpacing","classes","className"]);return l.a.createElement("div",n()({className:Object(s.a)(c.root,!r&&c.spacing,o),ref:t},u))});t.a=Object(u.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > * + *":{marginLeft:8}}},{name:"MuiCardActions"})(d)},1167:function(e,t,a){"use strict";var r=a(46),n=a(8),c=a(1096),i={data:[],loading:!1,searchText:""},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:return Object(n.a)({},e,{data:[]});case c.k:return Object(n.a)({},e,{loading:!0});case c.e:return Object(n.a)({},e,{data:t.payload,loading:!1});default:return e}},l={data:null,fournisseurs:null,categories:null,products:null,error:null,loadingFournisseurs:!1,loadingProducts:!1,loading:!1,success:!1,imageReqInProgress:!1,deleteReqInProgress:!1,image:null,image_deleted:null},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.l:return Object(n.a)({},e,{loading:!0});case c.m:return Object(n.a)({},e,{loadingProducts:!0});case c.i:return Object(n.a)({},e,{loadingFournisseurs:!0,categories:null});case c.j:return Object(n.a)({},e,{loadingProducts:!0,products:null});case c.d:return Object(n.a)({},e,{products:t.payload,loadingProducts:!1});case c.c:return Object(n.a)({},e,{fournisseurs:t.payload,loadingFournisseurs:!1});case c.b:return Object(n.a)({},e,{categories:t.payload});case c.f:return Object(n.a)({},e,{data:t.payload,loading:!1});case c.o:return Object(n.a)({},e,{data:t.payload,loadingProducts:!1,success:!0});case c.n:return Object(n.a)({},e,{error:t.payload,loading:!1,success:!1});default:return e}},u=Object(r.d)({focusProduits:o,focusProduit:s});t.a=u},1326:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a(23),c=a(0),i=a.n(c),o=a(345),l=a(141),s=a(6),u=a(140),d=a(1096),m=a(1167),p=a(40),f=a(98),E=a(1013),y=a(1040),h=a(1035),g=a(1020),b=a(1025),O=a(1134),v=a(1043),P=a(974),x=a(1135),j=a(18),T=a(1049),S=a.n(T),w=a(1048),R=a(10),C=a(197),D=a(55),I=a.n(D),N=Object(o.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},buttonProgress:{color:S.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},media:{height:140}}});t.default=Object(u.a)("focusProduitsApp",m.a)(function(e){var t=Object(s.b)(),a=Object(s.c)(function(e){return e.focusProduitsApp.focusProduit}),o=Object(c.useState)(null),u=Object(n.a)(o,2),m=u[0],T=u[1],S=Object(c.useState)(null),D=Object(n.a)(S,2),A=D[0],U=D[1],_=Object(l.b)(null),L=_.form,k=_.setForm,F=N(e);return Object(c.useEffect)(function(){!function(){var a=e.match.params.produitId;t(d.q(a)),t(d.r())}()},[t,e.match.params]),Object(c.useEffect)(function(){(a.data&&!L||a.data&&L&&a.data.id!==L.id)&&(k(Object(r.a)({},a.data)),a.data.produit&&(T({value:a.data.produit.fournisseur.id,label:a.data.produit.fournisseur.societe}),U({value:a.data.produit.categorie.id,label:a.data.produit.categorie.name}),t(d.g(a.data.produit.fournisseur.id)),t(d.h(a.data.produit.fournisseur.id,a.data.produit.categorie.id))))},[t,L,a.data,k]),i.a.createElement(p.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:L&&i.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},i.a.createElement("div",{className:"flex flex-col items-start max-w-full"},i.a.createElement(p.d,{animation:"transition.slideRightIn",delay:300},i.a.createElement(f.a,{className:"normal-case flex items-center sm:mb-12",component:j.a,role:"button",to:"/admin/focus-produits",color:"inherit"},i.a.createElement(E.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),i.a.createElement("div",{className:"flex items-center max-w-full"},i.a.createElement("div",{className:"flex flex-col min-w-0"},i.a.createElement(p.d,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(f.a,{className:"text-16 sm:text-20 truncate"},L.produit?L.produit.titre:"Mettre \xe0 jour")))))),content:a.loading?"":L&&i.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},i.a.createElement(I.a,null,i.a.createElement(y.a,{container:!0,spacing:2,className:"items-center justify-center"},i.a.createElement(y.a,{item:!0,sm:4},i.a.createElement(p.E,{id:"fournisseur",name:"fournisseur",value:m,placeholder:"S\xe9lectionner un fournisseur",textFieldProps:{label:"Fournisseurs",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mt-8",options:a.fournisseurs,onChange:function(e){T(e),t(d.g(e.value)),U("")}})),i.a.createElement(y.a,{item:!0,sm:4},i.a.createElement(p.E,{id:"categorie",name:"categorie",value:A,placeholder:"S\xe9lectionner un cat\xe9gorie",textFieldProps:{label:"Cat\xe9gories",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mt-8",options:a.categories,onChange:function(e){U(e)}})),i.a.createElement(y.a,{item:!0,sm:4},i.a.createElement(h.a,{size:"large",className:"mt-8",variant:"contained",disabled:!m||!A,onClick:function(){t(d.h(m.value,A.value))},color:"primary"},"Rechercher")))),i.a.createElement(g.a,{className:"mb-16 mt-16"}),a.loadingProducts?i.a.createElement(w.a,Object.assign({viewBox:"0 0 1360 900",height:900,width:1360,speed:2},e),i.a.createElement("rect",{x:"30",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),i.a.createElement("rect",{x:"30",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),i.a.createElement("rect",{x:"30",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),i.a.createElement("rect",{x:"250",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),i.a.createElement("rect",{x:"250",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),i.a.createElement("rect",{x:"250",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),i.a.createElement("rect",{x:"470",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),i.a.createElement("rect",{x:"470",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),i.a.createElement("rect",{x:"470",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),i.a.createElement("rect",{x:"690",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),i.a.createElement("rect",{x:"690",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),i.a.createElement("rect",{x:"690",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),i.a.createElement("rect",{x:"910",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),i.a.createElement("rect",{x:"910",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),i.a.createElement("rect",{x:"910",y:"275",rx:"0",ry:"0",width:"120",height:"20"}),i.a.createElement("rect",{x:"1130",y:"20",rx:"8",ry:"8",width:"200",height:"200"}),i.a.createElement("rect",{x:"1130",y:"250",rx:"0",ry:"0",width:"200",height:"18"}),i.a.createElement("rect",{x:"1130",y:"275",rx:"0",ry:"0",width:"120",height:"20"})):i.a.createElement(y.a,{container:!0,spacing:2},a.products&&a.products.map(function(n,c){return i.a.createElement(y.a,{item:!0,sm:3,xs:6,key:c},i.a.createElement(b.a,{className:F.card},i.a.createElement(O.a,{className:F.media,image:n.featuredImageId?C.d+n.featuredImageId.url:"assets/images/ecommerce/product-placeholder.jpg",title:n.titre}),i.a.createElement(v.a,null,i.a.createElement(f.a,{gutterBottom:!0,variant:"h5",component:"h5"},R.a.capitalize(R.a.truncate(n.titre,{length:18}))),i.a.createElement(f.a,{variant:"caption",color:"textSecondary"},"R\xe9f.",n.reference),i.a.createElement(f.a,{variant:"body2",color:"textSecondary",component:"p",className:"mb-16 mt-8"},R.a.capitalize(R.a.truncate(n.description,{length:150}))),n.images.length>0?i.a.createElement(P.a,{icon:i.a.createElement(E.a,{className:"text-16 mr-0"},"image"),label:n.images.length,classes:Object(r.a)({root:"h-24",label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0"},e.classes),variant:"outlined",className:"mr-4"}):"",n.videos?i.a.createElement(P.a,{icon:i.a.createElement(E.a,{className:"text-16 mr-0"},"videocam"),label:"1",classes:Object(r.a)({root:"h-24",label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0"},e.classes),variant:"outlined",className:"mr-4"}):"",n.ficheTechnique?i.a.createElement(P.a,{icon:i.a.createElement(E.a,{className:"text-16 mr-0"},"picture_as_pdf"),label:"1 fiche technique",classes:Object(r.a)({root:"h-24",label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0"},e.classes),variant:"outlined",className:"mr-4"}):""),i.a.createElement(x.a,{className:"flex justify-center"},a.data.produit&&a.data.produit.id===n.id?i.a.createElement(P.a,{icon:i.a.createElement(E.a,{className:"text-16 mr-0"},"done"),label:"Selectionn\xe9",classes:Object(r.a)({root:"h-24",label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0"},e.classes),color:"secondary",className:"mr-4"}):i.a.createElement(h.a,{size:"small",variant:"contained",onClick:function(){t(d.t(n["@id"],a.data["@id"]))},color:"primary"},"S\xe9lectionner"))))}))),innerScroll:!0})})}}]);