(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{1374:function(e,a,t){"use strict";t.r(a);var n=t(21),r=t(8),c=t(23),i=t(0),s=t.n(i),o=t(98),l=t(1013),m=t(1035),u=t(1041),d=t(1032),E=t(1044),p=t(1027),f=t(1040),g=t(1023),b=t(1078),h=t(1079),v=t(1080),y=t(1081),x=t(1082),S=t(1046),N=t(974),O=t(1031),R=t(1051),j=t(1037),A=t(967),w=t(1020),F=t(1038),P=t(163),U=t(345),C=t(40),L=t(18),T=t(1098),V=t(10),k=t(6),B=t(140),I=t(54),z=t(36),D="[RENOUVELER AB FRS APP] REQUEST RENOUVELER",_="[RENOUVELER AB FRS APP] GET RENOUVELER",G="[RENOUVELER AB FRS APP] REQUEST_SUGGESTION",M="[RENOUVELER AB FRS APP] REQUEST_SOUS_SECTEURS",Q="[RENOUVELER AB FRS APP] GET SOUS_SECTEURS",H="[RENOUVELER AB FRS APP] REQUEST SECTEURS",W="[RENOUVELER AB FRS APP] GET SECTEURS",q="[RENOUVELER AB FRS APP] REQUEST FOURNISSEUR",$="[RENOUVELER AB FRS APP] GET FOURNISSEUR",J="[RENOUVELER AB FRS APP] REQUEST OFFRES",K="[RENOUVELER AB FRS APP] GET OFFRES",X="[RENOUVELER AB FRS APP] REQUEST SAVE",Y="[RENOUVELER AB FRS APP] SAVE RENOUVELER",Z="[RENOUVELER AB FRS APP] SAVE_SUGGESTION",ee="[RENOUVELER AB FRS APP] GET_PAIEMENT",ae="[RENOUVELER AB FRS APP] GET_DUREE",te="[RENOUVELER AB FRS APP] CLEAN_UP";var ne=t(46),re={data:null,offres:null,fournisseur:null,loadingSecteurs:!1,secteurs:null,sousSecteurs:null,error:null,loading:!1,loadingSuggestion:!1,loadingSS:!1,success:!1,successActivite:!1,paiements:null,durees:null},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case D:case q:case J:case X:return Object(r.a)({},e,{loading:!0});case H:return Object(r.a)({},e,{loadingSecteurs:!0});case W:return Object(r.a)({},e,{secteurs:a.payload,loadingSecteurs:!1});case M:return Object(r.a)({},e,{loadingSS:!0});case Q:return Object(r.a)({},e,{sousSecteurs:a.payload,loadingSS:!1});case ee:return Object(r.a)({},e,{paiements:a.payload});case ae:return Object(r.a)({},e,{durees:a.payload});case G:return Object(r.a)({},e,{loadingSuggestion:!0});case Z:return Object(r.a)({},e,{successActivite:!0,loadingSuggestion:!1});case _:return Object(r.a)({},e,{data:a.payload,loading:!1});case Y:return Object(r.a)({},e,{loading:!1,success:!0});case te:return{initialState:re};case $:return Object(r.a)({},e,{fournisseur:a.payload,loading:!1});case K:return Object(r.a)({},e,{offres:a.payload,loading:!1});case"[RENOUVELER AB FRS APP] SAVE ERROR":return Object(r.a)({},e,{error:a.payload,loading:!1});default:return e}},ie={state:!1,options:{children:"Hi"}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z.f:return Object(r.a)({},e,{state:!0,options:Object(r.a)({},e.options,a.options)});case z.a:return Object(r.a)({},e,{state:!1});default:return e}},oe=Object(ne.d)({commande:ce,dialog:se}),le=t(55),me=t.n(le),ue=t(141),de=t(1024),Ee=t(965),pe=t(1048),fe=t(2),ge=Object(U.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},chips:{flex:1,display:"flex",flexWrap:"wrap"},renouvelerImageFeaturedStar:{position:"absolute",top:0,right:0,color:P.a[400],opacity:0},button:{margin:e.spacing(1)},renouvelerImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},border:{borderLeft:"11px solid "+e.palette.secondary.main+"!important",paddingLeft:11},renouvelerImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $renouvelerImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $renouvelerImageFeaturedStar":{opacity:1},"&:hover $renouvelerImageFeaturedStar":{opacity:1}}},error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)},chip:{marginLeft:e.spacing(1),background:"#ef5350",color:"white",fontWeight:"bold",fontSize:"11px"},chip2:{marginLeft:e.spacing(1),background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px"},chip3:{margin:e.spacing(1),background:"green",color:"white",fontWeight:"bold",fontSize:"11px"}}});a.default=Object(B.a)("renouvelerOffreFrsApp",oe)(function(e){var a=Object(k.b)(),t=Object(k.c)(function(e){return e.renouvelerOffreFrsApp.commande}),P=Object(k.c)(function(e){return e.auth.user}),U=Object(i.useState)([]),B=Object(c.a)(U,2),ne=B[0],re=B[1],ce=Object(i.useState)(""),ie=Object(c.a)(ce,2),se=ie[0],oe=ie[1],le=Object(i.useState)(""),be=Object(c.a)(le,2),he=be[0],ve=be[1],ye=Object(i.useState)(null),xe=Object(c.a)(ye,2),Se=xe[0],Ne=xe[1],Oe=Object(i.useState)(null),Re=Object(c.a)(Oe,2),je=Re[0],Ae=Re[1],we=Object(i.useState)(null),Fe=Object(c.a)(we,2),Pe=Fe[0],Ue=Fe[1],Ce=Object(i.useState)(null),Le=Object(c.a)(Ce,2),Te=Le[0],Ve=Le[1],ke=Object(i.useState)(!1),Be=Object(c.a)(ke,2),Ie=Be[0],ze=Be[1],De=Object(ue.b)(null),_e=De.form,Ge=De.setForm,Me=Object(i.useState)(0),Qe=Object(c.a)(Me,2),He=Qe[0],We=Qe[1],qe=Object(i.useState)(0),$e=Object(c.a)(qe,2),Je=$e[0],Ke=$e[1],Xe=Object(i.useState)(0),Ye=Object(c.a)(Xe,2),Ze=Ye[0],ea=Ye[1],aa=Object(i.useState)(0),ta=Object(c.a)(aa,2),na=ta[0],ra=ta[1],ca=Object(i.useState)(0),ia=Object(c.a)(ca,2),sa=ia[0],oa=ia[1],la=Object(i.useState)(0),ma=Object(c.a)(la,2),ua=ma[0],da=ma[1],Ea=ge(e);function pa(){ze(!1)}function fa(e,a){da(a)}function ga(){a(function(e,a,t,n,r){var c={offre:a["@id"],sousSecteurs:V.a.map(e,function(e,a){return e.value}),mode:t,duree:n["@id"],type:!0},i=I.a.post("/api/demande_abonnements",c);return function(e){return e({type:X}),i.then(function(a){return e(Object(z.B)({message:"Votre commande a bien \xe9t\xe9 enregistr\xe9, un mail vous sera envoy\xe9 d\xe8s la validation de votre commande, nous vous remercions pour votre confiance!"})),r.push("/abonnement"),e({type:Y,payload:a.data})})}}(ne,je,Pe,Te,e.history))}function ba(e,t){if("activites"===t){if(ne.length===je.nbActivite)return;if(!V.a.find(ne,["value",e.value])){var r=e;r.label=Se.label+": "+r.label,re([e].concat(Object(n.a)(ne)))}}else e.value&&(Ne(e),a(function(e){var a=I.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return function(e){return e({type:M}),a.then(function(a){e({type:Q,payload:a.data["hydra:member"]})})}}(e.value)))}return Object(i.useEffect)(function(){a(function(){var e=I.a.get("/api/offres");return function(a){return a({type:J}),e.then(function(e){return a({type:K,payload:e.data["hydra:member"]})})}}()),a(function(e){var a=I.a.get("/api/fournisseurs/".concat(e));return function(e){return e({type:q}),a.then(function(a){return e({type:$,payload:a.data})})}}(P.id)),a(function(){var e=I.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name&order[name]=asc");return function(a){return a({type:H}),e.then(function(e){a({type:W,payload:e.data["hydra:member"]})})}}()),a(function(){var e=I.a.get("/api/paiements");return function(a){return e.then(function(e){a({type:ee,payload:e.data["hydra:member"]})})}}()),a(function(){var e=I.a.get("/api/durees");return function(a){return e.then(function(e){a({type:ae,payload:e.data["hydra:member"]})})}}())},[a,P.id]),Object(i.useEffect)(function(){t.successActivite&&ze(!1)},[t.successActivite,ze]),Object(i.useEffect)(function(){return function(){var t=e.match.params.commandeId;a(function(e){var a=I.a.get("/api/abonnements/".concat(e));return function(e){return e({type:D}),a.then(function(a){return e({type:_,payload:a.data})})}}(t))}(),function(){a(function(e){return e({type:te})})}},[a,e.match.params]),Object(i.useEffect)(function(){if((t.data&&!_e||t.data&&_e&&t.data.id!==_e.id)&&(Ge(Object(r.a)({},t.data)),t.data.sousSecteurs&&re(t.data.sousSecteurs.map(function(e){return{value:e["@id"],label:e.secteur.name+": "+e.name}})),t.data.offre&&Ae(t.data.offre),t.data.mode&&Ue(t.data.mode["@id"]),t.data.duree&&(Ve(t.data.duree),t.data.offre)))if(t.data.fournisseur.currency.name===C.z){var e=t.data.offre.prixMad*t.data.duree.name;if(We(e),t.data.duree.remise){var a=e*t.data.duree.remise/100,n=e-a,c=n*C.A;ea(a),ra(n),Ke(c),oa(n+c)}else{var i=e*C.A;Ke(e*C.A),oa(e+i)}}else{var s=t.data.offre.prixEur*t.data.duree.name;if(We(s),t.data.duree.remise){var o=s*t.data.duree.remise/100,l=s-o;ea(o),ra(l),oa(l)}else oa(s)}},[_e,t.data,Ge]),s.a.createElement(C.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:t.loading?"":_e&&s.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},s.a.createElement("div",{className:"flex flex-col items-start max-w-full"},s.a.createElement(C.d,{animation:"transition.slideRightIn",delay:300},s.a.createElement(o.a,{className:"normal-case flex items-center sm:mb-12",component:L.a,role:"button",to:"/offres/renouveler",color:"inherit"},s.a.createElement(l.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),s.a.createElement("div",{className:"flex items-center max-w-full"},s.a.createElement("div",{className:"flex flex-col min-w-0"},s.a.createElement(C.d,{animation:"transition.slideLeftIn",delay:300},s.a.createElement("div",{className:"text-16 sm:text-20 truncate"},"Renouveler votre abonnement"))))),s.a.createElement("div",{className:"flex items-end"},0===ua?s.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(e){return fa(0,1)}},"Suivant ",s.a.createElement(l.a,null,"navigate_next")):s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"mr-4",onClick:function(e){return fa(0,0)}},s.a.createElement(l.a,null,"navigate_before")," Pr\xe9c\xe9dent"),s.a.createElement(m.a,{className:"whitespace-no-wrap",variant:"contained",color:"secondary",disabled:0===ne.length,onClick:function(){return ga()}},"Passer la commande",t.loading&&s.a.createElement(u.a,{size:24,className:Ea.buttonProgress}))))),contentToolbar:t.loading||!_e?s.a.createElement("div",{className:Ea.root},s.a.createElement(d.a,{color:"secondary"})):s.a.createElement(E.a,{value:ua,onChange:fa,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},s.a.createElement(p.a,{className:"h-64 normal-case",label:"D\xe9tail de l'abonnement"}),s.a.createElement(p.a,{className:"h-64 normal-case",label:"Secteurs d'activit\xe9s"})),content:t.loading?"":_e&&s.a.createElement(me.a,null,s.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},0===ua&&s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{container:!0,spacing:3,className:"mb-8"},s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(o.a,{variant:"h6"},s.a.createElement("span",{className:Ea.border},"Offres & Activit\xe9s"))),s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(o.a,{variant:"h6"},s.a.createElement("span",{className:Ea.border},"R\xe9capitulatif de votre renouveler")))),s.a.createElement(f.a,{container:!0,spacing:3,className:"mt-16 mb-16"},s.a.createElement(f.a,{item:!0,xs:12,sm:6,className:"border-1"},t.offres&&je&&t.fournisseur?t.offres.map(function(e,a){return s.a.createElement(f.a,{container:!0,key:a,spacing:3},s.a.createElement(f.a,{item:!0,xs:6,sm:6},s.a.createElement("strong",{className:"p-1"},e.name)," ",s.a.createElement("br",null),s.a.createElement("span",{className:"p-1"},e.description)),s.a.createElement(f.a,{item:!0,xs:6,sm:6},s.a.createElement(Ee.a,{row:!0},s.a.createElement(g.a,{control:s.a.createElement(de.a,{checked:je.id===e.id,onChange:function(){return function(e){if(Ae(e),ne.length>0&&re(V.a.slice(ne,0,e.nbActivite)),P.data.currency===C.z){var a=e.prixMad*Te.name;if(We(a),Te.remise){var t=a*Te.remise/100,n=a-t,r=n*C.A;ea(t),ra(n),Ke(r),oa(n+r)}else{var c=a,i=c*C.A;Ke(i),ra(c),oa(c+i)}}else{var s=e.prixEur*Te.name;if(We(s),Te.remise){var o=s*Te.remise/100,l=s-o;ea(o),ra(l),oa(l)}else{var m=s;ra(m),oa(m)}}}(e)},value:e["@id"]}),label:t.fournisseur.currency.name===C.z?parseFloat(e.prixMad).toLocaleString("fr",{minimumFractionDigits:2})+C.z+" HT / mois":parseFloat(e.prixEur).toLocaleString("fr",{minimumFractionDigits:2})+" \u20ac HT / mois"}))))}):s.a.createElement(pe.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("circle",{cx:"10",cy:"20",r:"8"}),s.a.createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),s.a.createElement("circle",{cx:"10",cy:"50",r:"8"}),s.a.createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),s.a.createElement("circle",{cx:"10",cy:"80",r:"8"}),s.a.createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}))),s.a.createElement(f.a,{item:!0,xs:12,sm:6},t.offres&&je&&Te?s.a.createElement(b.a,{className:"w-full -striped"},s.a.createElement(h.a,{className:"bg-gray-200"},s.a.createElement(v.a,null,s.a.createElement(y.a,{className:"font-bold  text-black"},"Offre"),s.a.createElement(y.a,{className:"font-bold text-black text-right"},"Total HT"))),s.a.createElement(x.a,null,s.a.createElement(v.a,null,s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11"},s.a.createElement("strong",null,je?je.name:""),s.a.createElement("br",null),parseFloat(je.prixMad).toLocaleString("fr",{minimumFractionDigits:2}),"* ",Te.name+" mois"),s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(He).toLocaleString("fr",{minimumFractionDigits:2}))),s.a.createElement(v.a,{className:"bg-gray-200"},s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Total HT"),s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(He).toLocaleString("fr",{minimumFractionDigits:2}))),Te.remise?s.a.createElement(v.a,{className:""},s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Remise (",Te.remise,"%)"),s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(Ze).toLocaleString("fr",{minimumFractionDigits:2}))):null,na>0&&na!==He?s.a.createElement(v.a,{className:"bg-gray-200"},s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Montant NET HT"),s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(na).toLocaleString("fr",{minimumFractionDigits:2}))):null,s.a.createElement(v.a,{className:""},s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"TVA (20%)"),s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(Je).toLocaleString("fr",{minimumFractionDigits:2}))),s.a.createElement(v.a,{className:"bg-gray-200"},s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate font-bold text-11 text-right"},"Montant TTC"),s.a.createElement(y.a,{component:"th",scope:"row",className:"truncate font-bold text-13 text-right"},parseFloat(sa).toLocaleString("fr",{minimumFractionDigits:2}))))):s.a.createElement(pe.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("circle",{cx:"10",cy:"20",r:"8"}),s.a.createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),s.a.createElement("circle",{cx:"10",cy:"50",r:"8"}),s.a.createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),s.a.createElement("circle",{cx:"10",cy:"80",r:"8"}),s.a.createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"})))),s.a.createElement(f.a,{container:!0,spacing:3,className:"mb-8"},s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(o.a,{variant:"h6"},s.a.createElement("span",{className:Ea.border},"Mode de paiement"," "))),s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(o.a,{variant:"h6"},s.a.createElement("span",{className:Ea.border},"Dur\xe9e de votre abonnement")))),s.a.createElement(f.a,{container:!0,spacing:3,className:"mt-6 mb-16"},s.a.createElement(f.a,{item:!0,xs:12,sm:6,className:"border-1"},t.paiements?t.paiements.map(function(e,a){return s.a.createElement(g.a,{onChange:function(){return Ue(e["@id"])},key:a,value:e["@id"],checked:Pe===e["@id"],control:s.a.createElement(S.a,null),label:e.name})}):s.a.createElement(pe.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("circle",{cx:"15",cy:"17",r:"6"}),s.a.createElement("rect",{x:"25",y:"11",rx:"5",ry:"5",width:"100",height:"12"}),s.a.createElement("circle",{cx:"145",cy:"17",r:"6"}),s.a.createElement("rect",{x:"155",y:"11",rx:"5",ry:"5",width:"100",height:"12"}))),s.a.createElement(f.a,{item:!0,xs:12,sm:6,className:"border-1"},t.durees&&Te?t.durees.map(function(e,a){return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{onChange:function(){return function(e){if(Ve(e),P.data.currency===C.z){var a=je.prixMad*e.name;if(We(a),e.remise){var t=a*e.remise/100,n=a-t,r=n*C.A;ea(t),ra(n),Ke(r),oa(n+r)}else{var c=a,i=c*C.A;Ke(i),ra(c),oa(c+i)}}else{var s=je.prixEur*e.name;if(We(s),e.remise){var o=s*e.remise/100,l=s-o;ea(o),ra(l),oa(l)}else{var m=s;ra(m),oa(m)}}}(e)},key:a,value:e["@id"],checked:Te.id===e.id,control:s.a.createElement(S.a,null),label:e.name+" mois"}),e.remise?s.a.createElement("span",{className:"text-12 text-red"},"(Soit ",e.remise,"% de remise )"):"")}):s.a.createElement(pe.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("circle",{cx:"15",cy:"17",r:"6"}),s.a.createElement("rect",{x:"25",y:"11",rx:"5",ry:"5",width:"100",height:"12"}),s.a.createElement("circle",{cx:"145",cy:"17",r:"6"}),s.a.createElement("rect",{x:"155",y:"11",rx:"5",ry:"5",width:"100",height:"12"})))),s.a.createElement(f.a,{container:!0,spacing:3,className:"mt-6 mb-16"},s.a.createElement(f.a,{item:!0,xs:12,sm:12,className:"flex justify-end"},s.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(e){return fa(0,1)}},"Suivant ",s.a.createElement(l.a,null,"navigate_next"))))),1===ua&&s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{container:!0,spacing:3,className:""},s.a.createElement(f.a,{item:!0,xs:12},s.a.createElement(o.a,{className:"mb-16",variant:"h6"},s.a.createElement("span",{className:Ea.border},"Secteurs & Activit\xe9s")))),s.a.createElement(f.a,{container:!0,spacing:3,className:"mt-16 mb-16"},s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(C.E,{id:"secteurs",name:"secteurs",value:Se,placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Secteurs",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mb-16",options:t.secteurs,isLoading:t.loadingSecteurs,onChange:function(e){return ba(e,"secteurs")},required:!0})),s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(C.E,{id:"activites",name:"activites",value:"",placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Activit\xe9s",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mb-16",options:t.sousSecteurs,isLoading:t.loadingSS,onChange:function(e){return ba(e,"activites")},required:!0}),s.a.createElement(o.a,{variant:"caption"},je&&(je.nbActivite>ne.length?"Vous pouvez encore ajouter ".concat(je.nbActivite-ne.length," activit\xe9s"):"Vous avez atteint la limite de ".concat(je.nbActivite," activit\xe9s"))))),s.a.createElement(f.a,{container:!0,spacing:3,className:""},s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(o.a,{className:"mb-16",variant:"h6"},s.a.createElement("span",{className:Ea.border},"Activit\xe9(s) choisie(s)"))),s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(o.a,{className:"mb-16",variant:"h6"},s.a.createElement("span",{className:Ea.border},"Suggestions ")," "))),s.a.createElement(f.a,{container:!0,spacing:3,className:"mt-4"},s.a.createElement(f.a,{item:!0,xs:12,sm:6,className:"border-1"},s.a.createElement("div",{className:Object(fe.a)(Ea.chips)},ne&&ne.length>0&&V.a.sortBy(ne,[function(e){return e.label}]).map(function(e,a){return s.a.createElement(N.a,{key:a,label:e.label,color:"primary",onDelete:function(){return a=e.value,void re(V.a.reject(ne,function(e){return e.value===a}));var a},className:"mt-8 mr-8"})}))),s.a.createElement(f.a,{item:!0,xs:12,sm:6,className:"border-1"},t.fournisseur?s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{className:"mt-4",variant:"caption"},"Si vos secteurs ou activit\xe9s n\xb4existent pas, veuillez nous les envoyer en cliquant"),s.a.createElement("div",{className:"mt-4"},s.a.createElement(T.a,{component:"button",variant:"body2",color:"secondary",onClick:function(){ze(!0)}},"Suggerer d'autres secteurs et activit\xe9s"),s.a.createElement(O.a,{open:Ie,onClose:pa,"aria-labelledby":"form-dialog-title"},s.a.createElement(R.a,{id:"form-dialog-title"},"Vos suggestions"),s.a.createElement(j.a,null,s.a.createElement(o.a,{variant:"caption"},"Ces suggestions seront prises en compte par l'administrateur dans les plus brefs d\xe9lais."),s.a.createElement(f.a,{container:!0,spacing:3},s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(A.a,{className:"mt-8 mb-16",error:he.length<=2,required:!0,label:"Secteur",autoFocus:!0,value:he,id:"secteur",name:"secteur",onChange:function(e){return ve(e.target.value)},variant:"outlined",fullWidth:!0,helperText:he.length<=2?"Ce champ doit contenir au moins 3 caract\xe8res":""})),s.a.createElement(f.a,{item:!0,xs:12,sm:6},s.a.createElement(A.a,{className:"mt-8 mb-16",id:"sousSecteur",name:"sousSecteur",error:se.length<=2,onChange:function(e){return oe(e.target.value)},label:"Activit\xe9",type:"text",required:!0,value:se,variant:"outlined",fullWidth:!0,helperText:se.length<=2?"Ce champ doit contenir au moins 3 caract\xe8res ":""})))),s.a.createElement(w.a,null),s.a.createElement(F.a,null,s.a.createElement(m.a,{onClick:pa,variant:"outlined",color:"primary"},"Annuler"),s.a.createElement(m.a,{onClick:function(){a(function(e,a,t){var n={};if(a&&e)return n.sousSecteur=a,n.secteur=e,n.pageSuggestion="Demande Offre d'abonnement fournisseur",n.user="/api/fournisseurs/".concat(t),function(e,a){var t=I.a.post("/api/suggestion_secteurs",n);return e({type:G}),t.then(function(a){return Promise.all([e({type:Z}),e(Object(z.B)({message:"Votre suggestion a bien \xe9t\xe9 enregistr\xe9e, un mail vous sera envoy\xe9 d\xe8s la validation de votre suggestion, nous vous remercions pour votre confiance!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])})}}(he,se,P.id))},variant:"contained",color:"secondary",disabled:t.loadingSuggestion||se.length<2||he.length<=2},"Sauvegarder",t.loadingSuggestion&&s.a.createElement(u.a,{size:24,className:Ea.buttonProgress})))))):s.a.createElement(pe.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("rect",{x:"1",y:"13",rx:"5",ry:"5",width:"220",height:"24"})))),s.a.createElement(f.a,{container:!0,spacing:3,className:"mt-16 mb-16 flex justify-end"},s.a.createElement(f.a,{item:!0,xs:12,sm:6,className:"flex justify-end"},s.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"mr-4",onClick:function(e){return fa(0,0)}},s.a.createElement(l.a,null,"navigate_before")," Pr\xe9c\xe9dent"),s.a.createElement(m.a,{className:"whitespace-no-wrap",variant:"contained",color:"secondary",disabled:0===ne.length,onClick:function(){return ga()}},"Passer la commande",t.loading&&s.a.createElement(u.a,{size:24,className:Ea.buttonProgress}))))))),innerScroll:!0})})}}]);