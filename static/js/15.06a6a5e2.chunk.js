(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1241:function(e,t,a){"use strict";var n=a(0),r=function(){return(r=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var c=function(){return Math.random().toString(36).substring(2)},l=function(e){var t=e.rtl,a=e.speed,l=e.interval,o=e.style,s=e.width,i=e.height,d=e.baseUrl,m=e.gradientRatio,u=e.animate,p=e.ariaLabel,g=e.children,f=e.className,b=e.uniquekey,y=e.primaryColor,E=e.primaryOpacity,h=e.secondaryColor,v=e.secondaryOpacity,x=e.preserveAspectRatio,w=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),O=b?b+"-idClip":c(),N=b?b+"-idGradient":c(),P=t?{transform:"scaleX(-1)"}:{},j="0; "+l+"; 1",D=a+"s";return Object(n.createElement)("svg",r({role:"img",style:r(r({},o),P),className:f,"aria-label":p||null,viewBox:"0 0 "+s+" "+i,preserveAspectRatio:x},w),p?Object(n.createElement)("title",null,p):null,Object(n.createElement)("rect",{x:"0",y:"0",width:s,height:i,clipPath:"url("+d+"#"+O+")",style:{fill:"url("+d+"#"+N+")"}}),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:O},g),Object(n.createElement)("linearGradient",{id:N},Object(n.createElement)("stop",{offset:"0%",stopColor:y,stopOpacity:E},u&&Object(n.createElement)("animate",{attributeName:"offset",values:-m+"; "+-m+"; 1",keyTimes:j,dur:D,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:h,stopOpacity:v},u&&Object(n.createElement)("animate",{attributeName:"offset",values:-m/2+"; "+-m/2+"; "+(1+m/2),keyTimes:j,dur:D,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:y,stopOpacity:E},u&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+m),keyTimes:j,dur:D,repeatCount:"indefinite"})))))},o={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},s=function(e){return Object(n.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},i=function(e){var t=r(r({},o),e);return Object(n.createElement)(l,r({},t),e.children||Object(n.createElement)(s,r({},t)))};t.a=i},1243:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext();t.a=r},1248:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext();t.a=r},1252:function(e,t,a){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(a(59))},1255:function(e,t,a){"use strict";var n=a(50);const r="[PROJECT DASHBOARD APP] GET WIDGETS",c="[PROJECT DASHBOARD APP] REQUEST WIDGETS",l="[PROJECT DASHBOARD APP] GET_WIDGET6",o="[PROJECT DASHBOARD APP] REQUEST_WIDGET6",s="[PROJECT DASHBOARD APP] GET_WIDGET5",i="[PROJECT DASHBOARD APP] REQUEST_WIDGET5",d="[PROJECT DASHBOARD APP] REQUEST_TOP_BUDGET",m="[PROJECT DASHBOARD APP] GET_TOP_BUDGET",u="[PROJECT DASHBOARD APP] REQUEST_POTENTIEL",p="[PROJECT DASHBOARD APP] GET_POTENTIEL",g="[PROJECT DASHBOARD APP] REQUEST_PERSONNEL_POTENTIEL",f="[PROJECT DASHBOARD APP] GET_PERSONNEL_POTENTIEL";function b(){const e=n.a.get("/api/fournisseur/widgets");return t=>(t({type:c}),e.then(e=>t({type:r,payload:e.data})))}function y(e){const t=n.a.get("/api/fournisseur/doughnut?year=".concat(e));return e=>(e({type:o}),t.then(t=>e({type:l,payload:t.data})))}function E(){const e=n.a.get("/api/fournisseur/demandeDevisByProduct");return t=>(t({type:i}),e.then(e=>t({type:s,payload:e.data})))}function h(e){const t=n.a.get("/api/fournisseur/topbudget?year=".concat(e));return e=>(e({type:d}),t.then(t=>e({type:m,payload:t.data})))}function v(e){const t=n.a.get("/api/fournisseur/potentiel?year=".concat(e));return e=>(e({type:u}),t.then(t=>e({type:p,payload:t.data})))}function x(e){const t=n.a.get("/api/fournisseur/personnelsRank?year=".concat(e));return e=>(e({type:g}),t.then(t=>e({type:f,payload:t.data})))}a.d(t,"f",function(){return r}),a.d(t,"l",function(){return c}),a.d(t,"e",function(){return l}),a.d(t,"k",function(){return o}),a.d(t,"d",function(){return s}),a.d(t,"j",function(){return i}),a.d(t,"i",function(){return d}),a.d(t,"c",function(){return m}),a.d(t,"h",function(){return u}),a.d(t,"b",function(){return p}),a.d(t,"g",function(){return g}),a.d(t,"a",function(){return f}),a.d(t,"r",function(){return b}),a.d(t,"n",function(){return y}),a.d(t,"m",function(){return E}),a.d(t,"q",function(){return h}),a.d(t,"p",function(){return v}),a.d(t,"o",function(){return x})},1273:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(4),l=a.n(c),o=a(0),s=a.n(o),i=a(2),d=a(8),m=a(1248),u=s.a.forwardRef(function(e,t){var a=e.classes,n=e.className,c=e.component,o=void 0===c?"table":c,d=e.padding,u=void 0===d?"default":d,p=e.size,g=void 0===p?"medium":p,f=l()(e,["classes","className","component","padding","size"]),b=s.a.useMemo(function(){return{padding:u,size:g}},[u,g]);return s.a.createElement(m.a.Provider,{value:b},s.a.createElement(o,r()({ref:t,className:Object(i.a)(a.root,n)},f)))});t.a=Object(d.a)({root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0}},{name:"MuiTable"})(u)},1274:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(4),l=a.n(c),o=a(0),s=a.n(o),i=a(2),d=a(8),m=a(1243),u={variant:"head"},p=s.a.forwardRef(function(e,t){var a=e.classes,n=e.className,c=e.component,o=void 0===c?"thead":c,d=l()(e,["classes","className","component"]);return s.a.createElement(m.a.Provider,{value:u},s.a.createElement(o,r()({className:Object(i.a)(a.root,n),ref:t},d)))});t.a=Object(d.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(p)},1275:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(4),l=a.n(c),o=a(0),s=a.n(o),i=a(2),d=a(8),m=a(1243),u=s.a.forwardRef(function(e,t){var a=e.classes,n=e.className,c=e.component,o=void 0===c?"tr":c,d=e.hover,u=void 0!==d&&d,p=e.selected,g=void 0!==p&&p,f=l()(e,["classes","className","component","hover","selected"]),b=s.a.useContext(m.a);return s.a.createElement(o,r()({ref:t,className:Object(i.a)(a.root,n,b&&["head"===b.variant&&a.head,"footer"===b.variant&&a.footer],u&&a.hover,g&&a.selected)},f))});t.a=Object(d.a)(function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:"none","&$selected":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.08)"},"&$hover:hover":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.07)":"rgba(255, 255, 255, 0.14)"}},selected:{},hover:{},head:{},footer:{}}},{name:"MuiTableRow"})(u)},1276:function(e,t,a){"use strict";var n=a(4),r=a.n(n),c=a(3),l=a.n(c),o=a(0),s=a.n(o),i=a(2),d=a(8),m=a(9),u=a(12),p=a(1248),g=a(1243),f=s.a.forwardRef(function(e,t){var a,n=e.align,c=void 0===n?"inherit":n,o=e.classes,d=e.className,u=e.component,f=e.padding,b=e.scope,y=e.size,E=e.sortDirection,h=e.variant,v=r()(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),x=s.a.useContext(p.a),w=s.a.useContext(g.a);a=u||(w&&"head"===w.variant?"th":"td");var O=b;!O&&w&&"head"===w.variant&&(O="col");var N=f||(x&&x.padding?x.padding:"default"),P=y||(x&&x.size?x.size:"medium"),j=null;return E&&(j="asc"===E?"ascending":"descending"),s.a.createElement(a,l()({ref:t,className:Object(i.a)(o.root,(h?"head"===h:w&&"head"===w.variant)&&o.head,(h?"body"===h:w&&"body"===w.variant)&&o.body,(h?"footer"===h:w&&"footer"===w.variant)&&o.footer,"inherit"!==c&&o["align".concat(Object(m.a)(c))],"default"!==N&&o["padding".concat(Object(m.a)(N))],"medium"!==P&&o["size".concat(Object(m.a)(P))],d),"aria-sort":j,scope:O},v))});t.a=Object(d.a)(function(e){return{root:l()({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(u.e)(Object(u.c)(e.palette.divider,1),.88):Object(u.a)(Object(u.c)(e.palette.divider,1),.68)),textAlign:"left",padding:"14px 40px 14px 16px","&:last-child":{paddingRight:16}}),head:{color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),lineHeight:e.typography.pxToRem(21),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"}}},{name:"MuiTableCell"})(f)},1277:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(4),l=a.n(c),o=a(0),s=a.n(o),i=a(2),d=a(8),m=a(1243),u={variant:"body"},p=s.a.forwardRef(function(e,t){var a=e.classes,n=e.className,c=e.component,o=void 0===c?"tbody":c,d=l()(e,["classes","className","component"]);return s.a.createElement(m.a.Provider,{value:u},s.a.createElement(o,r()({className:Object(i.a)(a.root,n),ref:t},d)))});t.a=Object(d.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(p)},1305:function(e,t,a){"use strict";var n=a(43),r=a(1255);const c={data:[],dataDDP:[],doughnut:[],potentiels:[],personnelPotentiels:[],topBudget:null,loading:!1,loadingDDP:!1,loadingDoughnut:!1,loadingTopBudget:!1,loadingPotentiels:!1,loadingPersonnelPotentiels:!1};var l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.l:return{...e,data:[],loading:!0};case r.f:return{...e,data:t.payload,loading:!1};case r.j:return{...e,dataDDP:[],loadingDDP:!0};case r.d:return{...e,dataDDP:t.payload,loadingDDP:!1};case r.k:return{...e,doughnut:[],loadingDoughnut:!0};case r.e:return{...e,doughnut:t.payload,loadingDoughnut:!1};case r.i:return{...e,topBudget:null,loadingTopBudget:!0};case r.c:return{...e,topBudget:t.payload,loadingTopBudget:!1};case r.h:return{...e,potentiels:[],loadingPotentiels:!0};case r.b:return{...e,potentiels:t.payload,loadingPotentiels:!1};case r.g:return{...e,personnelPotentiels:[],loadingPersonnelPotentiels:!0};case r.a:return{...e,personnelPotentiels:t.payload,loadingPersonnelPotentiels:!1};default:return e}};const o=Object(n.d)({widgets:l});t.a=o},1567:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(1233),l=a(1223),o=a(1229),s=a(89),i=a(1230),d=a(1227),m=a(1236),u=a(1219),p=a(39),g=a(135),f=a(1158),b=a(59),y=a.n(b),E=a(7),h=a(1255),v=a(1241);var x=r.a.memo(function(e){const t=Object(E.b)(),a=Object(E.c)(e=>{let{dashboardApp:t}=e;return t.widgets}),c=Object(E.c)(e=>{let{auth:t}=e;return t.user}),[l,o]=Object(n.useState)(y()().format("Y"));return Object(n.useEffect)(()=>{t(h.q(l))},[t,l]),r.a.createElement(r.a.Fragment,null,!1===a.loadingTopBudget?r.a.createElement(g.a,{className:"w-full rounded-8 shadow-none border-1"},r.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},r.a.createElement(s.a,{className:"text-16 font-bold"},"Top budget gagn\xe9 en ",l," "),r.a.createElement(f.a,{native:!0,value:l,onChange:function(e){o(e.target.value)},inputProps:{name:"currentRange"},disableUnderline:!0},Object.entries({0:y()().format("Y"),1:y()().subtract(1,"year").format("Y"),2:y()().subtract(2,"year").format("Y")}).map(e=>{let[t,a]=e;return r.a.createElement("option",{key:t,value:a},a)}))),r.a.createElement("div",{className:"text-center px-24 py-32"},r.a.createElement(s.a,{className:"text-24 leading-tight",color:"textSecondary"},l),r.a.createElement(s.a,{className:"text-40 break-all leading-tight text-green"},a.topBudget&&parseFloat(a.topBudget).toLocaleString(void 0,{minimumFractionDigits:2}),"\u2002",c.data.currency))):r.a.createElement(v.a,{height:380,width:250,speed:3,primaryColor:"#d9d9d9",secondaryColor:"#ecebeb"},r.a.createElement("circle",{cx:"93",cy:"53",r:"14"}),r.a.createElement("circle",{cx:"127",cy:"53",r:"14"}),r.a.createElement("circle",{cx:"161",cy:"53",r:"14"})))}),w=a(1212),O=a(267);var N=r.a.memo(function(e){const t=Object(E.b)(),a=Object(E.c)(e=>{let{dashboardApp:t}=e;return t.widgets}),c=Object(E.c)(e=>{let{auth:t}=e;return t.user}),l={legend:{display:!1},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0,display:!0,gridLines:{display:!1},categoryPercentage:1}],yAxes:[{display:!1}]}},o=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"],[i,d]=Object(n.useState)(y()().format("Y"));return Object(n.useEffect)(()=>{t(h.p(i))},[t,i]),r.a.createElement(r.a.Fragment,null,!1===a.loadingPotentiels&&a.potentiels.gagner?r.a.createElement(g.a,{className:"w-full rounded-8 shadow-none border-1"},r.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},r.a.createElement(s.a,{className:"text-16 font-bold"},"Vos statistques"),r.a.createElement(f.a,{native:!0,value:i,onChange:function(e){d(e.target.value)},inputProps:{name:"currentRange"},disableUnderline:!0},Object.entries({0:y()().format("Y"),1:y()().subtract(1,"year").format("Y"),2:y()().subtract(2,"year").format("Y")}).map(e=>{let[t,a]=e;return r.a.createElement("option",{key:t,value:a},a)}))),["gagner","perdue"].map(e=>r.a.createElement("div",{className:"flex flex-wrap items-center w-full p-8",key:e},r.a.createElement("div",{className:"flex flex-col w-full sm:w-1/3 p-8"},r.a.createElement(s.a,{className:"text-14",color:"textSecondary"},a.potentiels[e].title),r.a.createElement("div",{className:"flex items-center"},r.a.createElement(s.a,{className:"gagner"===e?"text-32 truncate text-green":"text-32 truncate "},parseFloat(a.potentiels[e].somme).toLocaleString(void 0,{minimumFractionDigits:2})),r.a.createElement(s.a,{className:"text-20 ml-4",color:"textSecondary"},c.data?c.data.currency:""))),r.a.createElement("div",{className:"flex w-full sm:w-2/3 p-8"},r.a.createElement("div",{className:"h-96 w-full"},r.a.createElement(O.c,{data:{labels:o,datasets:a.potentiels[e].datasets},options:l}))))),r.a.createElement(w.a,null),r.a.createElement("div",{className:"flex flex-col w-full px-16 py-24"},r.a.createElement(s.a,{className:"text-14",color:"textSecondary"},"Potentiels"),r.a.createElement("div",{className:"flex items-center"},r.a.createElement(s.a,{className:"text-32"},parseFloat(a.potentiels.total).toLocaleString(void 0,{minimumFractionDigits:2})),r.a.createElement(s.a,{className:"text-32 ml-4",color:"textSecondary"},c.data?c.data.currency:"")))):r.a.createElement(v.a,{height:380,width:800,speed:3,primaryColor:"#d9d9d9",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"58",y:"129",rx:"0",ry:"0",width:"479",height:"6"}),r.a.createElement("rect",{x:"78",y:"147",rx:"0",ry:"0",width:"188",height:"26"}),r.a.createElement("rect",{x:"226",y:"43",rx:"0",ry:"0",width:"300",height:"25"}),r.a.createElement("rect",{x:"227",y:"76",rx:"0",ry:"0",width:"299",height:"25"}),r.a.createElement("circle",{cx:"93",cy:"53",r:"14"}),r.a.createElement("circle",{cx:"127",cy:"53",r:"14"}),r.a.createElement("circle",{cx:"161",cy:"53",r:"14"}),r.a.createElement("circle",{cx:"161",cy:"90",r:"14"}),r.a.createElement("circle",{cx:"127",cy:"90",r:"14"}),r.a.createElement("circle",{cx:"93",cy:"90",r:"14"})))}),P=a(1273),j=a(1274),D=a(1275),A=a(1276),T=a(1277);const C=e=>{const t=Math.random()*(1-.7)+.7;return r.a.createElement(v.a,Object.assign({height:40,width:1060,speed:2,primaryColor:"#d9d9d9",secondaryColor:"#ecebeb"},e),r.a.createElement("rect",{x:"0",y:"15",rx:"4",ry:"4",width:"6",height:"6.4"}),r.a.createElement("rect",{x:"34",y:"13",rx:"6",ry:"6",width:200*t,height:"12"}),r.a.createElement("rect",{x:"633",y:"13",rx:"6",ry:"6",width:23*t,height:"12"}),r.a.createElement("rect",{x:"653",y:"13",rx:"6",ry:"6",width:78*t,height:"12"}),r.a.createElement("rect",{x:"755",y:"13",rx:"6",ry:"6",width:117*t,height:"12"}),r.a.createElement("rect",{x:"938",y:"13",rx:"6",ry:"6",width:83*t,height:"12"}),r.a.createElement("rect",{x:"0",y:"39",rx:"6",ry:"6",width:"1060",height:".3"}))};var R=r.a.memo(function(e){const t=Object(E.b)(),a=y()().format("M"),c=Object(E.c)(e=>{let{dashboardApp:t}=e;return t.widgets}),l=Object(E.c)(e=>{let{auth:t}=e;return t.user}),[o,i]=Object(n.useState)(y()().format("Y")),d=y()().format("Y"),[m,u]=Object(n.useState)(null);return Object(n.useEffect)(()=>{t(h.o(o))},[t,o]),r.a.createElement(r.a.Fragment,null,!1===c.loadingPersonnelPotentiels?r.a.createElement(g.a,{className:"w-full rounded-8 shadow-none border-1"},r.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},r.a.createElement(s.a,{className:"text-24"},"Le suivi de l'ann\xe9e ",o),r.a.createElement("div",{className:"flex"},r.a.createElement(s.a,{className:"text-11 font-500 rounded-4 text-white bg-blue px-8 py-4"},c.personnelPotentiels.length+" Agence(s) / Service(s)"),r.a.createElement(f.a,{native:!0,className:"ml-4  pl-4 text-11",value:o,onChange:function(e){i(e.target.value)},inputProps:{name:"currentRange"},disableUnderline:!0},Object.entries({0:y()().format("Y"),1:y()().subtract(1,"year").format("Y"),2:y()().subtract(2,"year").format("Y")}).map(e=>{let[t,a]=e;return r.a.createElement("option",{className:"text-12 text-black",key:t,value:a},a)})))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(P.a,{className:"w-full min-w-full ",size:"small"},r.a.createElement(j.a,null,r.a.createElement(D.a,null,r.a.createElement(A.a,{className:"whitespace-no-wrap"},"Agence / Service, NOM & Pr\xe9nom"),r.a.createElement(A.a,{className:"whitespace-no-wrap"},"Nbr Demandes affect\xe9es"),r.a.createElement(A.a,{className:"whitespace-no-wrap"},"Nbr Demandes gagn\xe9es"),r.a.createElement(A.a,{className:"whitespace-no-wrap"},"Nbr Demandes perdues"),r.a.createElement(A.a,{className:"whitespace-no-wrap"},"Budgets gagn\xe9s"),r.a.createElement(A.a,{className:"whitespace-no-wrap"},"Budgets perdues"),r.a.createElement(A.a,{className:"whitespace-no-wrap"},"Potentiels"))),r.a.createElement(T.a,null,c.personnelPotentiels.map(e=>r.a.createElement(r.a.Fragment,{key:e.personnel.id},r.a.createElement(D.a,{onClick:()=>(function(e){u(m===e?null:e)})(e.personnel.id),className:"cursor-pointer hover:bg-blue-lightest"},r.a.createElement(A.a,{component:"th",scope:"row",className:"truncate font-600 font-bold"},e.personnel.agence,", ",e.personnel.name),r.a.createElement(A.a,{component:"th",scope:"row",className:"truncate"},e.demandeAffecte.count?e.demandeAffecte.count:0),r.a.createElement(A.a,{component:"th",scope:"row",className:"truncate"},e.demandeGagner.count?e.demandeGagner.count:0),r.a.createElement(A.a,{component:"th",scope:"row",className:"truncate"},e.demandePerdue.count?e.demandePerdue.count:0),r.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-green"},e.demandeGagner.budget?e.demandeGagner.budget:0,"\u2002",l.data.currency),r.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-red"},e.demandePerdue.budget?e.demandePerdue.budget:0,"\u2002",l.data.currency),r.a.createElement(A.a,{component:"th",scope:"row",className:"truncate font-bold text-blue"},e.demandeAffecte.budget?e.demandeAffecte.budget:0,"\u2002",l.data.currency)),m===e.personnel.id?r.a.createElement(p.d,{animation:"transition.fadeIn",duration:400,delay:200},r.a.createElement(D.a,null,r.a.createElement(A.a,{component:"th",scope:"row",colSpan:7,className:"truncate font-bold text-blue"},r.a.createElement(P.a,{className:"w-full min-w-full striped hovered"},r.a.createElement(j.a,{className:"bg-gray-200"},r.a.createElement(D.a,null,["#","Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"].map((e,t)=>r.a.createElement(A.a,{key:e,className:parseInt(a)===t?"bg-orange font-bold text-white":""},e)))),r.a.createElement(T.a,null,r.a.createElement(D.a,null,r.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-green font-bold"},"Budgets gagn\xe9s"),e.gagnerParMois.map((e,t)=>r.a.createElement(A.a,{key:t+1,component:"th",scope:"row",className:parseInt(a)===t+1?"bg-orange truncate font-bold text-white":"truncate text-green"},parseInt(a)<t+1&&d===o?"":e+" "+l.data.currency))),r.a.createElement(D.a,null,r.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-blue font-bold"},"Potentiels"),e.potentielParMois.map((e,t)=>r.a.createElement(A.a,{key:t+2,component:"th",scope:"row",className:parseInt(a)===t+1?"bg-orange truncate font-bold text-white":"truncate text-blue"},parseInt(a)<t+1&&d===o?"":e+" "+l.data.currency)))))))):null)))))):Array(6).fill("").map((e,t)=>r.a.createElement(C,{key:t,style:{opacity:Number(2/t).toFixed(1)}})))}),S=a(1157),_=a(364),k=a(136),L=a(1305),M=a(16);a(1252);const B=Object(S.a)(e=>({content:{"& canvas":{maxHeight:"100%"}},selectedProject:{background:e.palette.primary.main,color:e.palette.primary.contrastText,borderRadius:"8px 0 0 0"},projectMenuButton:{background:e.palette.primary.main,color:e.palette.primary.contrastText,borderRadius:"0 8px 0 0",marginLeft:1}}));t.default=Object(k.a)("dashboardApp",L.a)(function(e){const t=B(e),a=Object(n.useRef)(null),[g,f]=Object(n.useState)(0),b=Object(E.c)(e=>{let{auth:t}=e;return t.user.abonnement}),h=Object(E.c)(e=>{let{auth:t}=e;return t.user.loadingAbonnement}),[v,w]=Object(n.useState)(!1),[O,P]=Object(n.useState)(!0),[j,D]=Object(n.useState)(!1),[A,T]=Object(n.useState)(0);if(Object(n.useEffect)(()=>{if(!b)return;if(!b.statut)return void P(!1);let e=y()(b.expired).diff(y()(),"days");T(e),e<=0&&D(!0),b.statut&&e>0&&w(!0)},[b]),h)return r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},r.a.createElement(c.a,{color:"secondary"})," \u2002 Chargement ...");const C=()=>{e.history.push("/dashboard")};return!v||b&&!b.offre.hasCommercial?O?j?r.a.createElement(l.a,{open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(o.a,{className:"text-center"},r.a.createElement(s.a,{variant:"h6",className:"my-16 text-red"},"Votre abonnement a expir\xe9 ",y()(b.expired).fromNow()),r.a.createElement(s.a,{color:"textSecondary",className:"mb-16"},"Pour le renouveler, vous pouvez ajouter une commande en cliquant sur le bouton suivant"),r.a.createElement(d.a,{component:M.a,to:"/billing/renew",className:"whitespace-no-wrap",color:"secondary",variant:"contained"},r.a.createElement("span",{className:""},"Renouveler l'abonnement"))),r.a.createElement(i.a,null,r.a.createElement(d.a,{onClick:C,color:"primary"},"Fermer"))):b&&!b.offre.hasCommercial?r.a.createElement(l.a,{open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(o.a,{className:"text-center"},r.a.createElement(s.a,{variant:"h6",className:"my-16"},"Mise \xe0 niveau"),r.a.createElement(s.a,{color:"textSecondary",className:"mb-16"},"Ce service n'est pas accessible par votre Pack d'abonnement ",r.a.createElement("strong",{className:"uppercase"},b.offre&&b.offre.name),", nous vous invitons \xe0 mettre \xe0 niveau votre Pack d'abonnement pour b\xe9n\xe9ficier de cette fonctionnalit\xe9."),r.a.createElement(d.a,{component:M.a,to:"/billing/pack",className:"whitespace-no-wrap",color:"secondary",variant:"contained"},r.a.createElement("span",{className:""},"mise \xe0 niveau"))),r.a.createElement(i.a,null,r.a.createElement(d.a,{onClick:C,color:"primary"},"Fermer"))):r.a.createElement(l.a,{open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(o.a,null,r.a.createElement(s.a,{variant:"h4",className:"my-16"},"Reserv\xe9 \xe0 nos abonn\xe9s"),r.a.createElement(s.a,{color:"textSecondary",className:"mb-16"},"Ce service n'est pas accessible par votre Pack d'abonnement, nous vous invitons \xe0 mettre \xe0 niveau votre Pack d'abonnement pour b\xe9n\xe9ficier de cette fonctionnalit\xe9."),r.a.createElement(d.a,{component:M.a,to:"/billing/pack",className:"whitespace-no-wrap",color:"secondary",variant:"contained"},r.a.createElement("span",{className:""},"Commander abonnement"))),r.a.createElement(i.a,null,r.a.createElement(d.a,{onClick:C,color:"primary"},"Fermer"))):r.a.createElement(l.a,{open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(o.a,{className:"text-center"},r.a.createElement(s.a,{variant:"h6",className:"my-16 text-red"},"Votre abonnement est d\xe9sactiv\xe9"),r.a.createElement(s.a,{color:"textSecondary",className:"mb-16"},"Pour le r\xe9activiter nous vous prions de nous contacter sur l'adresse mail suivante ",r.a.createElement("strong",null,"administrateur@lesachatsindustriels.com"))),r.a.createElement(i.a,null,r.a.createElement(d.a,{onClick:C,color:"primary"},"Fermer"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(_.Helmet,null,r.a.createElement("title",null,"Suivi des ventes de vos Agences / Services | Les Achats Industriels"),r.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),r.a.createElement("meta",{name:"googlebot",content:"noindex"})),r.a.createElement(p.p,{classes:{header:"min-h-160 h-160",toolbar:"min-h-48 h-48",rightSidebar:"w-288",content:t.content},header:r.a.createElement("div",{className:"flex flex-col justify-between flex-1 px-24 pt-24"},r.a.createElement("div",{className:"flex justify-between"},r.a.createElement(s.a,{className:"py-0 sm:py-24",variant:"h4"},"Suivi des ventes de vos Agences / Services"))),contentToolbar:r.a.createElement(m.a,{value:g,onChange:function(e,t){f(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"off",className:"w-full border-b-1 px-24"},r.a.createElement(u.a,{className:"text-14 font-600 normal-case",label:"Agence / Service"}),r.a.createElement(u.a,{className:"text-14 font-600 normal-case",label:"R\xe9sum\xe9 du budget"})),content:r.a.createElement("div",{className:"p-12"},0===g&&r.a.createElement(R,null),1===g&&r.a.createElement("div",{className:"flex flex-wrap"},r.a.createElement("div",{className:"widget w-full sm:w-1/3 p-16"},r.a.createElement(x,null)),r.a.createElement("div",{className:"widget w-full sm:w-2/3 p-16"},r.a.createElement(N,null)))),ref:a}))})}}]);