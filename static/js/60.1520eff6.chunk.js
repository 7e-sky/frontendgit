(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{1242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=r},1278:function(e,t,a){"use strict";var r=a(33),n=a(50);const i="[PRODUITS APP] REQUEST PRODUITS",o="[PRODUITS APP] REMOVE PRODUITS",c="[PRODUITS APP] SET PARAMETRES DATA",l="[PRODUITS APP] CLEAN_UP",s="[PRODUITS APP] GET PRODUITS",u="[PRODUITS APP] SET PRODUITS SEARCH TEXT";function d(){return e=>e({type:l})}function m(e){var t="";e.search.length>0&&e.search.map(e=>e.value&&("created"===e.id?t+="&"+e.id+"[after]="+e.value:t+="&"+e.id+"="+e.value));const a=n.a.get("/api/produits?page=".concat(e.page).concat(t,"&order[").concat(e.filter.id,"]=").concat(e.filter.direction));return e=>(e({type:i}),a.then(t=>e({type:s,payload:t.data})))}function p(e,t){let a={del:!0};return(i,c)=>{return n.a.put("/api/produits/".concat(e.id),a).then(e=>Promise.all([i({type:o}),i(Object(r.B)({message:"Produit bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>i(m(t))))}}function f(e){return{type:c,parametres:e}}var g=a(39),E=a(60),h=a.n(E),v=a(10),P=a(200);const b="[PRODUIT APP] REQUEST PRODUIT",A="[PRODUIT APP] GET PRODUIT",I="[PRODUIT APP] REQUEST SAVE",y="[PRODUIT APP] SAVE PRODUIT",S="[PRODUIT APP] SAVE ERROR",O="[PRODUIT APP] REQUEST SOUS_SECTEUR",R="[PRODUIT APP] GET SOUS SECTEUR",T="[PRODUIT APP] REQUEST SECTEUR",D="[PRODUIT APP] GET SECTEUR",U="[PRODUIT APP] REQUEST ADD SECTEUR",x="[PRODUIT APP] SAVE_ADD_SECTEUR",C="[PRODUIT APP] SAVE_ERROR_ADD_SECTEUR",w="[ACHETEURS ADMIN APP] CLEAN_UP_SECTEUR",N="[PRODUIT APP] REQUEST ADD SOUS SECTEUR",L="[PRODUIT APP] SAVE ADD SOUS SECTEUR",j="[PRODUIT APP] SAVE ERROR ADD SOUS SECTEUR",q="[ACHETEURS ADMIN APP] CLEAN UP SOUS SECTEUR",_="[PRODUIT APP] REQUEST ADD CATEGORIE",F="[PRODUIT APP] SAVE ADD CATEGORIE",V="[PRODUIT APP] SAVE ERROR ADD CATEGORIE",z="[ACHETEURS ADMIN APP] CLEAN UP CATEGORIE",G="[PRODUIT APP] REQUEST CATEGORIE",M="[PRODUIT APP] GET CATEGORIE",k="[PRODUIT APP] UPLOAD ATTACHEMENT",B="[PRODUIT APP] UPLOAD REQUEST",H="[PRODUIT APP] UPLOAD ERROR",W="[PRODUIT APP] UPLOAD_FICHE_ATTACHEMENT",Q="[PRODUIT APP] UPLOAD_FICHE_REQUEST",Y="[PRODUIT APP] UPLOAD_FICHE_ERROR",J="[PRODUIT APP] REQUEST DELETE",K="[PRODUIT APP] DELETE SUCCESS",X="[PRODUIT APP] ERROR DELETE",Z="[PRODUIT APP] CLEAN_ERROR",$="[PRODUIT APP] CLEAN_IMAGE",ee="[PRODUIT APP] CLEAN_DELETE_IMAGE",te="[PRODUIT APP] REQUEST_VIDEO",ae="[PRODUIT APP] GET_VIDEO";function re(e){const t=h.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=".concat(e,"&key=AIzaSyBvpeIK_1hzKDwawG1uRVmbHdE6n7tcRr4"));return e=>(e({type:te}),t.then(t=>e({type:ae,payload:t.data&&t.data.items.length>0?1:2})))}function ne(){const e=n.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name");return t=>(t({type:T}),e.then(e=>{t({type:D,payload:e.data})}))}function ie(e,t){let a={name:e};const i=n.a.post("/api/secteurs",a);return e=>(e({type:U}),i.then(a=>{e(ne());let r={secteur:a.data["@id"],autreSecteur:null};return n.a.put("/api/produits/".concat(t),r).then(t=>{e({type:x,payload:t.data})})}).catch(t=>{e({type:C}),e(Object(r.B)({message:v.a.map(g.y.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function oe(){return e=>e({type:w})}function ce(e){const t=n.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return e=>(e({type:O}),t.then(t=>{e({type:R,payload:t.data})}))}function le(e,t,a){let i={name:e,secteur:t};const o=n.a.post("/api/sous_secteurs",i);return e=>(e({type:N}),o.then(r=>{e(ce(t));let i={sousSecteurs:r.data["@id"],autreActivite:null};return n.a.put("/api/produits/".concat(a),i).then(t=>{e({type:L,payload:t.data})})}).catch(t=>{e({type:j}),e(Object(r.B)({message:v.a.map(g.y.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function se(){return e=>e({type:q})}function ue(e){const t=n.a.get("".concat(e,"/categories?pagination=false&props[]=id&props[]=name"));return e=>(e({type:G}),t.then(t=>{e({type:M,payload:t.data})}))}function de(e,t,a){let i={name:e,sousSecteurs:[t]};const o=n.a.post("/api/categories",i);return e=>(e({type:_}),o.then(r=>{e(ue(t));let i={categorie:r.data["@id"],autreProduit:null};return n.a.put("/api/produits/".concat(a),i).then(t=>{e({type:F,payload:t.data})})}).catch(t=>{e({type:V}),e(Object(r.B)({message:v.a.map(g.y.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function me(){return e=>e({type:z})}function pe(e){const t=n.a.get("/api/produits/".concat(e));return e=>(e({type:b}),t.then(t=>{e({type:A,payload:t.data})}).catch(t=>{e({type:S,payload:g.y.parseApiErrors(t)})}))}function fe(e,t,a,i){e.pu&&(e.pu=parseFloat(e.pu)),e.sousSecteurs=a.value,e.secteur=t.value,e.categorie=i?i.value:a.value,e.images=v.a.map(e.images,function(e,t){return e["@id"]}),e.ficheTechnique&&(e.ficheTechnique=e.ficheTechnique["@id"]),e.featuredImageId&&(e.featuredImageId=e.featuredImageId["@id"]);const o=n.a.post("/api/produits",e);return e=>(e({type:I}),o.then(t=>(e(Object(r.B)({message:"Produit enregistr\xe9"})),e({type:y,payload:t.data}))).catch(t=>{e({type:S,payload:g.y.parseApiErrors(t)})}))}function ge(e,t,a,i,o){e.pu&&(e.pu=parseFloat(e.pu)),e.sousSecteurs=i.value,e.secteur=a.value,e.categorie=o?o.value:i.value,e.images=v.a.map(e.images,function(e,t){return e["@id"]}),e.ficheTechnique&&(e.ficheTechnique=e.ficheTechnique["@id"]),e.featuredImageId&&(e.featuredImageId=e.featuredImageId["@id"]);const c=n.a.put("/api/produits/".concat(t),e);return e=>(e({type:I}),c.then(t=>(e(Object(r.B)({message:"Produit Modifi\xe9"})),e(P.b("validation_produits")),e({type:y,payload:t.data}))).catch(t=>{e({type:S,payload:g.y.parseApiErrors(t)})}))}function Ee(e){const t=n.a.delete(e["@id"]);return a=>(a({type:J}),t.then(t=>(a(Object(r.B)({message:"Document supprim\xe9"})),a({type:K,id:e}))).catch(e=>{a({type:X,payload:g.y.parseApiErrors(e)})}))}function he(e){return(t,a)=>{const i=new FormData;i.append("file",e);const o=n.a.post("/api/image_produits",i,{headers:{"Content-Type":"multipart/form-data"}});return t({type:B}),o.then(e=>Promise.all([e,t({type:k,payload:e.data}),t(Object(r.B)({message:"Document t\xe9l\xe9charg\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(e=>{t({type:H}),t(Object(r.B)({message:v.a.map(g.y.parseApiErrors(e),function(e,t){return t+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function ve(e){return(t,a)=>{const i=new FormData;i.append("file",e);const o=n.a.post("/api/fiches",i,{headers:{"Content-Type":"multipart/form-data"}});return t({type:Q}),o.then(e=>Promise.all([e,t({type:W,payload:e.data}),t(Object(r.B)({message:"Document t\xe9l\xe9charg\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(e=>{t({type:Y}),t(Object(r.B)({message:v.a.map(g.y.parseApiErrors(e),function(e,t){return t+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function Pe(){return e=>e({type:Z})}function be(){return e=>e({type:$})}function Ae(){return e=>e({type:ee})}const Ie="[DIALOG] OPEN",ye="[DIALOG] CLOSE";function Se(){return{type:ye}}function Oe(e){return{type:Ie,options:e}}a.d(t,"u",function(){return i}),a.d(t,"G",function(){return c}),a.d(t,"d",function(){return l}),a.d(t,"k",function(){return s}),a.d(t,"H",function(){return u}),a.d(t,"U",function(){return d}),a.d(t,"cb",function(){return m}),a.d(t,"ib",function(){return p}),a.d(t,"kb",function(){return f}),a.d(t,"t",function(){return b}),a.d(t,"j",function(){return A}),a.d(t,"v",function(){return I}),a.d(t,"F",function(){return y}),a.d(t,"B",function(){return S}),a.d(t,"w",function(){return O}),a.d(t,"m",function(){return R}),a.d(t,"l",function(){return D}),a.d(t,"p",function(){return U}),a.d(t,"z",function(){return x}),a.d(t,"D",function(){return C}),a.d(t,"f",function(){return w}),a.d(t,"q",function(){return N}),a.d(t,"A",function(){return L}),a.d(t,"E",function(){return j}),a.d(t,"g",function(){return q}),a.d(t,"o",function(){return _}),a.d(t,"y",function(){return F}),a.d(t,"C",function(){return V}),a.d(t,"e",function(){return z}),a.d(t,"r",function(){return G}),a.d(t,"i",function(){return M}),a.d(t,"I",function(){return k}),a.d(t,"N",function(){return B}),a.d(t,"J",function(){return H}),a.d(t,"K",function(){return W}),a.d(t,"M",function(){return Q}),a.d(t,"L",function(){return Y}),a.d(t,"s",function(){return J}),a.d(t,"h",function(){return K}),a.d(t,"b",function(){return Z}),a.d(t,"c",function(){return $}),a.d(t,"a",function(){return ee}),a.d(t,"x",function(){return te}),a.d(t,"n",function(){return ae}),a.d(t,"fb",function(){return re}),a.d(t,"db",function(){return ne}),a.d(t,"P",function(){return ie}),a.d(t,"W",function(){return oe}),a.d(t,"eb",function(){return ce}),a.d(t,"Q",function(){return le}),a.d(t,"X",function(){return se}),a.d(t,"ab",function(){return ue}),a.d(t,"O",function(){return de}),a.d(t,"V",function(){return me}),a.d(t,"bb",function(){return pe}),a.d(t,"jb",function(){return fe}),a.d(t,"hb",function(){return ge}),a.d(t,"Z",function(){return Ee}),a.d(t,"mb",function(){return he}),a.d(t,"lb",function(){return ve}),a.d(t,"S",function(){return Pe}),a.d(t,"T",function(){return be}),a.d(t,"R",function(){return Ae}),a.d(t,"Y",function(){return Se}),a.d(t,"gb",function(){return Oe})},1342:function(e,t,a){"use strict";var r=a(43),n=a(1278),i=a(102);const o={data:[],pageCount:null,loading:!1,searchText:"",parametres:{page:1,reference:"",search:[],filter:{id:"created",direction:"desc"}}};var c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.d:return{...o};case n.u:return{...e,loading:!0};case n.k:return{...e,data:t.payload["hydra:member"],pageCount:i.a.hydraPageCount(t.payload),loading:!1};case n.H:return{...e,searchText:t.searchText};case n.G:return{...e,parametres:{page:t.parametres.page,reference:t.parametres.reference,search:t.parametres.search,filter:{id:t.parametres.filter.id,direction:t.parametres.filter.direction}}};default:return e}};const l={data:null,error:null,loading:!1,success:!1,imageReqInProgress:!1,deleteReqInProgress:!1,image:null,image_deleted:null,sousSecteurs:[],secteurs:[],categories:[],fiche:null,ficheReqInProgress:!1,loadingRechercheVideo:!1,videoExist:0,loadingAddSecteur:!1,secteurAdded:!1,loadingAddSousSecteur:!1,sousSecteurAdded:!1,loadingAddCategorie:!1,CategorieAdded:!1};var s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.o:return{...e,loadingAddCategorie:!0};case n.y:return{...e,loadingAddCategorie:!1,data:t.payload,CategorieAdded:!0};case n.C:return{...e,loadingAddCategorie:!1};case n.e:return{...e,CategorieAdded:!1};case n.q:return{...e,loadingAddSousSecteur:!0};case n.A:return{...e,loadingAddSousSecteur:!1,data:t.payload,sousSecteurAdded:!0};case n.E:return{...e,loadingAddSousSecteur:!1};case n.g:return{...e,sousSecteurAdded:!1};case n.p:return{...e,loadingAddSecteur:!0};case n.z:return{...e,loadingAddSecteur:!1,data:t.payload,secteurAdded:!0};case n.D:return{...e,loadingAddSecteur:!1};case n.f:return{...e,secteurAdded:!1};case n.x:return{...e,loadingRechercheVideo:!0};case n.n:return{...e,videoExist:t.payload,loadingRechercheVideo:!1};case n.t:case n.v:return{...e,loading:!0};case n.w:return{...e,sousSecteurs:[],categories:[]};case n.r:return{...e,categories:[]};case n.N:return{...e,imageReqInProgress:!0};case n.s:return{...e,deleteReqInProgress:!0};case n.I:return{...e,image:t.payload,imageReqInProgress:!1};case n.h:return{...e,deleteReqInProgress:!1,image_deleted:t.id};case n.J:return{...e,imageReqInProgress:!1};case n.M:return{...e,ficheReqInProgress:!0};case n.K:return{...e,fiche:t.payload,ficheReqInProgress:!1};case n.L:return{...e,ficheReqInProgress:!1};case n.l:return{...e,secteurs:t.payload["hydra:member"]};case n.m:return{...e,sousSecteurs:[...t.payload["hydra:member"],{"@id":"/api/sous_secteurs/98",name:"Autre"}]};case n.i:return{...e,categories:[...t.payload["hydra:member"],{"@id":"/api/categories/382",name:"Autre"}]};case n.j:return{...e,data:t.payload,loading:!1};case n.F:return{...e,loading:!1,success:!0};case n.b:return{...e,error:null};case n.c:return{...e,image:null,fiche:null};case n.a:return{...e,image_deleted:null};case n.B:return{...e,error:t.payload,loading:!1,success:!1};default:return e}},u=a(33);const d={state:!1,options:{children:"Hi"}};var m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.f:return{...e,state:!0,options:{...e.options,...t.options}};case u.a:return{...e,state:!1};default:return e}};const p=Object(r.d)({produits:c,produit:s,dialog:m});t.a=p},1508:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(89),o=a(1204),c=a(1227),l=a(1233),s=a(1224),u=a(1236),d=a(1219),m=a(1232),p=a(1231),f=a(1140),g=a(1221),E=a(1151),h=a(163),v=a(411),P=a(1157),b=a(39),A=a(137),I=a(16),y=a(2),S=a(10),O=a(7),R=a(136),T=a(1278),D=a(1342),U=a(51),x=a.n(U),C=a(59),w=a.n(C),N=a(1242),L=a.n(N),j=a(368),q=a(1295),_=a(1308),F=a(1241),V=a(1316),z=(a(1318),a(201));const G=Object(P.a)(e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},buttonProgress:{color:L.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},produitImageFeaturedStar2:{position:"absolute",top:0,right:0,color:h.a[400],opacity:0},produitImageFeaturedStar:{position:"absolute",top:0,left:0,color:v.a[400],opacity:0},produitImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},select:{zIndex:999},produitImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $produitImageFeaturedStar":{opacity:.8},"& $produitImageFeaturedStar2":{opacity:.8}},"&.featured":{boxShadow:e.shadows[3],"& $produitImageFeaturedStar":{opacity:1},"&:hover $produitImageFeaturedStar":{opacity:1}}},error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)}}));w.a.defaultFormat="DD/MM/YYYY HH:mm",t.default=Object(R.a)("produitsApp",D.a)(function(e){const t=Object(O.b)(),a=Object(O.c)(e=>{let{produitsApp:t}=e;return t.produit}),[h,v]=Object(r.useState)(!1),P=Object(r.useRef)(null),{form:R,handleChange:D,setForm:U}=Object(A.b)(null),C=G(e),[w,N]=Object(r.useState)(0),[L,M]=Object(r.useState)(null),[k,B]=Object(r.useState)(null),[H,W]=Object(r.useState)(null),[Q,Y]=Object(r.useState)(""),[J,K]=Object(r.useState)(!1),[X,Z]=Object(r.useState)(0),[$,ee]=Object(r.useState)(!1),[te,ae]=Object(r.useState)([]);function re(e,a){U(S.a.set({...R},a,e)),"secteur"===a&&e.value&&(t(T.eb(e.value)),M(e)),"sousSecteurs"===a&&e.value&&(t(T.ab(e.value)),B(e)),"categorie"===a&&W(e)}function ne(){v(!1)}function ie(a){const r=e.match.params,{produitId:n}=r;t("new"===n?T.jb(a,L,k,H):T.hb(a,a.id,L,k,H))}return Object(r.useEffect)(()=>(a.fiche&&U(S.a.set({...R},"ficheTechnique",a.fiche)),()=>{t(T.T())}),[R,U,a.fiche,t]),Object(r.useEffect)(()=>{1===a.videoExist?(U(S.a.set({...R},"videos",Q)),K(!1)):2===a.videoExist&&(U(S.a.set({...R},"videos",null)),K(!0)),a.videoExist=0},[R,U,a.videoExist]),Object(r.useEffect)(()=>{t(T.db())},[t]),Object(r.useEffect)(()=>(a.error&&(a.error.reference||a.error.titre||a.error.description||a.error.pu||a.error.secteur||a.error.sousSecteurs)&&(P.current.updateInputsWithError({...a.error}),ne()),()=>{t(T.S())}),[a.error,t]),Object(r.useEffect)(()=>{a.success&&(a.success=!1,a.data=null,t(T.S()),t(T.T()),t(T.R()),e.history.push("/products"))},[a.success,t]),Object(r.useEffect)(()=>(a.image&&(U(S.a.set({...R},"images",[a.image,...R.images])),ae([...te,z.d+a.image.url])),()=>{t(T.T())}),[R,U,a.image,t]),Object(r.useEffect)(()=>(a.image_deleted&&("ImageProduit"===a.image_deleted["@type"]?(U(S.a.set({...R},"images",S.a.pullAllBy(R.images,[{id:a.image_deleted.id}],"id"))),ae(S.a.reject(te,function(e){return e===z.d+a.image_deleted.url}))):U(S.a.set({...R},"ficheTechnique",null))),()=>{t(T.R())}),[a.image_deleted,t]),Object(r.useEffect)(()=>{!function(){const a=e.match.params,{produitId:r}=a;t(T.bb(r))}()},[t,e.match.params]),Object(r.useEffect)(()=>{if(a.data&&a.secteurAdded)return U({...a.data}),M({value:a.data.secteur["@id"],label:a.data.secteur.name}),()=>{t(T.W())}},[R,a.secteurAdded,a.data,U]),Object(r.useEffect)(()=>{if(a.data&&a.sousSecteurAdded)return U({...a.data}),B({value:a.data.sousSecteurs["@id"],label:a.data.sousSecteurs.name}),()=>{t(T.X())}},[R,a.sousSecteurAdded,a.data,U]),Object(r.useEffect)(()=>{if(a.data&&a.CategorieAdded)return U({...a.data}),W({value:a.data.categorie["@id"],label:a.data.categorie.name}),()=>{t(T.V())}},[R,a.CategorieAdded,a.data,U]),Object(r.useEffect)(()=>{(a.data&&!R||a.data&&R&&a.data.id!==R.id)&&(a.data.secteur&&(t(T.eb(a.data.secteur["@id"])),M({value:a.data.secteur["@id"],label:a.data.secteur.name})),a.data.sousSecteurs&&(t(T.ab(a.data.sousSecteurs["@id"])),B({value:a.data.sousSecteurs["@id"],label:a.data.sousSecteurs.name})),a.data.images&&ae(a.data.images.map(e=>z.d+e.url)),a.data.categorie&&W({value:a.data.categorie["@id"],label:a.data.categorie.name}),U({...a.data}))},[R,a.data,U,t]),n.a.createElement(b.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:a.loading?"":R&&n.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},n.a.createElement("div",{className:"flex flex-col items-start max-w-full"},n.a.createElement(b.d,{animation:"transition.slideRightIn",delay:300},n.a.createElement(i.a,{className:"normal-case flex items-center sm:mb-12",component:I.a,role:"button",to:"/products",color:"inherit"},n.a.createElement(o.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),n.a.createElement("div",{className:"flex items-center max-w-full"},n.a.createElement(b.d,{animation:"transition.expandIn",delay:300},R.images.length>0&&R.featuredImageId?n.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:z.d+R.featuredImageId.url,alt:R.reference}):n.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:R.reference})),n.a.createElement("div",{className:"flex flex-col min-w-0"},n.a.createElement(b.d,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(i.a,{className:"text-16 sm:text-20 truncate"},R.reference?R.reference:"Nouveau produit")),n.a.createElement(b.d,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(i.a,{variant:"caption"},"D\xe9tails du produit"))))),n.a.createElement(b.d,{animation:"transition.slideRightIn",delay:300},n.a.createElement(c.a,{className:"whitespace-no-wrap",variant:"contained",disabled:!h||a.loading,onClick:()=>ie(R)},"Sauvegarder",a.loading&&n.a.createElement(l.a,{size:24,className:C.buttonProgress})))),contentToolbar:a.loading?n.a.createElement("div",{className:C.root},n.a.createElement(s.a,{color:"secondary"})):n.a.createElement(u.a,{value:w,onChange:function(e,t){N(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},n.a.createElement(d.a,{className:"h-64 normal-case",label:"Infos g\xe9n\xe9rales"}),n.a.createElement(d.a,{className:"h-64 normal-case",label:R&&R.images.length>0?"Image(s) ("+R.images.length+")":"Image(s)"}),n.a.createElement(d.a,{className:"h-64 normal-case",label:R&&R.ficheTechnique?"Fiche technique (1)":"Fiche technique"}),n.a.createElement(d.a,{className:"h-64 normal-case",label:R&&R.videos?"Vid\xe9o (1)":"Vid\xe9o"})),content:a.loading?"":R&&n.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},0===w&&n.a.createElement(x.a,{onValidSubmit:ie,onValid:function(){v(!0)},onInvalid:ne,ref:P,className:"flex flex-col "},n.a.createElement(m.a,{container:!0,spacing:3},n.a.createElement(m.a,{item:!0,xs:12,sm:4},n.a.createElement(j.a,{id:"secteur",name:"secteur",className:"MuiFormControl-fullWidth MuiTextField-root ",value:L,onChange:e=>re(e,"secteur"),placeholder:"S\xe9lectionner un secteur",textFieldProps:{label:"Secteurs",InputLabelProps:{shrink:!0},variant:"outlined"},options:a.secteurs,fullWidth:!0,required:!0}),L&&("Autre"===L.label||"autre"===L.label)&&n.a.createElement(b.F,{className:"mt-16 w-full",type:"text",name:"autreSecteur",value:R.autreSecteur,onChange:D,label:"Autre Secteur",validations:{minLength:2,maxLength:50},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 2",maxLength:"La longueur maximale de caract\xe8re est 50"},InputProps:{endAdornment:a.loadingAddSecteur?n.a.createElement(l.a,{color:"secondary"}):n.a.createElement(p.a,{position:"end"},n.a.createElement(f.a,{color:"secondary",disabled:!R.autreSecteur,onClick:e=>t(T.P(R.autreSecteur,R.id))},n.a.createElement(o.a,null,"add_circle")))},variant:"outlined",required:!0})),n.a.createElement(m.a,{item:!0,xs:12,sm:4},n.a.createElement(j.a,{id:"sousSecteurs",name:"sousSecteurs",className:"MuiFormControl-fullWidth MuiTextField-root",value:k,onChange:e=>re(e,"sousSecteurs"),placeholder:"S\xe9lectionner une activit\xe9",textFieldProps:{label:"Activit\xe9s",InputLabelProps:{shrink:!0},variant:"outlined"},options:a.sousSecteurs,fullWidth:!0,required:!0}),k&&("Autre"===k.label||"autre"===k.label)&&n.a.createElement(b.F,{className:"mt-16 w-full",type:"text",name:"autreActivite",value:R.autreActivite,onChange:D,label:"Autre Activit\xe9",validations:{minLength:2,maxLength:50},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 2",maxLength:"La longueur maximale de caract\xe8re est 50"},variant:"outlined",InputProps:{endAdornment:a.loadingAddSousSecteur?n.a.createElement(l.a,{color:"secondary"}):n.a.createElement(p.a,{position:"end"},n.a.createElement(f.a,{color:"secondary",disabled:!R.autreActivite||"Autre"===L.label||"autre"===L.label,onClick:e=>t(T.Q(R.autreActivite,L.value,R.id))},n.a.createElement(o.a,null,"add_circle")))},required:!0})),n.a.createElement(m.a,{item:!0,xs:12,sm:4},n.a.createElement(j.a,{id:"categorie",name:"categorie",className:"MuiFormControl-fullWidth MuiTextField-root",value:H,onChange:e=>re(e,"categorie"),placeholder:"S\xe9lectionner un produit",textFieldProps:{label:"Produits",InputLabelProps:{shrink:!0},variant:"outlined"},options:a.categories,fullWidth:!0}),H&&("Autre"===H.label||"autre"===H.label)&&n.a.createElement(b.F,{className:"mt-16 w-full",type:"text",name:"autreProduit",value:R.autreProduit,onChange:D,label:"Autre Produit",validations:{minLength:2,maxLength:50},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 2",maxLength:"La longueur maximale de caract\xe8re est 50"},variant:"outlined",required:!0,InputProps:{endAdornment:a.loadingAddCategorie?n.a.createElement(l.a,{color:"secondary"}):n.a.createElement(p.a,{position:"end"},n.a.createElement(f.a,{color:"secondary",disabled:!R.autreProduit||"Autre"===k.label||"autre"===k.label,onClick:e=>t(T.O(R.autreProduit,k.value,R.id))},n.a.createElement(o.a,null,"add_circle")))}}))),n.a.createElement(m.a,{container:!0,spacing:3},n.a.createElement(m.a,{item:!0,xs:12,sm:12},n.a.createElement(b.F,{label:"Titre",id:"titre",name:"titre",value:R.titre,onChange:D,variant:"outlined",validations:{minLength:6},validationErrors:{minLength:"La longueur minimale des caract\xe8res est de 6"},className:"mt-16",required:!0,fullWidth:!0})),n.a.createElement(m.a,{item:!0,xs:12,sm:6},n.a.createElement(b.F,{className:"mb-24",label:"R\xe9f\xe9rence",id:"reference",name:"reference",value:R.reference,onChange:D,variant:"outlined",validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},required:!0,fullWidth:!0})),n.a.createElement(m.a,{item:!0,xs:12,sm:6},n.a.createElement(b.F,{className:"mb-24",label:"Prix Unitaire du produit",type:"number",step:"any",id:"pu",name:"pu",value:String(R.pu),onChange:D,variant:"outlined",fullWidth:!0}))),n.a.createElement(b.F,{className:"mb-16  w-full",type:"text",name:"description",value:R.description,onChange:D,label:"Description",autoComplete:"description",validations:{minLength:10},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 10"},required:!0,variant:"outlined",multiline:!0,rows:"4"}),n.a.createElement(m.a,{container:!0,spacing:3},n.a.createElement(m.a,{item:!0,xs:12,sm:6},n.a.createElement(b.a,{className:"mb-10",name:"isValid",onChange:e=>(function(e,t){U(S.a.set({...R},t,e.target.checked))})(e,"isValid"),label:"Valider",value:R.isValid})))),1===w&&n.a.createElement("div",null,n.a.createElement("input",{accept:"text/plain,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/vnd.ms-powerpoint,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,application/pdf,image/jpeg,image/gif,image/png,application/pdf,",className:"hidden",id:"button-file",type:"file",disabled:a.imageReqInProgress,onChange:function(e){const a=e.target.files[0];a&&t(T.mb(a))}}),n.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap"},n.a.createElement("label",{htmlFor:"button-file",className:Object(y.a)(C.produitImageUpload,"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5",5===R.images.length&&"hidden")},a.imageReqInProgress?n.a.createElement(l.a,{size:24,className:C.buttonProgress}):n.a.createElement(o.a,{fontSize:"large",color:"action"},"arrow_upward")),R.images.map(e=>n.a.createElement("div",{className:Object(y.a)(C.produitImageItem,"flex items-center cursor-pointer justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden  shadow-1 hover:shadow-5",e.id===(R.featuredImageId?R.featuredImageId.id:null)&&"featured"),key:e.id,onClick:()=>{ee(!0)}},n.a.createElement(g.a,{title:"Image en vedette"},n.a.createElement(f.a,{className:C.produitImageFeaturedStar,onClick:t=>{t.stopPropagation(),function(e){U(S.a.set({...R},"featuredImageId",e))}(e)}},n.a.createElement(o.a,null,"star"))),n.a.createElement(g.a,{title:"Supprimer"},n.a.createElement(f.a,{className:Object(y.a)(C.produitImageFeaturedStar2,e.id===(R.featuredImageId?R.featuredImageId.id:null)&&"hidden"),onClick:a=>{a.stopPropagation(),t(T.Z(e))}},n.a.createElement(o.a,null,"delete"))),n.a.createElement("img",{className:"max-w-none w-auto h-full",src:z.d+e.url,alt:"produit"}),$&&n.a.createElement(V.a,{mainSrc:te[X],nextSrc:te[(X+1)%te.length],prevSrc:te[(X+te.length-1)%te.length],onCloseRequest:()=>ee(!1),onMovePrevRequest:()=>Z((X+te.length-1)%te.length),onMoveNextRequest:()=>Z((X+1)%te.length)}))),n.a.createElement(m.a,{container:!0,spacing:3},n.a.createElement(m.a,{item:!0,xs:12,sm:6},n.a.createElement(i.a,{variant:"caption"},"- Taille maximale par fichier : 2 Mb ",n.a.createElement("br",null),"- 5 fichiers \xe0 t\xe9l\xe9charger"))))),2===w&&n.a.createElement("div",null,n.a.createElement("input",{accept:"text/plain,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/vnd.ms-powerpoint,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,application/pdf,image/jpeg,image/gif,image/png,application/pdf,",className:"hidden",id:"button-file",type:"file",disabled:a.ficheReqInProgress,onChange:function(e){const a=e.target.files[0];a&&t(T.lb(a))}}),n.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap"},n.a.createElement("label",{htmlFor:"button-file",className:Object(y.a)(C.produitImageUpload,"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5",R.ficheTechnique&&"hidden")},a.ficheReqInProgress?n.a.createElement(l.a,{size:24,className:C.buttonProgress}):n.a.createElement(o.a,{fontSize:"large",color:"action"},"arrow_upward")),R.ficheTechnique?n.a.createElement("div",{className:Object(y.a)(C.produitImageItem,"flex items-center cursor-pointer justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden  shadow-1 hover:shadow-5"),key:R.ficheTechnique.id,onClick:()=>window.open(z.d+R.ficheTechnique.url,"_blank")},n.a.createElement(g.a,{title:"Supprimer"},n.a.createElement(f.a,{className:C.produitImageFeaturedStar,onClick:e=>{e.stopPropagation(),t(T.Z(R.ficheTechnique))}},n.a.createElement(o.a,null,"delete"))),"image"===S.a.split(R.ficheTechnique,"/",1)[0]?n.a.createElement("img",{className:"max-w-none w-auto h-full",src:z.d+R.ficheTechnique.url,alt:"fiche"}):n.a.createElement(o.a,{color:"secondary",style:{fontSize:80}},"insert_drive_file")):"",n.a.createElement(m.a,{container:!0,spacing:3},n.a.createElement(m.a,{item:!0,xs:12,sm:6},n.a.createElement(i.a,{variant:"caption"},"- Taille maximale de fichier : 3 Mo"))))),3===w&&n.a.createElement(m.a,{container:!0,spacing:2},n.a.createElement(m.a,{item:!0,xs:12,sm:6},n.a.createElement(E.a,{label:"ID vid\xe9o Youtube",id:"video",name:"video",variant:"outlined",onChange:e=>{Y(e.target.value)},fullWidth:!0}),n.a.createElement(c.a,{className:"whitespace-no-wrap mt-10 mb-10",variant:"contained",fullWidth:!0,size:"large",color:"secondary",disabled:a.loadingRechercheVideo||!Q,onClick:()=>{t(T.fb(Q))}},"Rechercher",a.loadingRechercheVideo&&n.a.createElement(l.a,{size:24,className:C.buttonProgress})),n.a.createElement(i.a,{variant:"h6",className:"mb-10"},n.a.createElement(o.a,{color:"secondary"},"info")," COMMENT OBTENIR L'ID DE LA VID\xc9O YOUTUBE?"," "),n.a.createElement(i.a,{className:"mb-10"},"Il n'est pas difficile d'obtenir l'ID vid\xe9o Youtube dans le navigateur ou via l'application. Suivez ces \xe9tapes:"),n.a.createElement(i.a,{variant:"h6",className:"mb-10"},"TROUVEZ L'ID DE LA VID\xc9O YOUTUBE VIA LE NAVIGATEUR"),n.a.createElement(i.a,{className:"mb-10"},n.a.createElement("ol",null,n.a.createElement("li",null,"Acc\xe9dez \xe0 votre vid\xe9o Youtube pr\xe9f\xe9r\xe9e"),n.a.createElement("li",null,"V\xe9rifiez l'URL dans le navigateur Web, par exemple. https://www.youtube.com/watch?v=JGwWNGJdvx8"),n.a.createElement("li",null,'L\'ID vid\xe9o est la partie entre "? V =" et "&", dans ce cas "JGwWNGJdvx8"'),n.a.createElement("li",null,'Parfois, l\'URL de la vid\xe9o YouTube ressemble \xe0 "https://youtube.be/JGwWNGJdvx"'),n.a.createElement("li",null,'Dans ce cas, l\'url de la vid\xe9o fait partie de la derni\xe8re barre oblique "/" et "&"'))),n.a.createElement(i.a,{className:"mb-10",variant:"h6"},"TROUVER UN ID VIDEO YOUTUBE DANS L'APPLICATION YOUTUBE"),n.a.createElement(i.a,{className:"mb-10"},n.a.createElement("ol",null,n.a.createElement("li",null,"Ouvrez l'application Youtube"),n.a.createElement("li",null,"Ouvrez la vid\xe9o dont vous souhaitez l'ID vid\xe9o"),n.a.createElement("li",null,"Cliquez sur le bouton Partager et choisissez le lien"),n.a.createElement("li",null,"Le lien est copi\xe9 dans votre presse-papiers et vous pouvez le coller n'importe o\xf9"),n.a.createElement("li",null,"Le lien ressemble \xe0 https://youtube.be/JGwWNGJdvx8"),n.a.createElement("li",null,'La vid\xe9o est la partie entre la derni\xe8re barre oblique "/" et "&", dans ce cas "JGwWNGJdvx8".')))),n.a.createElement(m.a,{item:!0,xs:12,sm:6},a.loadingRechercheVideo?n.a.createElement(F.a,{height:250,width:320,speed:2},n.a.createElement("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"320",height:"250"})):R.videos?n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{videoId:R.videos,opts:{width:"460",playerVars:{showinfo:0,fs:0,modestbranding:1,rel:0}}}),n.a.createElement(q.a,{component:"button",variant:"body2",className:"text-red",onClick:()=>U(S.a.set({...R},"videos",null))},"X Supprimer cette vid\xe9o")):J?"ID vid\xe9o n'existe pas dans la base de donn\xe9es YouTube":""))),innerScroll:!0})})}}]);