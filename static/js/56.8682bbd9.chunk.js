(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=n},1244:function(e,t,a){"use strict";var n=a(3),r=a.n(n),l=a(4),i=a.n(l),c=a(0),s=a.n(c),o=a(2),u=a(8),d=a(89),m=s.a.forwardRef(function(e,t){var a=e.children,n=e.classes,l=e.className,c=e.disableTypography,u=void 0!==c&&c,m=i()(e,["children","classes","className","disableTypography"]);return s.a.createElement("div",r()({className:Object(o.a)(n.root,l),ref:t},m),u?a:s.a.createElement(d.a,{variant:"h6"},a))});t.a=Object(u.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(m)},1245:function(e,t,a){"use strict";var n=a(3),r=a.n(n),l=a(0),i=a.n(l),c=a(8),s=a(89),o=i.a.forwardRef(function(e,t){return i.a.createElement(s.a,r()({component:"p",variant:"body1",color:"textSecondary",ref:t},e))});t.a=Object(c.a)({root:{marginBottom:16}},{name:"MuiDialogContentText"})(o)},1548:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(39),i=a(136),c=a(89),s=a(1221),o=a(1227),u=a(1244),d=a(1229),m=a(1245),p=a(1230),h=a(1233),f=a(1140),g=a(1204),E=a(71),b=a(33),v=a(50),y=a(200);const j="[CHILD ACHETEUR APP] REQUEST CHILDS",N="[CHILD ACHETEUR APP] REQUEST EDIT",A="[CHILD ACHETEUR APP] EDITED ACH",O="[CHILD ACHETEUR APP] GET CHILD";function C(e){const t=v.a.get("/api/acheteurs/".concat(e,"/childs?type=0"));return e=>(e({type:j}),t.then(t=>e({type:O,payload:t.data})))}const x="[DIALOG] OPEN",T="[DIALOG] CLOSE";function H(){return{type:T}}function P(e){return{type:x,options:e}}var D=a(7),w=a(59),I=a.n(w),L=a(102),S=a(365),F=(a(10),a(1157)),M=a(1242),k=a.n(M);const z=Object(F.a)(e=>({buttonProgress:{color:k.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));var R=Object(E.g)(function(e){const t=Object(D.b)(),a=z(),i=Object(D.c)(e=>{let{childsFrsApp:t}=e;return t.childs.data}),E=Object(D.c)(e=>{let{childsFrsApp:t}=e;return t.childs.loading}),j=Object(D.c)(e=>{let{childsFrsApp:t}=e;return t.childs.loadingEdit}),O=Object(D.c)(e=>{let{auth:t}=e;return t.user}),x=Object(D.c)(e=>{let{childsFrsApp:t}=e;return t.childs.searchText}),[T,w]=Object(n.useState)(null);return Object(n.useEffect)(()=>{i&&w(function(e,t){const a=Object.keys(e).map(t=>e[t]);return 0===t.length?a:L.a.filterArrayByString(a,t)}(i,x))},[i,x]),T?0===T.length&&!1===E?r.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},r.a.createElement(c.a,{color:"textSecondary",variant:"h5"},"Aucune d'essai de s'inscrire trouv\xe9e")):r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(l.d,{animation:"transition.slideUpIn",delay:300},r.a.createElement(S.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTrProps:(e,t,a)=>({className:"h-64 "}),getTheadProps:(e,t,a)=>({className:"h-64"}),data:T,columns:[{Header:"Nom",accessor:"firstName",filterable:!0,className:"justify-center ",Cell:e=>e.original.firstName?e.original.firstName:""},{Header:"Pr\xe9nom",accessor:"lastName",className:"justify-center ",filterable:!0,Cell:e=>e.original.lastName?e.original.lastName:""},{Header:"T\xe9l\xe9phone",accessor:"phone",className:"justify-center ",filterable:!0,Cell:e=>e.original.phone?e.original.phone:""},{Header:"Email",accessor:"email",className:"justify-center ",filterable:!0,Cell:e=>e.original.email?e.original.email:""},{Header:"Date de cr\xe9ation",accessor:"created",filterable:!1,className:"justify-center ",Cell:e=>e.original.created?I()(e.original.created).format("DD/MM/YYYY HH:mm"):"N/A"},{Header:"",className:"justify-center ",Cell:e=>r.a.createElement("div",{className:"flex items-center"},r.a.createElement(s.a,{title:"Ajouter comme un acheteur / Master"},r.a.createElement(o.a,{size:"small",variant:"contained",color:"primary",disabled:j,onClick:a=>{a.stopPropagation(),t(P({children:r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{id:"alert-dialog-title"},"Nouveau Acheteur / Master"),r.a.createElement(d.a,null,r.a.createElement(m.a,{id:"alert-dialog-description"},"Vous \xeates en train d'ajouter une nouveau Acheteur / Master,")),r.a.createElement(p.a,null,r.a.createElement(o.a,{onClick:()=>t(H()),variant:"outlined",color:"primary"},"Annuler"),r.a.createElement(o.a,{onClick:a=>{t(function(e,t,a){let n={type:t};const r=v.a.put("/api/acheteur_provisoires/".concat(e),n);return e=>(e({type:N}),r.then(n=>Promise.all([e({type:A}),e(Object(b.B)({message:1===t?"Acheteur / Master bien ajout\xe9e!":"Acheteur bien ajout\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>e(C(a))).then(()=>e(y.b("acheteurs-tentatives")))).catch(t=>{t.response.data&&t.response.data["hydra:description"]&&e(Object(b.B)({message:t.response.data["hydra:description"],anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}(e.original.id,1,O.id)),t(H())},variant:"contained",color:"primary",autoFocus:!0},"Ajouter")))}))}},j&&r.a.createElement(h.a,{size:24,className:a.buttonProgress}),"nouveau Acheteur / Master")))},{Header:"",className:"justify-center ",Cell:e=>r.a.createElement("div",{className:"flex items-center"},r.a.createElement(s.a,{title:"Supprimer"},r.a.createElement(f.a,{className:"text-red text-20",disabled:j,onClick:a=>{a.stopPropagation(),t(P({children:r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{id:"alert-dialog-title"},"Suppression"),r.a.createElement(d.a,null,r.a.createElement(m.a,{id:"alert-dialog-description"},"Voulez vous vraiment supprimer cet enregistrement ?")),r.a.createElement(p.a,null,r.a.createElement(o.a,{onClick:()=>t(H()),color:"primary"},"Non"),r.a.createElement(o.a,{onClick:a=>{t(function(e,t){return a=>(a({type:N}),v.a.delete("/api/acheteur_provisoires/".concat(e.id)).then(e=>Promise.all([a({type:A}),a(Object(b.B)({message:"Bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>a(C(t.id))).then(()=>a(y.b("acheteurs-tentatives")))))}(e.original,O)),t(H())},color:"primary",autoFocus:!0},"Oui")))}))}},r.a.createElement(g.a,null,j&&r.a.createElement(h.a,{size:24,className:a.buttonProgress}),"delete"))))}],defaultPageSize:10,noDataText:"Aucune d'essai de s'inscrire trouv\xe9e",loading:E,loadingText:"Chargement...",ofText:"sur"}))):null});var U=function(e){return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(l.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(c.a,{className:"hidden sm:flex",variant:"h6"},"Liste d'essai de s'inscrire"))))},B=a(43);const Y={data:[],pageCount:null,loading:!1,searchText:"",loadingEdit:!1};var _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{...e,loading:!0};case N:return{...e,loadingEdit:!0};case A:return{...e,loadingEdit:!1};case O:return{...e,data:t.payload["hydra:member"],pageCount:L.a.hydraPageCount(t.payload),loading:!1};default:return e}};const G={state:!1,options:{children:"Hi"}};var J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.f:return{...e,state:!0,options:{...e.options,...t.options}};case b.a:return{...e,state:!1};default:return e}};var Q=Object(B.d)({childs:_,dialog:J}),V=a(364);t.default=Object(i.a)("childsFrsApp",Q)(function(){const e=Object(D.b)(),t=Object(D.c)(e=>{let{auth:t}=e;return t.user});return Object(n.useEffect)(()=>{t&&e(C(t.id))},[e,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V.Helmet,null,r.a.createElement("title",null,"Tentatives d'inscriptions | Les Achats Industriels"),r.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),r.a.createElement("meta",{name:"googlebot",content:"noindex"})),r.a.createElement(l.o,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(U,null),content:r.a.createElement(R,null),innerScroll:!0}))})}}]);