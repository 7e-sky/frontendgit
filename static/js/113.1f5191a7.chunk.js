(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{1348:function(e,t,a){"use strict";a.r(t);var r=a(23),n=a(0),c=a.n(n),l=a(98),s=a(1044),o=a(1027),m=a(40),i=a(345),d=a(346),u=a(140),p=a(46),E=a(21),f=a(8),x=a(54),g=a(36),b=a(10),h="[COMMANDE AB FRS APP] REQUEST COMMANDE",y="[COMMANDE AB FRS APP] GET COMMANDE",v="[COMMANDE AB FRS APP] REQUEST_SUGGESTION",N="[COMMANDE AB FRS APP] REQUEST_SOUS_SECTEURS",O="[COMMANDE AB FRS APP] GET SOUS_SECTEURS",S="[COMMANDE AB FRS APP] REQUEST SECTEURS",A="[COMMANDE AB FRS APP] GET SECTEURS",j="[COMMANDE AB FRS APP] REQUEST FOURNISSEUR",C="[COMMANDE AB FRS APP] GET FOURNISSEUR",P="[COMMANDE AB FRS APP] REQUEST OFFRES",M="[COMMANDE AB FRS APP] GET OFFRES",k="[COMMANDE AB FRS APP] REQUEST_DUREE",D="[COMMANDE AB FRS APP] GET_DUREE",R="[COMMANDE AB FRS APP] REQUEST SAVE",w="[COMMANDE AB FRS APP] SAVE COMMANDE",F="[COMMANDE AB FRS APP] SAVE_SUGGESTION",T="[COMMANDE AB FRS APP] SAVE ERROR",_="[COMMANDE AB FRS APP] REQUEST_PAIEMENT",z="[COMMANDE AB FRS APP] GET_PAIEMENT",B="[COMMANDE AB FRS APP] CLEAN_UP",I="[COMMANDE AB FRS APP] OPEN NEW COMMANDE DIALOG",L="[COMMANDE AB FRS APP] CLOSE NEW COMMANDE DIALOG",U="[COMMANDE AB FRS APP] OPEN EDIT COMMANDE DIALOG",G="[COMMANDE AB FRS APP] CLOSE EDIT COMMANDE DIALOG";function H(e){return{type:U,data:e}}function Y(){var e=x.a.get("/api/offres");return function(t){return t({type:P}),e.then(function(e){return t({type:M,payload:e.data["hydra:member"]})})}}var Q={data:null,loadingC:!1,offres:null,fournisseur:null,loadingSecteurs:!1,secteurs:null,sousSecteurs:null,error:null,loading:!1,loadingSuggestion:!1,loadingSS:!1,success:!1,successActivite:!1,paiements:null,durees:null,loadingOffres:!1,loadingDuree:!1,loadingP:!1,commandeDialog:{type:"new",props:{open:!1},data:null}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:case R:return Object(f.a)({},e,{loading:!0,success:!1});case S:return Object(f.a)({},e,{loadingSecteurs:!0});case A:return Object(f.a)({},e,{secteurs:t.payload,loadingSecteurs:!1});case N:return Object(f.a)({},e,{loadingSS:!0});case O:return Object(f.a)({},e,{sousSecteurs:[].concat(Object(E.a)(t.payload),[{"@id":"/api/sous_secteurs/98",name:"Autre"}]),loadingSS:!1});case _:return Object(f.a)({},e,{loadingP:!0});case z:return Object(f.a)({},e,{paiements:t.payload,loadingP:!1});case k:return Object(f.a)({},e,{loadingDuree:!0});case D:return Object(f.a)({},e,{durees:t.payload,loadingDuree:!1});case v:return Object(f.a)({},e,{loadingSuggestion:!0});case F:return Object(f.a)({},e,{successActivite:!0,loadingSuggestion:!1});case h:return Object(f.a)({},e,{loadingC:!0});case y:return Object(f.a)({},e,{data:t.payload,loadingC:!1});case w:return Object(f.a)({},e,{loading:!1,success:!0,data:t.payload});case B:return Object(f.a)({},e,{success:!1,data:null,error:null});case C:return Object(f.a)({},e,{fournisseur:t.payload,loading:!1});case P:return Object(f.a)({},e,{loadingOffres:!0});case M:return Object(f.a)({},e,{offres:t.payload,loadingOffres:!1});case T:return Object(f.a)({},e,{error:t.payload,loading:!1});case I:return Object(f.a)({},e,{commandeDialog:{type:"new",props:{open:!0},data:t.data}});case L:return Object(f.a)({},e,{commandeDialog:{type:"new",props:{open:!1},data:null}});case U:return Object(f.a)({},e,{commandeDialog:{type:"edit",props:{open:!0},data:t.data}});case G:return Object(f.a)({},e,{commandeDialog:{type:"edit",props:{open:!1},data:null}});default:return e}},V={state:!1,options:{children:"Hi"}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.f:return Object(f.a)({},e,{state:!0,options:Object(f.a)({},e.options,t.options)});case g.a:return Object(f.a)({},e,{state:!1});default:return e}},$=Object(p.d)({commande:W,dialog:q}),J=a(6),K=a(1041),X=a(1040),Z=a(1029),ee=a(1013),te=a(1020),ae=a(1035),re=a(958),ne=a(974),ce=a(64),le=a.n(ce),se=a(18),oe=(a(1059),a(2)),me=a(1034),ie=Object(me.a)(function(e){return{chip:{padding:2,background:"#ef5350",color:"white",fontWeight:"bold",fontSize:"11px",height:20},blue:{padding:2,background:"#3490dc",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chip2:{padding:2,background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chipOrange:{padding:2,background:"#ff9800",color:"white",fontWeight:"bold",fontSize:"11px",height:20}}});var de=function(){var e=Object(J.b)(),t=Object(n.useState)(0),a=Object(r.a)(t,2),s=(a[0],a[1],Object(J.c)(function(e){return e.billingApp.commande})),o=Object(J.c)(function(e){return e.auth.user}),i=Object(J.c)(function(e){return e.auth.user.abonnement}),u=Object(J.c)(function(e){return e.auth.user.loadingAbonnement}),p=Object(n.useState)(!1),E=Object(r.a)(p,2),f=E[0],g=E[1],v=Object(n.useState)(!0),N=Object(r.a)(v,2),O=N[0],S=N[1],A=Object(n.useState)(!1),j=Object(r.a)(A,2),C=j[0],P=j[1],M=Object(n.useState)(0),k=Object(r.a)(M,2),D=k[0],R=k[1],w=ie();return Object(n.useEffect)(function(){o.id&&e(function(e){var t=x.a.get("/api/fournisseurs/".concat(e,"/demande_abonnements?itemsPerPage=1&statut=false&order[created]=desc"));return function(e){return e({type:h}),t.then(function(t){return e({type:y,payload:t.data["hydra:member"][0]})})}}(o.id))},[e,o]),Object(n.useEffect)(function(){if(i)if(i.statut){var e=le()(i.expired).diff(le()(),"days");R(e),e<=0&&P(!0),i.statut&&e>0&&g(!0)}else S(!1)},[i]),u?c.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},c.a.createElement(K.a,{color:"secondary"})," \u2002 Chargement ..."):c.a.createElement("div",{className:"p-24"},c.a.createElement(d.Helmet,null,c.a.createElement("title",null,"Mon abonnement | Les Achats Industriels"),c.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),c.a.createElement("meta",{name:"googlebot",content:"noindex"})),c.a.createElement(m.d,{animation:"transition.slideUpIn",delay:300},c.a.createElement(X.a,{container:!0,spacing:4},c.a.createElement(X.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:4},c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement(l.a,{variant:"h6",className:"uppercase"},"Mon Pack"),c.a.createElement(Z.a,{title:"Modifier votre pack"},c.a.createElement(se.a,{to:"/billing/pack",className:""},c.a.createElement(ee.a,{className:"text-orange"},"edit")))),c.a.createElement(te.a,null),c.a.createElement("div",{className:"mt-16"},i?c.a.createElement("table",{className:"table-auto"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Pack"),c.a.createElement("td",{className:" px-4 py-2"},i.offre&&i.offre.name)),c.a.createElement("tr",{className:"bg-gray-100"},c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Nbr. Activit\xe9s"),c.a.createElement("td",{className:" px-4 py-2"},i.offre&&i.offre.nbActivite+" Activit\xe9s")),c.a.createElement("tr",{className:"bg-gray-100"},c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Activit\xe9s"),c.a.createElement("td",{className:" px-4 py-2"},i.sousSecteurs&&b.a.join(b.a.map(i.sousSecteurs,"name"),", "))),c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Date de d\xe9but"),c.a.createElement("td",{className:" px-4 py-2"}," ",i.datePeiment&&le()(i.datePeiment).format("YYYY-MM-DD HH:mm"))),c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Date de renouvellement"),c.a.createElement("td",{className:" px-4 py-2"}," ",i.expired&&le()(i.expired).format("YYYY-MM-DD HH:mm"))),c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Dur\xe9e"),c.a.createElement("td",{className:" px-4 py-2"}," ",i.duree&&i.duree.name+" mois")),c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Statut"),c.a.createElement("td",{className:" px-4 py-2"},!O&&c.a.createElement(l.a,{variant:"caption",className:"text-red"},"D\xe9sactiv\xe9"),C&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Object(oe.a)("flex items-center px-8 py-4 mr-8 mt-2 rounded rounded-md text-white bg-red")},"Expir\xe9, ",le()(i.expired).fromNow()),c.a.createElement(Z.a,{title:"Renouveler"},c.a.createElement(ae.a,{className:"mt-6",size:"small",variant:"contained",color:"secondary",onClick:function(){if(i){var t={offre:i.offre,sousSecteurs:i.sousSecteurs,mode:i.mode,duree:i.duree,type:!0,suggestions:[],renew:!0};e(H(t))}}},"Renouveler"))),f&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Object(oe.a)("flex items-center px-8 py-4 mr-8 mt-2 rounded rounded-md text-white",D>30?"bg-green":D>15&&D<=30?"bg-orange":"bg-red")},c.a.createElement(ee.a,{className:"text-20 mr-4"},"check_circle_outline")," ",c.a.createElement("strong",null,"Actif")," ",c.a.createElement("span",{className:"hidden sm:flex"},", vous avez ",D," jour(s) restant(s) !")),D<30&&c.a.createElement(Z.a,{title:"Renouveler"},c.a.createElement(ae.a,{className:"mt-6",size:"small",variant:"contained",color:"secondary"},"Renouveler"))))))):c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Pack"),c.a.createElement("td",{className:" px-4 py-2"},"Free")))))),s.loadingC?"Chargement...":s.data&&c.a.createElement(X.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:4},c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement(l.a,{variant:"h6",className:"uppercase"},"Derni\xe8re commande"),c.a.createElement(Z.a,{title:"Modifier votre pack"},c.a.createElement(re.a,{onClick:function(){return e(H(s.data))}},c.a.createElement(ee.a,{className:"text-orange"},"edit")))),c.a.createElement(te.a,null),c.a.createElement("div",{className:"mt-16"},c.a.createElement("table",{className:"table-auto"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"R\xe9f\xe9rence"),c.a.createElement("td",{className:" px-4 py-2"},s.data.reference)),c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Pack"),c.a.createElement("td",{className:" px-4 py-2"},s.data.offre&&s.data.offre.name)),c.a.createElement("tr",{className:"bg-gray-100"},c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Nbr. Activit\xe9s"),c.a.createElement("td",{className:" px-4 py-2"},s.data.offre&&s.data.offre.nbActivite+" Activit\xe9s")),c.a.createElement("tr",{className:"bg-gray-100"},c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Activit\xe9s"),c.a.createElement("td",{className:" px-4 py-2"},s.data.sousSecteurs&&b.a.join(b.a.map(s.data.sousSecteurs,"name"),", "))),c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Date de cr\xe9ation"),c.a.createElement("td",{className:" px-4 py-2"}," ",s.data.created&&le()(s.data.created).format("YYYY-MM-DD HH:mm"))),c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Dur\xe9e"),c.a.createElement("td",{className:" px-4 py-2"}," ",s.data.duree&&s.data.duree.name+" mois")),c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Statut"),c.a.createElement("td",{className:" px-4 py-2"},!1===s.data.statut?c.a.createElement(ne.a,{className:w.chipOrange,label:"En attente"}):c.a.createElement(ne.a,{className:w.chip2,label:"Trait\xe9e"}))),c.a.createElement("tr",null,c.a.createElement("td",{className:" px-4 py-2 font-bold"},"Type"),c.a.createElement("td",{className:" px-4 py-2"},!1===s.data.type?c.a.createElement(ne.a,{className:w.blue,label:"Nouvelle"}):c.a.createElement(ne.a,{className:w.chip2,label:"Renouvellement"}))))))))))},ue=a(1016),pe=a(962),Ee=a(1017),fe=a(386),xe=a(163),ge=Object(i.a)(function(e){return{badge:{backgroundColor:e.palette.error.main,color:e.palette.getContrastText(e.palette.error.main)},price:{backgroundColor:e.palette.primary[600]},root:{width:"100%",backgroundColor:e.palette.background.paper,border:"1px solid #ddd"},populaire:{"&:before":{content:"ddddddd"}},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}});var be=function(e){var t=ge(),a=e.currency,r=Object(J.b)(),l=Object(J.c)(function(e){return e.billingApp.commande});if(Object(n.useEffect)(function(){r(Y())},[r]),l.loadingOffres)return c.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},c.a.createElement(K.a,{color:"secondary"})," \u2002 Chargement ...");function s(e){r({type:I,data:{offre:e}})}return c.a.createElement("div",null,c.a.createElement("div",{className:"p-24 "},c.a.createElement("div",{className:"w-full max-w-2xl mx-auto"},c.a.createElement(X.a,{container:!0},c.a.createElement(X.a,{item:!0,xs:6,sm:6,md:4,container:!0},c.a.createElement(X.a,{item:!0,xs:12,className:"h-160"}),c.a.createElement(X.a,{item:!0,xs:12},c.a.createElement(ue.a,{className:t.root},c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Pr\xe9sentations de Produits / Services"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15 ml-16"},primary:"Images / Photos"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15 ml-16"},primary:"Fiches Techniques"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15 ml-16"},primary:"Vid\xe9os"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15 ml-16"},primary:"R\xe9ception des demandes par produit expos\xe9"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Activit\xe9s"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Mini-site de votre soci\xe9t\xe9"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56"},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Catalogues produits"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Catalogues produits PDF t\xe9l\xe9chargeable"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"R\xe9ception de demande de devis ( RFQ ) par mail"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Gestion commerciale"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15 ml-16"},primary:"Cr\xe9ation d\u2019Agences / Services"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15 ml-16"},primary:"Affectation les demandes d\u2019achats ( RFQ )"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15 ml-16"},primary:"Suivi des ventes de vos Agences / Services"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Pr\xe9sentation de produit en \xab\xa01ere Page\xa0\xbb"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 "},alignItems:"flex-start"},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Banni\xe8re publicitaire 720x90px en \xab\xa01ere Page\xa0\xbb"}))))),c.a.createElement(X.a,{item:!0,xs:6,sm:6,md:8,container:!0,spacing:1},c.a.createElement(X.a,{item:!0,xs:12,sm:6,md:3,container:!0},c.a.createElement(X.a,{item:!0,xs:12,style:{background:"linear-gradient(to top left, #ddd 10%, #ddd 30%, #fff 60%, #fff 60%)",borderRadius:"20px 20px 0 0",border:"1px solid #ddd"},className:"text-center h-160 "},c.a.createElement("div",{className:"text-black uppercase font-extrabold pt-16 text-24"},"FREE"),c.a.createElement("div",{className:"flex justify-center mt-12 text-black"},c.a.createElement("span",{className:" uppercase text-10 sm:text-12 md:text-14 lg:text-15"},a===m.z?m.z:"$"),c.a.createElement("span",{className:" uppercase font-extrabold text-32"},"00",c.a.createElement("span",{className:"text-10"},",00")))),c.a.createElement(X.a,{item:!0,xs:12},c.a.createElement(ue.a,{className:t.root},c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{justify:"center",classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:"Max 5"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:"Max 5"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:"Max 5"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:"illimit\xe9"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Limit\xe9 par Nbr. produits"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"illimit\xe9"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15 "},primary:c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")}))))),l.offres&&l.offres.map(function(e,r){return c.a.createElement(X.a,{item:!0,xs:12,sm:6,md:3,key:e.id,className:"flex hidden sm:block md:block lg:block "},c.a.createElement(X.a,{item:!0,xs:12,style:{background:"linear-gradient(to top left, #ddd 10%, #ddd 30%, #fff 60%, #fff 60%)",borderRadius:"20px 20px 0 0",border:"1px solid #ddd"},className:"text-center h-160 "},c.a.createElement("div",{className:"text-green uppercase font-extrabold pt-16 text-16"},e.name),c.a.createElement("div",{className:"flex justify-center mt-12 text-green"},c.a.createElement("span",{className:" uppercase text-10 sm:text-12 md:text-14 lg:text-15"},a===m.z?m.z:"$"),c.a.createElement("span",{className:" uppercase font-extrabold text-32 md:text-24"},a===m.z?e.prixMad:e.prixEur,c.a.createElement("span",{className:"text-10"},",00 / mois",a===m.z&&" HT"))),c.a.createElement("div",{className:"mt-6"},c.a.createElement(ae.a,{variant:"contained",onClick:function(){return s(e)},color:"secondary"}," ","s\xe9lectionner"))),c.a.createElement(X.a,{item:!0,xs:12},c.a.createElement(ue.a,{className:t.root},c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{justify:"center",classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:"5 par produit"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:"1 par produit"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:"1 par produit"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15 "},primary:"illimit\xe9"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"Jusqu'\xe0 ".concat(e.nbActivite," activit\xe9s")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:e.nbPageCatalogue?"".concat(e.nbPageCatalogue," pages"):c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:"illimit\xe9"})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:e.hasCommercial?c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle"):c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15"},primary:e.hasCommercial?c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle"):c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15 "},primary:e.hasCommercial?c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle"):c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"text-10 sm:text-12 md:text-14 lg:text-15"},primary:e.hasCommercial?c.a.createElement(ee.a,{style:{color:fe.a[500]}},"check_circle"):c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:e.focusProduit})),c.a.createElement(te.a,{component:"li"}),c.a.createElement(pe.a,{classes:{root:"h-60 sm:h-56 text-center"}},c.a.createElement(Ee.a,{classes:{primary:"font-bold text-10 sm:text-12 md:text-14 lg:text-15"},primary:e.hasBanner?"1 banni\xe8re (6 mois)":c.a.createElement(ee.a,{style:{color:xe.a[500]}},"close")})))))}))))))},he=a(1031),ye=a(1051),ve=a(1037),Ne=a(1038),Oe=a(1137),Se=a(1138),Ae=a(1153),je=Object(i.a)(function(e){return{remise:{top:"-15px",left:10,backgroundColor:"#ecc94b",color:"#7b341e"}}});var Ce=function(e){var t=e.durees,a=e.loading,r=e.selected,n=e.onChange,s=e.handleGetMontantPerMonth,o=e.handlegetMontantPerYear,i=je();function d(e){return parseFloat(e).toLocaleString("fr",{minimumFractionDigits:2})}return a?c.a.createElement("div",{className:"flex flex-1 items-center justify-center h-200 "},c.a.createElement(K.a,{color:"secondary"})," \u2002 Chargement ..."):c.a.createElement("div",{className:"md:px-44 mt-16"},c.a.createElement(X.a,{container:!0,spacing:4},t&&t.map(function(e){return c.a.createElement(X.a,{item:!0,xs:12,key:e["@id"],md:6},c.a.createElement("div",{onClick:function(){return n(e)},className:Object(oe.a)("rounded rounded-md relative flex items-center justify-center p-24 h-200 w-full border-solid border-4 cursor-pointer hover:border-blue",r.duree&&(r.duree["@id"]===e["@id"]?" border-blue":" border-gray-400"))},c.a.createElement("div",{className:"mr-16"},r.duree&&(r.duree["@id"]===e["@id"]?c.a.createElement(ee.a,{color:"secondary"},"radio_button_checked"):c.a.createElement(ee.a,null,"radio_button_unchecked"))),c.a.createElement("div",{className:"flex flex-col items-start"},c.a.createElement("div",{className:"font-bold uppercase text-20 mb-6"},e.name," mois"),c.a.createElement("div",{className:"font-bold"},d(s(e)),r.currency===m.z?" ".concat(m.z," HT "):" $ ","par mois"),c.a.createElement(l.a,{variant:"caption"},d(o(e)),r.currency===m.z?" ".concat(m.z," HT  par an"):" $ par an")),e.remise?c.a.createElement("div",{className:Object(oe.a)("absolute px-10 py-2 rounded rounded-md",i.remise)},"Economiser ",e.remise," %"):""))})))},Pe=a(1298),Me=a(1039),ke=a(55),De=a.n(ke),Re=a(954),we=a(1032),Fe=Object(Re.a)(function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:e.palette.grey["light"===e.palette.type?200:700]},bar:{borderRadius:5,backgroundColor:"#1a90ff"}}})(we.a),Te=Object(i.a)(function(e){return{border:{borderLeft:"11px solid "+e.palette.secondary.main+"!important",paddingLeft:11}}});var _e=function(e){var t=Te(),a=e.commande,r=e.selected,n=e.handleChipChange,s=e.handleDeleteActivite,o=e.handleAddSuggestion,i=e.handleChangeAutre;return c.a.createElement(De.a,null,r.offre&&c.a.createElement(Pe.a,{display:"flex",alignItems:"center",width:"50%",className:"mb-16 m-auto"},c.a.createElement(Pe.a,{minWidth:45},"Activit\xe9s"),c.a.createElement(Pe.a,{width:"100%",mr:1,ml:1},c.a.createElement(Fe,{variant:"determinate",value:(r.sousSecteurs.length+r.suggestions.length)/r.offre.nbActivite*100})),c.a.createElement(Pe.a,{minWidth:35},c.a.createElement(l.a,{variant:"body2",color:"textSecondary"},"".concat(r.sousSecteurs.length+r.suggestions.length,"/").concat(r.offre.nbActivite)))),c.a.createElement(X.a,{container:!0,spacing:4},c.a.createElement(X.a,{item:!0,xs:12,sm:6},c.a.createElement(m.E,{id:"secteurs",name:"secteurs",value:r.secteur,placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Secteurs",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mb-16 z-50",options:a.secteurs,isLoading:a.loadingSecteurs,onChange:function(e){return n(e,"secteurs")},required:!0})),c.a.createElement(X.a,{item:!0,xs:12,sm:6},c.a.createElement(m.E,{id:"activites",name:"activites",value:"",placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Activit\xe9s",InputLabelProps:{shrink:!0},variant:"outlined"},className:"z-9999",options:a.sousSecteurs,isLoading:a.loadingSS,onChange:function(e){return n(e,"activites")},required:!0}),r.showAutre?c.a.createElement(m.F,{className:"mt-16 w-full",type:"text",name:"autreActivite",value:r.autreActivite,onChange:i,label:"Autre Activit\xe9",validations:{minLength:2,maxLength:50},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 2",maxLength:"La longueur maximale de caract\xe8re est 50"},InputProps:{endAdornment:c.a.createElement(Me.a,{position:"end"},c.a.createElement(re.a,{color:"secondary",disabled:!r.autreActivite||r.autreActivite.length<2,onClick:function(e){return o(r.autreActivite)}},c.a.createElement(ee.a,null,"add_circle")))},variant:"outlined",required:!0}):"")),c.a.createElement(X.a,{container:!0,spacing:4,className:"items-start"},c.a.createElement(X.a,{item:!0,xs:12,sm:6},c.a.createElement(l.a,{className:"mb-16",variant:"h6"},c.a.createElement("span",{className:t.border},"Activit\xe9s choisies")),r.sousSecteurs.map(function(e){return c.a.createElement(ne.a,{key:e.value,color:"secondary",label:e.label,onDelete:function(){return s(e.value,"sousSecteurs")},className:"mr-8 mb-8"})})),c.a.createElement(X.a,{item:!0,xs:12,sm:6},c.a.createElement(l.a,{className:"mb-16",variant:"h6"},c.a.createElement("span",{className:t.border},"Activit\xe9s sugg\xe9r\xe9es")),r.suggestions.map(function(e,t){return c.a.createElement(ne.a,{key:e.sousSecteur,color:"secondary",label:"".concat(e.secteur.label," : ").concat(e.sousSecteur),onDelete:function(){return s(e.sousSecteur,"suggestions")},className:"mr-8 mb-8"})}))))},ze=a(953),Be=a(964),Ie=a(1022),Le=a(1023),Ue=a(1046);var Ge=function(e){var t=e.commande,a=e.selected,r=e.handleChangeModePaiement;return t.loadingP?c.a.createElement("div",{className:"flex flex-1 items-center justify-center h-200 "},c.a.createElement(K.a,{color:"secondary"})," \u2002 Chargement ..."):c.a.createElement("div",{className:"md:px-44 mt-16"},c.a.createElement(ze.a,{component:"fieldset"},c.a.createElement(Be.a,{component:"legend"},"Mode de paimenet"),c.a.createElement(Ie.a,{"aria-label":"mode",name:"mode1",value:a.mode,onChange:r},t.paiements.map(function(e){return c.a.createElement(Le.a,{value:e["@id"],key:e["@id"],control:c.a.createElement(Ue.a,null),label:e.name})}),c.a.createElement(Le.a,{value:"disabled",disabled:!0,control:c.a.createElement(Ue.a,null),label:"Carte bancaire ( A venir )"}))))},He=a(1078),Ye=a(1079),Qe=a(1080),We=a(1081),Ve=a(1082),qe=Object(i.a)(function(e){return{table:{minWidth:700}}}),$e=m.A;var Je=function(e){var t=e.selected,a=e.handleGetMontantPerMonth,r=qe();function n(e){return parseFloat(e).toLocaleString("fr",{minimumFractionDigits:2})}var l=a(t.duree),s=l*t.duree.name,o=$e*s,i=o+s;return c.a.createElement("div",{className:"md:px-44 mt-16"},c.a.createElement(He.a,{className:r.table,"aria-label":"spanning table"},c.a.createElement(Ye.a,null,c.a.createElement(Qe.a,null,c.a.createElement(We.a,{align:"center",colSpan:3},"Details"),c.a.createElement(We.a,{align:"right"},"Prix")),c.a.createElement(Qe.a,null,c.a.createElement(We.a,null,"PACK"),c.a.createElement(We.a,{align:"right"},"Dur\xe9e"),c.a.createElement(We.a,{align:"right"},"Prix par mois"),c.a.createElement(We.a,{align:"right"},"Somme"))),c.a.createElement(Ve.a,null,c.a.createElement(Qe.a,null,c.a.createElement(We.a,null,t.offre.name),c.a.createElement(We.a,{align:"right"},"".concat(t.duree.name," mois")),c.a.createElement(We.a,{align:"right"},t.duree.remise?c.a.createElement("span",{className:"line-through text-xs text-red"},t.currency===m.z?n(t.offre.prixMad):n(t.offre.prixEur)):""," ".concat(n(l))),c.a.createElement(We.a,{align:"right"},"".concat(n(s)))),t.currency===m.z?c.a.createElement(c.a.Fragment,null,c.a.createElement(Qe.a,null,c.a.createElement(We.a,{rowSpan:3}),c.a.createElement(We.a,{colSpan:2},"Total HT"),c.a.createElement(We.a,{align:"right"},"".concat(n(s)))),c.a.createElement(Qe.a,null,c.a.createElement(We.a,null,"TVA"),c.a.createElement(We.a,{align:"right"},"".concat((100*$e).toFixed(0)," %")),c.a.createElement(We.a,{align:"right"},"".concat(n(o)))),c.a.createElement(Qe.a,null,c.a.createElement(We.a,{colSpan:2},"Total TTC"),c.a.createElement(We.a,{align:"right"},"".concat(n(i)," ").concat(m.z)))):c.a.createElement(Qe.a,null,c.a.createElement(We.a,{rowSpan:3}),c.a.createElement(We.a,{colSpan:2},"Total"),c.a.createElement(We.a,{align:"right"},"".concat(n(s)," $"))))))},Ke=a(1049),Xe=a.n(Ke),Ze=Object(i.a)(function(e){return{remise:{top:"-15px",left:10,backgroundColor:"#ecc94b",color:"#7b341e"}}});var et=function(e){var t=e.commande,a=e.selected,r=e.onChange;return Ze(),t.loadingOffres?c.a.createElement("div",{className:"flex flex-1 items-center justify-center h-200 "},c.a.createElement(K.a,{color:"secondary"})," \u2002 Chargement ..."):c.a.createElement("div",{className:"md:px-44 mt-16"},c.a.createElement(X.a,{container:!0,spacing:4},t.offres&&t.offres.map(function(e){return c.a.createElement(X.a,{item:!0,xs:12,key:e["@id"],md:4},c.a.createElement("div",{onClick:function(){return r(e)},className:Object(oe.a)("rounded rounded-md relative flex items-center justify-center p-24 h-200 w-full border-solid border-4 cursor-pointer hover:border-blue",a.offre&&(a.offre["@id"]===e["@id"]?" border-blue":" border-gray-400"))},c.a.createElement("div",{className:"mr-8"},a.offre&&(a.offre["@id"]===e["@id"]?c.a.createElement(ee.a,{color:"secondary"},"radio_button_checked"):c.a.createElement(ee.a,null,"radio_button_unchecked"))),c.a.createElement("div",{className:"flex flex-col items-start"},c.a.createElement("div",{className:"font-bold uppercase text-20 mb-6"},e.name),c.a.createElement("div",{className:"font-bold"},(t=a.currency===m.z?e.prixMad:e.prixEur,parseFloat(t).toLocaleString("fr",{minimumFractionDigits:2})),a.currency===m.z?" ".concat(m.z," HT "):" $ ","par mois"))));var t})))};var tt=Object(i.a)(function(e){return{badge:{backgroundColor:e.palette.error.main,color:e.palette.getContrastText(e.palette.error.main)},price:{backgroundColor:e.palette.primary[600]},root:{width:"100%",backgroundColor:e.palette.background.paper,border:"1px solid #ddd"},populaire:{"&:before":{content:"ddddddd"}},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},dialogPaper:{overflow:"visible"},buttonProgress:{color:Xe.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}});var at=function(e){var t=tt(),a=e.currency,s={currency:a,sousSecteurs:[],suggestions:[]},o=Object(J.b)(),i=Object(J.c)(function(e){return e.billingApp.commande}),d=Object(J.c)(function(e){return e.billingApp.commande.commandeDialog}),u=Object(n.useState)(0),p=Object(r.a)(u,2),h=p[0],y=p[1],v=Object(n.useState)(s),j=Object(r.a)(v,2),C=j[0],P=j[1],M="new"===d.type?["Dur\xe9e","Activit\xe9s","Paiement"]:["Offre","Dur\xe9e","Activit\xe9s","Paiement"],F=Object(n.useCallback)(function(){"edit"===d.type&&d.data&&(o(Y()),P(Object(f.a)({},d.data,{sousSecteurs:d.data.sousSecteurs.map(function(e){return{value:e["@id"],label:e.secteur.name+": "+e.name}}),mode:d.data.mode["@id"],currency:a}))),"new"===d.type&&P(Object(f.a)({},s,d.data))},[d.data,d.type,P]);function I(e){P(Object(f.a)({},C,{mode:e.target.value}))}function U(e){P(Object(f.a)({},C,{autreActivite:e.target.value}))}function H(e,t){if(P(Object(f.a)({},C,{showAutre:!1})),"activites"===t){if("/api/sous_secteurs/98"===e.value)return void P(Object(f.a)({},C,{showAutre:!0}));if(C.sousSecteurs.length+C.suggestions.length===C.offre.nbActivite)return;if(!b.a.find(C.sousSecteurs,["value",e.value])){var a=e;a.label=C.secteur.label+": "+a.label,P(Object(f.a)({},C,{sousSecteurs:[a].concat(Object(E.a)(C.sousSecteurs))}))}}else e.value&&(P(Object(f.a)({},C,{secteur:e})),o(function(e){var t=x.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return function(e){return e({type:N}),t.then(function(t){e({type:O,payload:t.data["hydra:member"]})})}}(e.value)))}function Q(e){if(!(e.length<2))if(b.a.find(C.suggestions,["sousSecteur",e]))P(Object(f.a)({},C,{autreActivite:null}));else if(C.sousSecteurs.length+C.suggestions.length!==C.offre.nbActivite){var t={secteur:C.secteur,sousSecteur:e};P(Object(f.a)({},C,{suggestions:[t].concat(Object(E.a)(C.suggestions)),autreActivite:null}))}else P(Object(f.a)({},C,{autreActivite:null}))}function W(e,t){if("suggestions"!==t)P(Object(f.a)({},C,{sousSecteurs:b.a.reject(C.sousSecteurs,function(t){return t.value===e})}));else{var a=C.suggestions.filter(function(t){return t.sousSecteur!==e});P(Object(f.a)({},C,{suggestions:a}))}}function V(e){P(Object(f.a)({},C,{duree:e}))}function q(e){P(Object(f.a)({},C,{offre:e}))}function $(e){if(C.offre&&e)return e.remise?C.currency===m.z?C.offre.prixMad-C.offre.prixMad*e.remise/100:C.offre.prixEur-C.offre.prixEur*e.remise/100:a===m.z?C.offre.prixMad:C.offre.prixEur}function X(e){if(C.offre&&e)return 12*$(e)}Object(n.useEffect)(function(){d.props.open&&F()},[d.props.open,F]),console.log(i.success),Object(n.useEffect)(function(){if(i.success)return console.log("fff"),"new"===d.type?y(4):y(5),function(){o(function(e){return e({type:B})})}},[i.success,y]),Object(n.useEffect)(function(){o(function(){var e=x.a.get("/api/durees");return function(t){return t({type:k}),e.then(function(e){t({type:D,payload:e.data["hydra:member"]})})}}())},[o]),Object(n.useEffect)(function(){o(function(){var e=x.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name&order[name]=asc");return function(t){return t({type:S}),e.then(function(e){t({type:A,payload:e.data["hydra:member"]})})}}())},[o]),Object(n.useEffect)(function(){o(function(){var e=x.a.get("/api/paiements");return function(t){return t({type:_}),e.then(function(e){t({type:z,payload:e.data["hydra:member"]})})}}())},[o]),Object(n.useEffect)(function(){i.durees&&!C.duree&&P(Object(f.a)({},C,{duree:i.durees[0]}))},[C,i.durees,P]);var Z=function(){"edit"===d.type?o({type:G}):o({type:L}),P({currency:a,sousSecteurs:[],suggestions:[]}),y(0)},te=function(){y(function(e){return e+1})};function re(){(C.sousSecteurs.length||C.suggestions.length)&&C.mode&&C.offre&&("edit"===d.type?C.renew?o(function(e){var t=Object(f.a)({},e,{offre:e.offre["@id"],sousSecteurs:b.a.map(e.sousSecteurs,function(e,t){return e.value}),mode:e.mode,duree:e.duree["@id"],suggestions:e.suggestions}),a=x.a.post("/api/demande_abonnements",t);return function(e){return e({type:R}),a.then(function(t){return e({type:w,payload:t.data})}).catch(function(t){e({type:T}),e(Object(g.B)({message:b.a.map(m.y.parseApiErrors(t),function(e,t){return e+" "}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}(C)):o(function(e){var t=Object(f.a)({},e,{offre:e.offre["@id"],sousSecteurs:b.a.map(e.sousSecteurs,function(e,t){return e.value}),mode:e.mode,duree:e.duree["@id"],suggestions:e.suggestions}),a=x.a.put(e["@id"],t);return function(e){return e({type:R}),a.then(function(t){return e({type:w,payload:t.data})}).catch(function(t){e({type:T}),e(Object(g.B)({message:b.a.map(m.y.parseApiErrors(t),function(e,t){return e+" "}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}(C)):o(function(e){var t={offre:e.offre["@id"],sousSecteurs:b.a.map(e.sousSecteurs,function(e,t){return e.value}),mode:e.mode,duree:e.duree["@id"],suggestions:e.suggestions},a=x.a.post("/api/demande_abonnements",t);return function(e){return e({type:R}),a.then(function(t){return e({type:w,payload:t.data})}).catch(function(t){e({type:T}),e(Object(g.B)({message:b.a.map(m.y.parseApiErrors(t),function(e,t){return e+" "}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}(C)))}return c.a.createElement("div",null,c.a.createElement(he.a,Object.assign({fullWidth:!0,maxWidth:"md",classes:{paperScrollPaper:t.dialogPaper}},d.props,{disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:Z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"}),c.a.createElement(ye.a,{onClose:Z,className:"flex flex-col text-center",id:"alert-dialog-title"},c.a.createElement("p",{className:"font-extrabold uppercase"},"Activation d'abonnement"),M&&c.a.createElement(Oe.a,{activeStep:h,alternativeLabel:!0},M.map(function(e){return c.a.createElement(Se.a,{key:e},c.a.createElement(Ae.a,null,e))}))),c.a.createElement(ve.a,{dividers:!0,className:Object(oe.a)("min-h-xs text-center",t.dialogPaper)},c.a.createElement(l.a,{variant:"h6"},C.offre&&h<=2&&C.offre.name),c.a.createElement("div",null,"new"===d.type?function(e){switch(e){case 0:return c.a.createElement(Ce,{durees:i.durees,loading:i.loadingDuree,selected:C,handleGetMontantPerMonth:$,handlegetMontantPerYear:X,onChange:V});case 1:return c.a.createElement(_e,{commande:i,selected:C,handleChipChange:H,handleChangeAutre:U,handleAddSuggestion:Q,handleDeleteActivite:W});case 2:return c.a.createElement(Ge,{commande:i,selected:C,handleChangeModePaiement:I});case 3:return c.a.createElement(Je,{selected:C,handleGetMontantPerMonth:$});case 4:return c.a.createElement("div",{className:"flex flex-col  items-center justify-center h-full"},c.a.createElement(ee.a,{style:{color:Xe.a[600],fontSize:120}},"done"),c.a.createElement(l.a,{color:"textSecondary",variant:"h5"},"Votre commande d'abonnement est bien enregistr\xe9e, un mail vous sera envoy\xe9 d\xe8s la validation de votre commande. ",c.a.createElement("br",null),"Nous vous remercions pour votre confiance!"));default:return""}}(h):function(e){switch(e){case 0:return c.a.createElement(et,{commande:i,selected:C,onChange:q});case 1:return c.a.createElement(Ce,{durees:i.durees,loading:i.loadingDuree,selected:C,handleGetMontantPerMonth:$,handlegetMontantPerYear:X,onChange:V});case 2:return c.a.createElement(_e,{commande:i,selected:C,handleChipChange:H,handleChangeAutre:U,handleAddSuggestion:Q,handleDeleteActivite:W});case 3:return c.a.createElement(Ge,{commande:i,selected:C,handleChangeModePaiement:I});case 4:return c.a.createElement(Je,{selected:C,handleGetMontantPerMonth:$});case 5:return c.a.createElement("div",{className:"flex flex-col  items-center justify-center h-full"},c.a.createElement(ee.a,{style:{color:Xe.a[600],fontSize:120}},"done"),c.a.createElement(l.a,{color:"textSecondary",variant:"h5"},"Votre commande d'abonnement est bien enregistr\xe9e, un mail vous sera envoy\xe9 d\xe8s la validation de votre commande. ",c.a.createElement("br",null),"Nous vous remercions pour votre confiance!"));default:return""}}(h))),c.a.createElement(Ne.a,{className:"flex justify-between"},c.a.createElement(ae.a,{onClick:Z,disabled:i.loading,color:"primary"},h>=4&&"new"===d.type||h>=5&&"edit"===d.type?"Fermer":"Annuler"),c.a.createElement("div",null,c.a.createElement(ae.a,{disabled:0===h||i.loading,onClick:function(){y(function(e){return e-1})},className:Object(oe.a)(t.backButton,(h>=4&&"new"===d.type||h>=5&&"edit"===d.type)&&"hidden")},"pr\xe9c\xe9dent"),"new"===d.type?function(e){switch(e){case 0:return c.a.createElement(ae.a,{variant:"contained",color:"primary",onClick:te}," ","Suivant");case 1:return c.a.createElement(ae.a,{variant:"contained",color:"primary",disabled:!C.sousSecteurs.length&&!C.suggestions.length,onClick:te}," ","Suivant");case 2:return c.a.createElement(ae.a,{variant:"contained",color:"primary",disabled:!C.mode,onClick:te}," ","Suivant");case 3:return c.a.createElement(ae.a,{variant:"contained",color:"primary",disabled:i.loading||!C.sousSecteurs.length&&!C.suggestions.length||!C.mode||!C.offre,onClick:re},i.loading&&c.a.createElement(K.a,{size:24,className:t.buttonProgress}),"Passer la commande");default:return""}}(h):function(e){switch(e){case 0:case 1:return c.a.createElement(ae.a,{variant:"contained",color:"primary",onClick:te}," ","Suivant");case 2:return c.a.createElement(ae.a,{variant:"contained",color:"primary",disabled:!C.sousSecteurs.length&&!C.suggestions.length,onClick:te}," ","Suivant");case 3:return c.a.createElement(ae.a,{variant:"contained",color:"primary",disabled:!C.mode,onClick:te}," ","Suivant");case 4:return c.a.createElement(ae.a,{variant:"contained",color:"primary",disabled:i.loading||!C.sousSecteurs.length&&!C.suggestions.length||!C.mode||!C.offre,onClick:re},i.loading&&c.a.createElement(K.a,{size:24,className:t.buttonProgress}),"Passer la commande");default:return""}}(h)))))},rt=Object(i.a)(function(e){return{content:{"& canvas":{maxHeight:"100%"}}}});t.default=Object(u.a)("billingApp",$)(function(e){var t=rt(e),a=Object(J.b)(),i=Object(n.useRef)(null),u=Object(n.useState)(0),p=Object(r.a)(u,2),E=p[0],f=p[1],x=Object(J.c)(function(e){return e.auth.user}),g=e.match.params.tab,b=Object(J.c)(function(e){return e.auth.user.abonnement});return Object(n.useEffect)(function(){if(g)switch(g){case"pack":return f(2);case"renew":return function(){if(b){var e={offre:b.offre,sousSecteurs:b.sousSecteurs,mode:b.mode,duree:b.duree,type:!0,suggestions:[],renew:!0};a(H(e))}}();default:return f(0)}},[g,f]),c.a.createElement(c.a.Fragment,null,c.a.createElement(d.Helmet,null,c.a.createElement("title",null,"Facturations | Les Achats Industriels"),c.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),c.a.createElement("meta",{name:"googlebot",content:"noindex"})),c.a.createElement(m.p,{classes:{toolbar:"min-h-48 h-48",rightSidebar:"w-288",content:t.content},header:c.a.createElement("div",{className:"flex flex-col justify-between flex-1 px-24 pt-24"},c.a.createElement("div",{className:"flex justify-between"},c.a.createElement(l.a,{className:"py-0 sm:py-24",variant:"h4"},"Facturations"))),contentToolbar:c.a.createElement(s.a,{value:E,onChange:function(e,t){f(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"off",className:"w-full border-b-1 px-24"},c.a.createElement(o.a,{className:"text-14 font-600 normal-case",label:"Mon abonnement"}),c.a.createElement(o.a,{className:"text-14 font-600 normal-case",label:"Mon historique de facturation"}),c.a.createElement(o.a,{className:"text-14 font-600 normal-case",label:"Les Packs d'abonnements"})),content:c.a.createElement("div",{className:"p-12"},0===E&&c.a.createElement(de,null),2===E&&c.a.createElement(be,{currency:x.data?x.data.currency:m.z})),ref:i}),c.a.createElement(at,{currency:x.data?x.data.currency:m.z}))})}}]);