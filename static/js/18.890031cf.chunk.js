(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1048:function(e,t,a){"use strict";var n=a(0),r=function(){return(r=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var c=function(){return Math.random().toString(36).substring(2)},o=function(e){var t=e.rtl,a=e.speed,o=e.interval,l=e.style,i=e.width,s=e.height,d=e.baseUrl,m=e.gradientRatio,u=e.animate,p=e.ariaLabel,f=e.children,b=e.className,g=e.uniquekey,y=e.primaryColor,E=e.primaryOpacity,h=e.secondaryColor,v=e.secondaryOpacity,x=e.preserveAspectRatio,O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),w=g?g+"-idClip":c(),N=g?g+"-idGradient":c(),j=t?{transform:"scaleX(-1)"}:{},P="0; "+o+"; 1",D=a+"s";return Object(n.createElement)("svg",r({role:"img",style:r(r({},l),j),className:b,"aria-label":p||null,viewBox:"0 0 "+i+" "+s,preserveAspectRatio:x},O),p?Object(n.createElement)("title",null,p):null,Object(n.createElement)("rect",{x:"0",y:"0",width:i,height:s,clipPath:"url("+d+"#"+w+")",style:{fill:"url("+d+"#"+N+")"}}),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:w},f),Object(n.createElement)("linearGradient",{id:N},Object(n.createElement)("stop",{offset:"0%",stopColor:y,stopOpacity:E},u&&Object(n.createElement)("animate",{attributeName:"offset",values:-m+"; "+-m+"; 1",keyTimes:P,dur:D,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:h,stopOpacity:v},u&&Object(n.createElement)("animate",{attributeName:"offset",values:-m/2+"; "+-m/2+"; "+(1+m/2),keyTimes:P,dur:D,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:y,stopOpacity:E},u&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+m),keyTimes:P,dur:D,repeatCount:"indefinite"})))))},l={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},i=function(e){return Object(n.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},s=function(e){var t=r(r({},l),e);return Object(n.createElement)(o,r({},t),e.children||Object(n.createElement)(i,r({},t)))};t.a=s},1050:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext();t.a=r},1053:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext();t.a=r},1059:function(e,t,a){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(a(64))},1062:function(e,t,a){"use strict";var n=a(54),r="[PROJECT DASHBOARD APP] GET WIDGETS",c="[PROJECT DASHBOARD APP] REQUEST WIDGETS",o="[PROJECT DASHBOARD APP] GET_WIDGET6",l="[PROJECT DASHBOARD APP] REQUEST_WIDGET6",i="[PROJECT DASHBOARD APP] GET_WIDGET5",s="[PROJECT DASHBOARD APP] REQUEST_WIDGET5",d="[PROJECT DASHBOARD APP] REQUEST_TOP_BUDGET",m="[PROJECT DASHBOARD APP] GET_TOP_BUDGET",u="[PROJECT DASHBOARD APP] REQUEST_POTENTIEL",p="[PROJECT DASHBOARD APP] GET_POTENTIEL",f="[PROJECT DASHBOARD APP] REQUEST_PERSONNEL_POTENTIEL",b="[PROJECT DASHBOARD APP] GET_PERSONNEL_POTENTIEL";function g(){var e=n.a.get("/api/fournisseur/widgets");return function(t){return t({type:c}),e.then(function(e){return t({type:r,payload:e.data})})}}function y(e){var t=n.a.get("/api/fournisseur/doughnut?year=".concat(e));return function(e){return e({type:l}),t.then(function(t){return e({type:o,payload:t.data})})}}function E(){var e=n.a.get("/api/fournisseur/demandeDevisByProduct");return function(t){return t({type:s}),e.then(function(e){return t({type:i,payload:e.data})})}}function h(e){var t=n.a.get("/api/fournisseur/topbudget?year=".concat(e));return function(e){return e({type:d}),t.then(function(t){return e({type:m,payload:t.data})})}}function v(e){var t=n.a.get("/api/fournisseur/potentiel?year=".concat(e));return function(e){return e({type:u}),t.then(function(t){return e({type:p,payload:t.data})})}}function x(e){var t=n.a.get("/api/fournisseur/personnelsRank?year=".concat(e));return function(e){return e({type:f}),t.then(function(t){return e({type:b,payload:t.data})})}}a.d(t,"f",function(){return r}),a.d(t,"l",function(){return c}),a.d(t,"e",function(){return o}),a.d(t,"k",function(){return l}),a.d(t,"d",function(){return i}),a.d(t,"j",function(){return s}),a.d(t,"i",function(){return d}),a.d(t,"c",function(){return m}),a.d(t,"h",function(){return u}),a.d(t,"b",function(){return p}),a.d(t,"g",function(){return f}),a.d(t,"a",function(){return b}),a.d(t,"r",function(){return g}),a.d(t,"n",function(){return y}),a.d(t,"m",function(){return E}),a.d(t,"q",function(){return h}),a.d(t,"p",function(){return v}),a.d(t,"o",function(){return x})},1078:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(4),o=a.n(c),l=a(0),i=a.n(l),s=(a(1),a(2)),d=a(7),m=a(1053),u=i.a.forwardRef(function(e,t){var a=e.classes,n=e.className,c=e.component,l=void 0===c?"table":c,d=e.padding,u=void 0===d?"default":d,p=e.size,f=void 0===p?"medium":p,b=o()(e,["classes","className","component","padding","size"]),g=i.a.useMemo(function(){return{padding:u,size:f}},[u,f]);return i.a.createElement(m.a.Provider,{value:g},i.a.createElement(l,r()({ref:t,className:Object(s.a)(a.root,n)},b)))});t.a=Object(d.a)({root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0}},{name:"MuiTable"})(u)},1079:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(4),o=a.n(c),l=a(0),i=a.n(l),s=(a(1),a(2)),d=a(7),m=a(1050),u={variant:"head"},p=i.a.forwardRef(function(e,t){var a=e.classes,n=e.className,c=e.component,l=void 0===c?"thead":c,d=o()(e,["classes","className","component"]);return i.a.createElement(m.a.Provider,{value:u},i.a.createElement(l,r()({className:Object(s.a)(a.root,n),ref:t},d)))});t.a=Object(d.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(p)},1080:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(4),o=a.n(c),l=a(0),i=a.n(l),s=(a(1),a(2)),d=a(7),m=a(1050),u=i.a.forwardRef(function(e,t){var a=e.classes,n=e.className,c=e.component,l=void 0===c?"tr":c,d=e.hover,u=void 0!==d&&d,p=e.selected,f=void 0!==p&&p,b=o()(e,["classes","className","component","hover","selected"]),g=i.a.useContext(m.a);return i.a.createElement(l,r()({ref:t,className:Object(s.a)(a.root,n,g&&["head"===g.variant&&a.head,"footer"===g.variant&&a.footer],u&&a.hover,f&&a.selected)},b))});t.a=Object(d.a)(function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:"none","&$selected":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.08)"},"&$hover:hover":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.07)":"rgba(255, 255, 255, 0.14)"}},selected:{},hover:{},head:{},footer:{}}},{name:"MuiTableRow"})(u)},1081:function(e,t,a){"use strict";var n=a(4),r=a.n(n),c=a(3),o=a.n(c),l=a(0),i=a.n(l),s=(a(1),a(2)),d=a(7),m=a(9),u=a(14),p=a(1053),f=a(1050),b=i.a.forwardRef(function(e,t){var a,n=e.align,c=void 0===n?"inherit":n,l=e.classes,d=e.className,u=e.component,b=e.padding,g=e.scope,y=e.size,E=e.sortDirection,h=e.variant,v=r()(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),x=i.a.useContext(p.a),O=i.a.useContext(f.a);a=u||(O&&"head"===O.variant?"th":"td");var w=g;!w&&O&&"head"===O.variant&&(w="col");var N=b||(x&&x.padding?x.padding:"default"),j=y||(x&&x.size?x.size:"medium"),P=null;return E&&(P="asc"===E?"ascending":"descending"),i.a.createElement(a,o()({ref:t,className:Object(s.a)(l.root,(h?"head"===h:O&&"head"===O.variant)&&l.head,(h?"body"===h:O&&"body"===O.variant)&&l.body,(h?"footer"===h:O&&"footer"===O.variant)&&l.footer,"inherit"!==c&&l["align".concat(Object(m.a)(c))],"default"!==N&&l["padding".concat(Object(m.a)(N))],"medium"!==j&&l["size".concat(Object(m.a)(j))],d),"aria-sort":P,scope:w},v))});t.a=Object(d.a)(function(e){return{root:o()({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(u.e)(Object(u.c)(e.palette.divider,1),.88):Object(u.a)(Object(u.c)(e.palette.divider,1),.68)),textAlign:"left",padding:"14px 40px 14px 16px","&:last-child":{paddingRight:16}}),head:{color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),lineHeight:e.typography.pxToRem(21),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"}}},{name:"MuiTableCell"})(b)},1082:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(4),o=a.n(c),l=a(0),i=a.n(l),s=(a(1),a(2)),d=a(7),m=a(1050),u={variant:"body"},p=i.a.forwardRef(function(e,t){var a=e.classes,n=e.className,c=e.component,l=void 0===c?"tbody":c,d=o()(e,["classes","className","component"]);return i.a.createElement(m.a.Provider,{value:u},i.a.createElement(l,r()({className:Object(s.a)(a.root,n),ref:t},d)))});t.a=Object(d.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(p)},1110:function(e,t,a){"use strict";var n=a(46),r=a(8),c=a(1062),o={data:[],dataDDP:[],doughnut:[],potentiels:[],personnelPotentiels:[],topBudget:null,loading:!1,loadingDDP:!1,loadingDoughnut:!1,loadingTopBudget:!1,loadingPotentiels:!1,loadingPersonnelPotentiels:!1},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.l:return Object(r.a)({},e,{data:[],loading:!0});case c.f:return Object(r.a)({},e,{data:t.payload,loading:!1});case c.j:return Object(r.a)({},e,{dataDDP:[],loadingDDP:!0});case c.d:return Object(r.a)({},e,{dataDDP:t.payload,loadingDDP:!1});case c.k:return Object(r.a)({},e,{doughnut:[],loadingDoughnut:!0});case c.e:return Object(r.a)({},e,{doughnut:t.payload,loadingDoughnut:!1});case c.i:return Object(r.a)({},e,{topBudget:null,loadingTopBudget:!0});case c.c:return Object(r.a)({},e,{topBudget:t.payload,loadingTopBudget:!1});case c.h:return Object(r.a)({},e,{potentiels:[],loadingPotentiels:!0});case c.b:return Object(r.a)({},e,{potentiels:t.payload,loadingPotentiels:!1});case c.g:return Object(r.a)({},e,{personnelPotentiels:[],loadingPersonnelPotentiels:!0});case c.a:return Object(r.a)({},e,{personnelPotentiels:t.payload,loadingPersonnelPotentiels:!1});default:return e}},i=Object(n.d)({widgets:l});t.a=i},1383:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a(0),c=a.n(r),o=a(1041),l=a(1031),i=a(1037),s=a(98),d=a(1038),m=a(1035),u=a(1044),p=a(1027),f=a(40),b=a(139),g=a(972),y=a(64),E=a.n(y),h=a(6),v=a(1062),x=a(1048);var O=c.a.memo(function(e){var t=Object(h.b)(),a=Object(h.c)(function(e){return e.dashboardApp.widgets}),o=Object(h.c)(function(e){return e.auth.user}),l=Object(r.useState)(E()().format("Y")),i=Object(n.a)(l,2),d=i[0],m=i[1];return Object(r.useEffect)(function(){t(v.q(d))},[t,d]),c.a.createElement(c.a.Fragment,null,!1===a.loadingTopBudget?c.a.createElement(b.a,{className:"w-full rounded-8 shadow-none border-1"},c.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},c.a.createElement(s.a,{className:"text-16 font-bold"},"Top budget gagn\xe9 en ",d," "),c.a.createElement(g.a,{native:!0,value:d,onChange:function(e){m(e.target.value)},inputProps:{name:"currentRange"},disableUnderline:!0},Object.entries({0:E()().format("Y"),1:E()().subtract(1,"year").format("Y"),2:E()().subtract(2,"year").format("Y")}).map(function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return c.a.createElement("option",{key:a,value:r},r)}))),c.a.createElement("div",{className:"text-center px-24 py-32"},c.a.createElement(s.a,{className:"text-24 leading-tight",color:"textSecondary"},d),c.a.createElement(s.a,{className:"text-40 break-all leading-tight text-green"},a.topBudget&&parseFloat(a.topBudget).toLocaleString(void 0,{minimumFractionDigits:2}),"\u2002",o.data.currency))):c.a.createElement(x.a,{height:380,width:250,speed:3,primaryColor:"#d9d9d9",secondaryColor:"#ecebeb"},c.a.createElement("circle",{cx:"93",cy:"53",r:"14"}),c.a.createElement("circle",{cx:"127",cy:"53",r:"14"}),c.a.createElement("circle",{cx:"161",cy:"53",r:"14"})))}),w=a(1020),N=a(250);var j=c.a.memo(function(e){var t=Object(h.b)(),a=Object(h.c)(function(e){return e.dashboardApp.widgets}),o=Object(h.c)(function(e){return e.auth.user}),l={legend:{display:!1},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0,display:!0,gridLines:{display:!1},categoryPercentage:1}],yAxes:[{display:!1}]}},i=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"],d=Object(r.useState)(E()().format("Y")),m=Object(n.a)(d,2),u=m[0],p=m[1];return Object(r.useEffect)(function(){t(v.p(u))},[t,u]),c.a.createElement(c.a.Fragment,null,!1===a.loadingPotentiels&&a.potentiels.gagner?c.a.createElement(b.a,{className:"w-full rounded-8 shadow-none border-1"},c.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},c.a.createElement(s.a,{className:"text-16 font-bold"},"Vos statistques"),c.a.createElement(g.a,{native:!0,value:u,onChange:function(e){p(e.target.value)},inputProps:{name:"currentRange"},disableUnderline:!0},Object.entries({0:E()().format("Y"),1:E()().subtract(1,"year").format("Y"),2:E()().subtract(2,"year").format("Y")}).map(function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return c.a.createElement("option",{key:a,value:r},r)}))),["gagner","perdue"].map(function(e){return c.a.createElement("div",{className:"flex flex-wrap items-center w-full p-8",key:e},c.a.createElement("div",{className:"flex flex-col w-full sm:w-1/3 p-8"},c.a.createElement(s.a,{className:"text-14",color:"textSecondary"},a.potentiels[e].title),c.a.createElement("div",{className:"flex items-center"},c.a.createElement(s.a,{className:"gagner"===e?"text-32 truncate text-green":"text-32 truncate "},parseFloat(a.potentiels[e].somme).toLocaleString(void 0,{minimumFractionDigits:2})),c.a.createElement(s.a,{className:"text-20 ml-4",color:"textSecondary"},o.data?o.data.currency:""))),c.a.createElement("div",{className:"flex w-full sm:w-2/3 p-8"},c.a.createElement("div",{className:"h-96 w-full"},c.a.createElement(N.c,{data:{labels:i,datasets:a.potentiels[e].datasets},options:l}))))}),c.a.createElement(w.a,null),c.a.createElement("div",{className:"flex flex-col w-full px-16 py-24"},c.a.createElement(s.a,{className:"text-14",color:"textSecondary"},"Potentiels"),c.a.createElement("div",{className:"flex items-center"},c.a.createElement(s.a,{className:"text-32"},parseFloat(a.potentiels.total).toLocaleString(void 0,{minimumFractionDigits:2})),c.a.createElement(s.a,{className:"text-32 ml-4",color:"textSecondary"},o.data?o.data.currency:"")))):c.a.createElement(x.a,{height:380,width:800,speed:3,primaryColor:"#d9d9d9",secondaryColor:"#ecebeb"},c.a.createElement("rect",{x:"58",y:"129",rx:"0",ry:"0",width:"479",height:"6"}),c.a.createElement("rect",{x:"78",y:"147",rx:"0",ry:"0",width:"188",height:"26"}),c.a.createElement("rect",{x:"226",y:"43",rx:"0",ry:"0",width:"300",height:"25"}),c.a.createElement("rect",{x:"227",y:"76",rx:"0",ry:"0",width:"299",height:"25"}),c.a.createElement("circle",{cx:"93",cy:"53",r:"14"}),c.a.createElement("circle",{cx:"127",cy:"53",r:"14"}),c.a.createElement("circle",{cx:"161",cy:"53",r:"14"}),c.a.createElement("circle",{cx:"161",cy:"90",r:"14"}),c.a.createElement("circle",{cx:"127",cy:"90",r:"14"}),c.a.createElement("circle",{cx:"93",cy:"90",r:"14"})))}),P=a(1078),D=a(1079),A=a(1080),T=a(1081),C=a(1082),R=function(e){var t=Math.random()*(1-.7)+.7;return c.a.createElement(x.a,Object.assign({height:40,width:1060,speed:2,primaryColor:"#d9d9d9",secondaryColor:"#ecebeb"},e),c.a.createElement("rect",{x:"0",y:"15",rx:"4",ry:"4",width:"6",height:"6.4"}),c.a.createElement("rect",{x:"34",y:"13",rx:"6",ry:"6",width:200*t,height:"12"}),c.a.createElement("rect",{x:"633",y:"13",rx:"6",ry:"6",width:23*t,height:"12"}),c.a.createElement("rect",{x:"653",y:"13",rx:"6",ry:"6",width:78*t,height:"12"}),c.a.createElement("rect",{x:"755",y:"13",rx:"6",ry:"6",width:117*t,height:"12"}),c.a.createElement("rect",{x:"938",y:"13",rx:"6",ry:"6",width:83*t,height:"12"}),c.a.createElement("rect",{x:"0",y:"39",rx:"6",ry:"6",width:"1060",height:".3"}))};var S=c.a.memo(function(e){var t=Object(h.b)(),a=E()().format("M"),o=Object(h.c)(function(e){return e.dashboardApp.widgets}),l=Object(h.c)(function(e){return e.auth.user}),i=Object(r.useState)(E()().format("Y")),d=Object(n.a)(i,2),m=d[0],u=d[1],p=E()().format("Y"),y=Object(r.useState)(null),x=Object(n.a)(y,2),O=x[0],w=x[1];return Object(r.useEffect)(function(){t(v.o(m))},[t,m]),c.a.createElement(c.a.Fragment,null,!1===o.loadingPersonnelPotentiels?c.a.createElement(b.a,{className:"w-full rounded-8 shadow-none border-1"},c.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},c.a.createElement(s.a,{className:"text-24"},"Le suivi de l'ann\xe9e ",m),c.a.createElement("div",{className:"flex"},c.a.createElement(s.a,{className:"text-11 font-500 rounded-4 text-white bg-blue px-8 py-4"},o.personnelPotentiels.length+" Agence(s) / Service(s)"),c.a.createElement(g.a,{native:!0,className:"ml-4  pl-4 text-11",value:m,onChange:function(e){u(e.target.value)},inputProps:{name:"currentRange"},disableUnderline:!0},Object.entries({0:E()().format("Y"),1:E()().subtract(1,"year").format("Y"),2:E()().subtract(2,"year").format("Y")}).map(function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return c.a.createElement("option",{className:"text-12 text-black",key:a,value:r},r)})))),c.a.createElement("div",{className:"table-responsive"},c.a.createElement(P.a,{className:"w-full min-w-full ",size:"small"},c.a.createElement(D.a,null,c.a.createElement(A.a,null,c.a.createElement(T.a,{className:"whitespace-no-wrap"},"Agence / Service, NOM & Pr\xe9nom"),c.a.createElement(T.a,{className:"whitespace-no-wrap"},"Nbr Demandes affect\xe9es"),c.a.createElement(T.a,{className:"whitespace-no-wrap"},"Nbr Demandes gagn\xe9es"),c.a.createElement(T.a,{className:"whitespace-no-wrap"},"Nbr Demandes perdues"),c.a.createElement(T.a,{className:"whitespace-no-wrap"},"Budgets gagn\xe9s"),c.a.createElement(T.a,{className:"whitespace-no-wrap"},"Budgets perdues"),c.a.createElement(T.a,{className:"whitespace-no-wrap"},"Potentiels"))),c.a.createElement(C.a,null,o.personnelPotentiels.map(function(e){return c.a.createElement(c.a.Fragment,{key:e.personnel.id},c.a.createElement(A.a,{onClick:function(){return t=e.personnel.id,void w(O===t?null:t);var t},className:"cursor-pointer hover:bg-blue-lightest"},c.a.createElement(T.a,{component:"th",scope:"row",className:"truncate font-600 font-bold"},e.personnel.agence,", ",e.personnel.name),c.a.createElement(T.a,{component:"th",scope:"row",className:"truncate"},e.demandeAffecte.count?e.demandeAffecte.count:0),c.a.createElement(T.a,{component:"th",scope:"row",className:"truncate"},e.demandeGagner.count?e.demandeGagner.count:0),c.a.createElement(T.a,{component:"th",scope:"row",className:"truncate"},e.demandePerdue.count?e.demandePerdue.count:0),c.a.createElement(T.a,{component:"th",scope:"row",className:"truncate text-green"},e.demandeGagner.budget?e.demandeGagner.budget:0,"\u2002",l.data.currency),c.a.createElement(T.a,{component:"th",scope:"row",className:"truncate text-red"},e.demandePerdue.budget?e.demandePerdue.budget:0,"\u2002",l.data.currency),c.a.createElement(T.a,{component:"th",scope:"row",className:"truncate font-bold text-blue"},e.demandeAffecte.budget?e.demandeAffecte.budget:0,"\u2002",l.data.currency)),O===e.personnel.id?c.a.createElement(f.d,{animation:"transition.fadeIn",duration:400,delay:200},c.a.createElement(A.a,null,c.a.createElement(T.a,{component:"th",scope:"row",colSpan:7,className:"truncate font-bold text-blue"},c.a.createElement(P.a,{className:"w-full min-w-full striped hovered"},c.a.createElement(D.a,{className:"bg-gray-200"},c.a.createElement(A.a,null,["#","Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"].map(function(e,t){return c.a.createElement(T.a,{key:e,className:parseInt(a)===t?"bg-orange font-bold text-white":""},e)}))),c.a.createElement(C.a,null,c.a.createElement(A.a,null,c.a.createElement(T.a,{component:"th",scope:"row",className:"truncate text-green font-bold"},"Budgets gagn\xe9s"),e.gagnerParMois.map(function(e,t){return c.a.createElement(T.a,{key:t+1,component:"th",scope:"row",className:parseInt(a)===t+1?"bg-orange truncate font-bold text-white":"truncate text-green"},parseInt(a)<t+1&&p===m?"":e+" "+l.data.currency)})),c.a.createElement(A.a,null,c.a.createElement(T.a,{component:"th",scope:"row",className:"truncate text-blue font-bold"},"Potentiels"),e.potentielParMois.map(function(e,t){return c.a.createElement(T.a,{key:t+2,component:"th",scope:"row",className:parseInt(a)===t+1?"bg-orange truncate font-bold text-white":"truncate text-blue"},parseInt(a)<t+1&&p===m?"":e+" "+l.data.currency)}))))))):null)}))))):Array(6).fill("").map(function(e,t){return c.a.createElement(R,{key:t,style:{opacity:Number(2/t).toFixed(1)}})}))}),_=a(345),k=a(346),L=a(140),M=a(1110),B=a(18),Y=(a(1059),Object(_.a)(function(e){return{content:{"& canvas":{maxHeight:"100%"}},selectedProject:{background:e.palette.primary.main,color:e.palette.primary.contrastText,borderRadius:"8px 0 0 0"},projectMenuButton:{background:e.palette.primary.main,color:e.palette.primary.contrastText,borderRadius:"0 8px 0 0",marginLeft:1}}}));t.default=Object(L.a)("dashboardApp",M.a)(function(e){var t=Y(e),a=Object(r.useRef)(null),b=Object(r.useState)(0),g=Object(n.a)(b,2),y=g[0],v=g[1],x=Object(h.c)(function(e){return e.auth.user.abonnement}),w=Object(h.c)(function(e){return e.auth.user.loadingAbonnement}),N=Object(r.useState)(!1),P=Object(n.a)(N,2),D=P[0],A=P[1],T=Object(r.useState)(!0),C=Object(n.a)(T,2),R=C[0],_=C[1],L=Object(r.useState)(!1),M=Object(n.a)(L,2),H=M[0],J=M[1],G=Object(r.useState)(0),F=Object(n.a)(G,2),I=(F[0],F[1]);if(Object(r.useEffect)(function(){if(x)if(x.statut){var e=E()(x.expired).diff(E()(),"days");I(e),e<=0&&J(!0),x.statut&&e>0&&A(!0)}else _(!1)},[x]),w)return c.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},c.a.createElement(o.a,{color:"secondary"})," \u2002 Chargement ...");var U=function(){e.history.push("/dashboard")};return!D||x&&!x.offre.hasCommercial?R?H?c.a.createElement(l.a,{open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(i.a,{className:"text-center"},c.a.createElement(s.a,{variant:"h6",className:"my-16 text-red"},"Votre abonnement a expir\xe9 ",E()(x.expired).fromNow()),c.a.createElement(s.a,{color:"textSecondary",className:"mb-16"},"Pour le renouveler, vous pouvez ajouter une commande en cliquant sur le bouton suivant"),c.a.createElement(m.a,{component:B.a,to:"/billing/renew",className:"whitespace-no-wrap",color:"secondary",variant:"contained"},c.a.createElement("span",{className:""},"Renouveler l'abonnement"))),c.a.createElement(d.a,null,c.a.createElement(m.a,{onClick:U,color:"primary"},"Fermer"))):x&&!x.offre.hasCommercial?c.a.createElement(l.a,{open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(i.a,{className:"text-center"},c.a.createElement(s.a,{variant:"h6",className:"my-16"},"Mise \xe0 niveau"),c.a.createElement(s.a,{color:"textSecondary",className:"mb-16"},"Ce service n'est pas accessible par votre Pack d'abonnement ",c.a.createElement("strong",{className:"uppercase"},x.offre&&x.offre.name),", nous vous invitons \xe0 mettre \xe0 niveau votre Pack d'abonnement pour b\xe9n\xe9ficier de cette fonctionnalit\xe9."),c.a.createElement(m.a,{component:B.a,to:"/billing/pack",className:"whitespace-no-wrap",color:"secondary",variant:"contained"},c.a.createElement("span",{className:""},"mise \xe0 niveau"))),c.a.createElement(d.a,null,c.a.createElement(m.a,{onClick:U,color:"primary"},"Fermer"))):c.a.createElement(l.a,{open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(i.a,null,c.a.createElement(s.a,{variant:"h4",className:"my-16"},"Reserv\xe9 \xe0 nos abonn\xe9s"),c.a.createElement(s.a,{color:"textSecondary",className:"mb-16"},"Ce service n'est pas accessible par votre Pack d'abonnement, nous vous invitons \xe0 mettre \xe0 niveau votre Pack d'abonnement pour b\xe9n\xe9ficier de cette fonctionnalit\xe9."),c.a.createElement(m.a,{component:B.a,to:"/billing/pack",className:"whitespace-no-wrap",color:"secondary",variant:"contained"},c.a.createElement("span",{className:""},"Commander abonnement"))),c.a.createElement(d.a,null,c.a.createElement(m.a,{onClick:U,color:"primary"},"Fermer"))):c.a.createElement(l.a,{open:!0,disableBackdropClick:!0,disableEscapeKeyDown:!0,onClose:U,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(i.a,{className:"text-center"},c.a.createElement(s.a,{variant:"h6",className:"my-16 text-red"},"Votre abonnement est d\xe9sactiv\xe9"),c.a.createElement(s.a,{color:"textSecondary",className:"mb-16"},"Pour le r\xe9activiter nous vous prions de nous contacter sur l'adresse mail suivante ",c.a.createElement("strong",null,"administrateur@lesachatsindustriels.com"))),c.a.createElement(d.a,null,c.a.createElement(m.a,{onClick:U,color:"primary"},"Fermer"))):c.a.createElement(c.a.Fragment,null,c.a.createElement(k.Helmet,null,c.a.createElement("title",null,"Suivi des ventes de vos Agences / Services | Les Achats Industriels"),c.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),c.a.createElement("meta",{name:"googlebot",content:"noindex"})),c.a.createElement(f.p,{classes:{header:"min-h-160 h-160",toolbar:"min-h-48 h-48",rightSidebar:"w-288",content:t.content},header:c.a.createElement("div",{className:"flex flex-col justify-between flex-1 px-24 pt-24"},c.a.createElement("div",{className:"flex justify-between"},c.a.createElement(s.a,{className:"py-0 sm:py-24",variant:"h4"},"Suivi des ventes de vos Agences / Services"))),contentToolbar:c.a.createElement(u.a,{value:y,onChange:function(e,t){v(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"off",className:"w-full border-b-1 px-24"},c.a.createElement(p.a,{className:"text-14 font-600 normal-case",label:"Agence / Service"}),c.a.createElement(p.a,{className:"text-14 font-600 normal-case",label:"R\xe9sum\xe9 du budget"})),content:c.a.createElement("div",{className:"p-12"},0===y&&c.a.createElement(S,null),1===y&&c.a.createElement("div",{className:"flex flex-wrap"},c.a.createElement("div",{className:"widget w-full sm:w-1/3 p-16"},c.a.createElement(O,null)),c.a.createElement("div",{className:"widget w-full sm:w-2/3 p-16"},c.a.createElement(j,null)))),ref:a}))})}}]);