(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{1290:function(e,t,a){"use strict";var r=a(50),n=a(102);const s="[FORGOT PASSWORD APP] SUCCESS_RESET",o="[FORGOT PASSWORD APP] REQUEST_RESET",l="[FORGOT PASSWORD APP] ERROR_RESET";function i(e,t){return a=>{return a({type:o}),r.a.post("/api/request-forgot",e).then(e=>{a({type:s}),t.push("/email-reset")}).catch(e=>a({type:l,payload:n.a.parseApiErrors(e)}))}}var c=a(33);const m="[RESET PASSWORD APP] SUCCESS_RESET",d="[RESET PASSWORD APP] REQUEST_RESET",u="[RESET PASSWORD APP] ERROR_RESET";function p(e,t,a){let s={password:e.password,token:t};return e=>{return e({type:d}),r.a.post("/api/reset-password",s).then(t=>{e({type:m}),e(Object(c.B)({message:"Votre mot de passe \xe0 \xe9t\xe9 chang\xe9 avec succ\xe8s",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),a.push("/login")}).catch(t=>e({type:u,payload:n.a.parseApiErrors(t)}))}}a.d(t,"e",function(){return s}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return l}),a.d(t,"g",function(){return i}),a.d(t,"f",function(){return m}),a.d(t,"d",function(){return d}),a.d(t,"b",function(){return u}),a.d(t,"h",function(){return p})},1349:function(e,t,a){"use strict";var r=a(43),n=a(1290);const s={loading:!1,error:""};var o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.c:return{...e,loading:!0};case n.e:return{...e,loading:!1,error:""};case n.a:return{...e,loading:!1,error:t.payload};default:return e}};const l={loading:!1,error:""};var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.d:return{...e,loading:!0};case n.f:return{...e,loading:!1,error:""};case n.b:return{...e,loading:!1,error:t.payload};default:return e}};const c=Object(r.d)({forgotpassword:o,resetpassword:i});t.a=c},1497:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(89),o=a(1217),l=a(1235),i=a(1231),c=a(1140),m=a(1227),d=a(1233),u=a(1204),p=a(1157),E=a(83),f=a(39),g=a(2),w=a(16),h=a(364),S=a(51),R=a.n(S),b=a(7),v=a(1290),x=a(1349),O=a(136),A=a(33),P=a(369),y=a.n(P),T=a(370),N=a.n(T);const I=Object(p.a)(e=>({root:{background:"linear-gradient(to right, "+e.palette.primary.dark+" 0%, "+Object(E.darken)(e.palette.primary.dark,.5)+" 100%)",color:e.palette.primary.contrastText},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));t.default=Object(O.a)("resetpassword",x.a)(function(e){const t=Object(b.b)(),a=Object(b.c)(e=>{let{resetpassword:t}=e;return t.resetpassword}),[p,E]=Object(r.useState)(!1),S=Object(r.useRef)(null),x=I(),O=e.match.params,{token:P}=O,[T,j]=Object(r.useState)({showPassword:!1}),D=()=>{j({...T,showPassword:!T.showPassword})},k=e=>{e.preventDefault()};function L(){E(!1)}return Object(r.useEffect)(()=>{a.error&&a.error.password&&(S.current.updateInputsWithError({...a.error}),L()),a.error&&a.error.Erreur&&(t(Object(A.B)({message:"Token invalide",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"})),L())},[a.error]),n.a.createElement("div",{className:Object(g.a)(x.root,"flex flex-col flex-auto flex-shrink-0 p-24 md:flex-row md:p-0")},n.a.createElement(h.Helmet,null,n.a.createElement("title",null,"R\xe9initialiser votre mot de passe | Les Achats Industriels"),n.a.createElement("meta",{name:"description",content:"Modifier ou r\xe9initialiser votre mot de passe"})),n.a.createElement("div",{className:"flex flex-col flex-grow-0 items-center text-white p-16 text-center md:p-128 md:items-start md:flex-shrink-0 md:flex-1 md:text-left"},n.a.createElement(f.d,{animation:"transition.expandIn"},n.a.createElement("img",{className:"w-128 mb-32",src:"assets/images/logos/icon.png",alt:"logo"})),n.a.createElement(f.d,{animation:"transition.slideUpIn",delay:300},n.a.createElement(s.a,{variant:"h3",color:"inherit",className:"font-light"},"LES ACHATS INDUSTRIELS")),n.a.createElement(f.d,{delay:400},n.a.createElement(s.a,{variant:"subtitle1",color:"inherit",className:"max-w-512 mt-16"},"LA PLACE DE MARCHE B TO B N\xb0 1 AU MAROC, DES ACHETEURS ET FOURNISSEURS AVERTIS."))),n.a.createElement(f.d,{animation:{translateX:[0,"100%"]}},n.a.createElement(o.a,{className:"w-full max-w-400 mx-auto m-16 md:m-0",square:!0},n.a.createElement(l.a,{className:"flex flex-col items-center justify-center p-32 md:p-48 md:pt-128 "},n.a.createElement(s.a,{variant:"h6",className:"md:w-full mb-32 text-center"},"R\xc9INITIALISER VOTRE MOT DE PASSE"),n.a.createElement(R.a,{onValidSubmit:function(a){t(v.h(a,P,e.history)),L()},onValid:function(){E(!0)},onInvalid:L,ref:S,className:"flex flex-col justify-center w-full"},n.a.createElement(f.F,{className:"mb-16",name:"password",type:T.showPassword?"text":"password",label:"Mot de passe",validations:{minLength:6,matchRegexp:/(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).{6,}/},validationErrors:{minLength:"La longueur minimale des caract\xe8res est de 6",matchRegexp:"Le mot de passe doit \xeatre de 6 caract\xe8res minimum et contenir un lettre majuscules et des lettres minuscules et au moins un chiffre"},InputProps:{endAdornment:n.a.createElement(i.a,{position:"end"},n.a.createElement(c.a,{"aria-label":"toggle password visibility",onClick:D,onMouseDown:k},T.showPassword?n.a.createElement(y.a,null):n.a.createElement(N.a,null)))},variant:"outlined",required:!0}),n.a.createElement(f.F,{className:"mb-16",type:T.showPassword?"text":"password",name:"confirmpassword",label:"Confirmer le mot de passe",validations:"equalsField:password",validationErrors:{equalsField:"les mots de passe saisis ne sont pas identiques"},InputProps:{endAdornment:n.a.createElement(i.a,{position:"end"},n.a.createElement(c.a,{"aria-label":"toggle password visibility",onClick:D,onMouseDown:k},T.showPassword?n.a.createElement(y.a,null):n.a.createElement(N.a,null)))},variant:"outlined",required:!0}),n.a.createElement(m.a,{type:"submit",variant:"contained",name:"submit",color:"primary",className:"w-full mx-auto mt-16 normal-case","aria-label":"LOG IN",disabled:!p||a.loading,value:"legacy"},"R\xc9INITIALISER",a.loading&&n.a.createElement(d.a,{size:24,className:x.buttonProgress}))),n.a.createElement("div",{className:"flex flex-col items-center justify-center pt-32"},n.a.createElement(w.a,{className:"font-medium text-blue",to:"/login"},"Revenir \xe0 la page de connexion"),n.a.createElement(w.a,{className:"font-medium mt-8 flex items-end text-blue",to:"/"},n.a.createElement(u.a,{className:"mr-4"},"home")," ",n.a.createElement("span",null,"Accueil"))),n.a.createElement("div",{className:"flex flex-col items-center justify-center pt-32 pb-24"})))))})}}]);