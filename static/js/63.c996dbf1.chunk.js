(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1048:function(e,t,a){"use strict";var n=a(0),r=function(){return(r=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var l=function(){return Math.random().toString(36).substring(2)},c=function(e){var t=e.rtl,a=e.speed,c=e.interval,i=e.style,o=e.width,s=e.height,d=e.baseUrl,u=e.gradientRatio,m=e.animate,p=e.ariaLabel,f=e.children,E=e.className,y=e.uniquekey,b=e.primaryColor,g=e.primaryOpacity,h=e.secondaryColor,x=e.secondaryOpacity,w=e.preserveAspectRatio,O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),v=y?y+"-idClip":l(),P=y?y+"-idGradient":l(),N=t?{transform:"scaleX(-1)"}:{},j="0; "+c+"; 1",D=a+"s";return Object(n.createElement)("svg",r({role:"img",style:r(r({},i),N),className:E,"aria-label":p||null,viewBox:"0 0 "+o+" "+s,preserveAspectRatio:w},O),p?Object(n.createElement)("title",null,p):null,Object(n.createElement)("rect",{x:"0",y:"0",width:o,height:s,clipPath:"url("+d+"#"+v+")",style:{fill:"url("+d+"#"+P+")"}}),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:v},f),Object(n.createElement)("linearGradient",{id:P},Object(n.createElement)("stop",{offset:"0%",stopColor:b,stopOpacity:g},m&&Object(n.createElement)("animate",{attributeName:"offset",values:-u+"; "+-u+"; 1",keyTimes:j,dur:D,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:h,stopOpacity:x},m&&Object(n.createElement)("animate",{attributeName:"offset",values:-u/2+"; "+-u/2+"; "+(1+u/2),keyTimes:j,dur:D,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:b,stopOpacity:g},m&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+u),keyTimes:j,dur:D,repeatCount:"indefinite"})))))},i={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},o=function(e){return Object(n.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},s=function(e){var t=r(r({},i),e);return Object(n.createElement)(c,r({},t),e.children||Object(n.createElement)(o,r({},t)))};t.a=s},1062:function(e,t,a){"use strict";var n=a(54),r="[PROJECT DASHBOARD APP] GET WIDGETS",l="[PROJECT DASHBOARD APP] REQUEST WIDGETS",c="[PROJECT DASHBOARD APP] GET_WIDGET6",i="[PROJECT DASHBOARD APP] REQUEST_WIDGET6",o="[PROJECT DASHBOARD APP] GET_WIDGET5",s="[PROJECT DASHBOARD APP] REQUEST_WIDGET5",d="[PROJECT DASHBOARD APP] REQUEST_TOP_BUDGET",u="[PROJECT DASHBOARD APP] GET_TOP_BUDGET",m="[PROJECT DASHBOARD APP] REQUEST_POTENTIEL",p="[PROJECT DASHBOARD APP] GET_POTENTIEL",f="[PROJECT DASHBOARD APP] REQUEST_PERSONNEL_POTENTIEL",E="[PROJECT DASHBOARD APP] GET_PERSONNEL_POTENTIEL";function y(){var e=n.a.get("/api/fournisseur/widgets");return function(t){return t({type:l}),e.then(function(e){return t({type:r,payload:e.data})})}}function b(e){var t=n.a.get("/api/fournisseur/doughnut?year=".concat(e));return function(e){return e({type:i}),t.then(function(t){return e({type:c,payload:t.data})})}}function g(){var e=n.a.get("/api/fournisseur/demandeDevisByProduct");return function(t){return t({type:s}),e.then(function(e){return t({type:o,payload:e.data})})}}function h(e){var t=n.a.get("/api/fournisseur/topbudget?year=".concat(e));return function(e){return e({type:d}),t.then(function(t){return e({type:u,payload:t.data})})}}function x(e){var t=n.a.get("/api/fournisseur/potentiel?year=".concat(e));return function(e){return e({type:m}),t.then(function(t){return e({type:p,payload:t.data})})}}function w(e){var t=n.a.get("/api/fournisseur/personnelsRank?year=".concat(e));return function(e){return e({type:f}),t.then(function(t){return e({type:E,payload:t.data})})}}a.d(t,"f",function(){return r}),a.d(t,"l",function(){return l}),a.d(t,"e",function(){return c}),a.d(t,"k",function(){return i}),a.d(t,"d",function(){return o}),a.d(t,"j",function(){return s}),a.d(t,"i",function(){return d}),a.d(t,"c",function(){return u}),a.d(t,"h",function(){return m}),a.d(t,"b",function(){return p}),a.d(t,"g",function(){return f}),a.d(t,"a",function(){return E}),a.d(t,"r",function(){return y}),a.d(t,"n",function(){return b}),a.d(t,"m",function(){return g}),a.d(t,"q",function(){return h}),a.d(t,"p",function(){return x}),a.d(t,"o",function(){return w})},1110:function(e,t,a){"use strict";var n=a(46),r=a(8),l=a(1062),c={data:[],dataDDP:[],doughnut:[],potentiels:[],personnelPotentiels:[],topBudget:null,loading:!1,loadingDDP:!1,loadingDoughnut:!1,loadingTopBudget:!1,loadingPotentiels:!1,loadingPersonnelPotentiels:!1},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.l:return Object(r.a)({},e,{data:[],loading:!0});case l.f:return Object(r.a)({},e,{data:t.payload,loading:!1});case l.j:return Object(r.a)({},e,{dataDDP:[],loadingDDP:!0});case l.d:return Object(r.a)({},e,{dataDDP:t.payload,loadingDDP:!1});case l.k:return Object(r.a)({},e,{doughnut:[],loadingDoughnut:!0});case l.e:return Object(r.a)({},e,{doughnut:t.payload,loadingDoughnut:!1});case l.i:return Object(r.a)({},e,{topBudget:null,loadingTopBudget:!0});case l.c:return Object(r.a)({},e,{topBudget:t.payload,loadingTopBudget:!1});case l.h:return Object(r.a)({},e,{potentiels:[],loadingPotentiels:!0});case l.b:return Object(r.a)({},e,{potentiels:t.payload,loadingPotentiels:!1});case l.g:return Object(r.a)({},e,{personnelPotentiels:[],loadingPersonnelPotentiels:!0});case l.a:return Object(r.a)({},e,{personnelPotentiels:t.payload,loadingPersonnelPotentiels:!1});default:return e}},o=Object(n.d)({widgets:i});t.a=o},1198:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(98),c=a(1013),i=a(1035),o=a(40),s=a(6),d=a(140),u=a(1062),m=a(1110),p=a(139),f=a(18);var E=r.a.memo(function(e){return r.a.createElement(p.a,{className:"w-full rounded-8 shadow-none border-1"},r.a.createElement("div",{className:" items-center pr-4 pl-16 pt-4"},r.a.createElement(l.a,{className:"text-16 font-bold "},"Demande(s) en cours")),r.a.createElement("div",{className:"text-center pt-12 pb-28"},r.a.createElement(f.a,{to:"/demandes_prix",className:"text-72 leading-none text-green"},e.widget),r.a.createElement(l.a,{className:"text-16",color:"textSecondary"},"Demande(s)")))});var y=r.a.memo(function(e){return r.a.createElement(p.a,{className:"w-full rounded-8 shadow-none border-1"},r.a.createElement("div",{className:"flex items-center justify-between pr-4 pl-16 pt-4"},r.a.createElement(l.a,{className:"text-16 font-bold"}," Demande(s) consult\xe9e(s)")),r.a.createElement("div",{className:"text-center pt-12 pb-28"},r.a.createElement(f.a,{to:"/consultations",className:"text-72 leading-none text-teal"},e.widget),r.a.createElement(l.a,{className:"text-16",color:"textSecondary"},"Demande(s)")))});var b=r.a.memo(function(e){return r.a.createElement(p.a,{className:"w-full rounded-8 shadow-none border-1"},r.a.createElement("div",{className:"flex items-center justify-between pr-4 pl-16 pt-4"},r.a.createElement(l.a,{className:"text-16 font-bold"},"Produit(s) / Service(s) en attente(s)")),r.a.createElement("div",{className:"text-center pt-12 pb-28"},r.a.createElement(f.a,{to:"/produits",className:"text-72 leading-none text-orange"},e.widget),r.a.createElement(l.a,{className:"text-16",color:"textSecondary"},"Produit(s) / Service(s)")))});var g=r.a.memo(function(e){return r.a.createElement(p.a,{className:"w-full rounded-8 shadow-none border-1"},r.a.createElement("div",{className:"flex items-center justify-between pr-4 pl-16 pt-4"},r.a.createElement(l.a,{className:"text-16 font-bold"},"Produit(s) / Service(s) publi\xe9(s)")),r.a.createElement("div",{className:"text-center pt-12 pb-28"},r.a.createElement(f.a,{to:"/produits",className:"text-72 leading-none text-green"},e.widget),r.a.createElement(l.a,{className:"text-16",color:"textSecondary"},"Produit(s) / Service(s)")))}),h=a(1048),x=a(250);var w=r.a.memo(function(e){var t=Object(s.b)(),a=Object(s.c)(function(e){return e.dashboardApp.widgets});return Object(n.useEffect)(function(){t(u.m())},[t]),r.a.createElement(r.a.Fragment,null,!1===a.loadingDDP?r.a.createElement(p.a,{className:"w-full rounded-8 shadow-none border-1"},r.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},r.a.createElement(l.a,{className:"text-16 font-bold"},"Demandes devis par produit / service ")),r.a.createElement("div",{className:"h-400 w-full p-32"},r.a.createElement(x.b,{data:{labels:a.dataDDP.labels,datasets:a.dataDDP.datasets},options:{cutoutPercentage:0,spanGaps:!1,legend:{display:!0,position:"bottom",labels:{padding:16,usePointStyle:!0}},maintainAspectRatio:!1}}))):r.a.createElement(h.a,{height:280,width:500,speed:3,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"3",y:"3",rx:"10",ry:"10",width:"300",height:"180"}),r.a.createElement("rect",{x:"6",y:"190",rx:"0",ry:"0",width:"292",height:"20"}),r.a.createElement("rect",{x:"4",y:"215",rx:"0",ry:"0",width:"239",height:"20"}),r.a.createElement("rect",{x:"4",y:"242",rx:"0",ry:"0",width:"274",height:"20"})))}),O=a(23),v=a(972),P=a(64),N=a.n(P);var j=r.a.memo(function(e){var t=Object(s.b)(),a=Object(s.c)(function(e){return e.dashboardApp.widgets}),c=Object(n.useState)(N()().format("Y")),i=Object(O.a)(c,2),o=i[0],d=i[1];return Object(n.useEffect)(function(){t(u.n(o))},[t,o]),r.a.createElement(r.a.Fragment,null,!1===a.loadingDoughnut?r.a.createElement(p.a,{className:"w-full rounded-8 shadow-none border-1"},r.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},r.a.createElement(l.a,{className:"text-16 font-bold"},"Demandes consult\xe9es "),r.a.createElement(v.a,{native:!0,value:o,onChange:function(e){d(e.target.value)},inputProps:{name:"currentRange"},disableUnderline:!0},Object.entries({0:N()().format("Y"),1:N()().subtract(1,"year").format("Y"),2:N()().subtract(2,"year").format("Y")}).map(function(e){var t=Object(O.a)(e,2),a=t[0],n=t[1];return r.a.createElement("option",{key:a,value:n},n)}))),r.a.createElement("div",{className:"h-400 w-full p-32"},r.a.createElement(x.b,{data:{labels:a.doughnut.labels,datasets:a.doughnut.datasets},options:{cutoutPercentage:66,spanGaps:!1,legend:{display:!0,position:"bottom",labels:{padding:16,usePointStyle:!0}},maintainAspectRatio:!1}}))):r.a.createElement(h.a,{height:280,width:500,speed:3,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"3",y:"3",rx:"10",ry:"10",width:"300",height:"180"}),r.a.createElement("rect",{x:"6",y:"190",rx:"0",ry:"0",width:"292",height:"20"}),r.a.createElement("rect",{x:"4",y:"215",rx:"0",ry:"0",width:"239",height:"20"}),r.a.createElement("rect",{x:"4",y:"242",rx:"0",ry:"0",width:"274",height:"20"})))}),D=a(345),R=a(346),T=Object(D.a)(function(e){return{content:{"& canvas":{maxHeight:"100%"}},selectedProject:{background:e.palette.primary.main,color:e.palette.primary.contrastText,borderRadius:"8px 0 0 0"},projectMenuButton:{background:e.palette.primary.main,color:e.palette.primary.contrastText,borderRadius:"0 8px 0 0",marginLeft:1}}});t.default=Object(d.a)("dashboardApp",m.a)(function(e){var t=Object(s.b)(),a=Object(s.c)(function(e){return e.dashboardApp.widgets}),d=Object(s.c)(function(e){return e.auth.user}),m=Object(s.c)(function(e){return e.auth.user.abonnement}),p=T(e),x=Object(n.useRef)(null);return Object(n.useEffect)(function(){t(u.r())},[t]),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.Helmet,null,r.a.createElement("title",null,"Dashboard | Les Achats Industriels"),r.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),r.a.createElement("meta",{name:"googlebot",content:"noindex"})),r.a.createElement(o.p,{classes:{header:"min-h-120 h-120",rightSidebar:"w-288",content:p.content},header:r.a.createElement("div",{className:"flex flex-col justify-between flex-1 px-24 pt-16"},r.a.createElement("div",{className:"flex justify-between"},r.a.createElement(l.a,{className:"py-0 sm:py-24",variant:"h4"},"Bienvenue, ",d.data.displayName),r.a.createElement("div",{className:"items-center"},m&&m.statut&&(N()(m.expired).diff(N()(),"days")>0?r.a.createElement("div",{className:" flex flex-col justify-between flex-1  pt-24 py-0 sm:py-24"},r.a.createElement("div",{className:"flex items-center px-8 py-4 mr-8 mt-2 rounded rounded-md bg-green text-white"},r.a.createElement(c.a,{className:"text-20 mr-4"},"check_circle_outline")," ",m.offre&&r.a.createElement("strong",null,m.offre.name)," ",r.a.createElement("span",{className:"hidden sm:flex"},", vous avez ",N()(m.expired).diff(N()(),"days")," jour(s) restant(s) !")),N()(m.expired).diff(N()(),"month",!0)<=1&&r.a.createElement("div",{className:"flex justify-center mt-2"},r.a.createElement(i.a,{component:f.a,to:"/billing/renew",size:"small",color:"secondary",variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex"},"Renouveler l'abonnement"),r.a.createElement("span",{className:"flex sm:hidden"},"Renouveler")))):r.a.createElement("div",{className:" flex flex-col justify-between flex-1  pt-24 py-0 sm:py-24"},r.a.createElement("div",{className:"flex items-center px-8 py-4 mr-8 rounded rounded-md bg-red text-white"},"Votre abonnement a expir\xe9 depuis ",N()().diff(m.expired,"days")," jour(s) !"),r.a.createElement("div",{className:"flex justify-center mt-2"},r.a.createElement(i.a,{component:f.a,to:"/billing/renew",size:"small",color:"secondary",variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex"},"Renouveler l'abonnement"),r.a.createElement("span",{className:"flex sm:hidden"},"Renouveler")))))))),content:r.a.createElement("div",{className:"p-12"},!1===a.loading?r.a.createElement(o.e,{className:"flex flex-wrap",enter:{animation:"transition.slideUpBigIn"}},r.a.createElement("div",{className:"widget flex w-full sm:w-1/2 md:w-1/4 p-12"},r.a.createElement(E,{widget:a.data.widget1})),r.a.createElement("div",{className:"widget flex w-full sm:w-1/2 md:w-1/4 p-12"},r.a.createElement(y,{widget:a.data.widget2})),r.a.createElement("div",{className:"widget flex w-full sm:w-1/2 md:w-1/4 p-12"},r.a.createElement(b,{widget:a.data.widget3})),r.a.createElement("div",{className:"widget flex w-full sm:w-1/2 md:w-1/4 p-12"},r.a.createElement(g,{widget:a.data.widget4})),r.a.createElement("div",{className:"widget flex w-full sm:w-1/2 p-12"},r.a.createElement(j,null)),r.a.createElement("div",{className:"widget flex w-full sm:w-1/2 p-12"},r.a.createElement(w,null))):r.a.createElement(h.a,{height:100,width:750,speed:2,primaryColor:"#d9d9d9",secondaryColor:"#ecebeb"},r.a.createElement("circle",{cx:"90",cy:"50",r:"30"}),r.a.createElement("rect",{x:"20",y:"90",rx:"0",ry:"0",width:"140",height:"25"}),r.a.createElement("circle",{cx:"250",cy:"50",r:"30"}),r.a.createElement("rect",{x:"180",y:"90",rx:"0",ry:"0",width:"140",height:"25"}),r.a.createElement("circle",{cx:"400",cy:"50",r:"30"}),r.a.createElement("rect",{x:"340",y:"90",rx:"0",ry:"0",width:"140",height:"25"}),r.a.createElement("circle",{cx:"570",cy:"50",r:"30"}),r.a.createElement("rect",{x:"500",y:"90",rx:"0",ry:"0",width:"140",height:"25"}))),ref:x})):null})}}]);