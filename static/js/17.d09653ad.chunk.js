(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1048:function(e,a,t){"use strict";var n=t(0),r=function(){return(r=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e}).apply(this,arguments)};var c=function(){return Math.random().toString(36).substring(2)},i=function(e){var a=e.rtl,t=e.speed,i=e.interval,l=e.style,o=e.width,s=e.height,m=e.baseUrl,u=e.gradientRatio,d=e.animate,p=e.ariaLabel,f=e.children,E=e.className,g=e.uniquekey,h=e.primaryColor,b=e.primaryOpacity,v=e.secondaryColor,y=e.secondaryOpacity,x=e.preserveAspectRatio,O=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),N=g?g+"-idClip":c(),j=g?g+"-idGradient":c(),S=a?{transform:"scaleX(-1)"}:{},A="0; "+i+"; 1",w=t+"s";return Object(n.createElement)("svg",r({role:"img",style:r(r({},l),S),className:E,"aria-label":p||null,viewBox:"0 0 "+o+" "+s,preserveAspectRatio:x},O),p?Object(n.createElement)("title",null,p):null,Object(n.createElement)("rect",{x:"0",y:"0",width:o,height:s,clipPath:"url("+m+"#"+N+")",style:{fill:"url("+m+"#"+j+")"}}),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:N},f),Object(n.createElement)("linearGradient",{id:j},Object(n.createElement)("stop",{offset:"0%",stopColor:h,stopOpacity:b},d&&Object(n.createElement)("animate",{attributeName:"offset",values:-u+"; "+-u+"; 1",keyTimes:A,dur:w,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:v,stopOpacity:y},d&&Object(n.createElement)("animate",{attributeName:"offset",values:-u/2+"; "+-u/2+"; "+(1+u/2),keyTimes:A,dur:w,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:h,stopOpacity:b},d&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+u),keyTimes:A,dur:w,repeatCount:"indefinite"})))))},l={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},o=function(e){return Object(n.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},s=function(e){var a=r(r({},l),e);return Object(n.createElement)(i,r({},a),e.children||Object(n.createElement)(o,r({},a)))};a.a=s},1050:function(e,a,t){"use strict";var n=t(0),r=t.n(n).a.createContext();a.a=r},1051:function(e,a,t){"use strict";var n=t(3),r=t.n(n),c=t(4),i=t.n(c),l=t(0),o=t.n(l),s=(t(1),t(2)),m=t(7),u=t(98),d=o.a.forwardRef(function(e,a){var t=e.children,n=e.classes,c=e.className,l=e.disableTypography,m=void 0!==l&&l,d=i()(e,["children","classes","className","disableTypography"]);return o.a.createElement("div",r()({className:Object(s.a)(n.root,c),ref:a},d),m?t:o.a.createElement(u.a,{variant:"h6"},t))});a.a=Object(m.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(d)},1053:function(e,a,t){"use strict";var n=t(0),r=t.n(n).a.createContext();a.a=r},1078:function(e,a,t){"use strict";var n=t(3),r=t.n(n),c=t(4),i=t.n(c),l=t(0),o=t.n(l),s=(t(1),t(2)),m=t(7),u=t(1053),d=o.a.forwardRef(function(e,a){var t=e.classes,n=e.className,c=e.component,l=void 0===c?"table":c,m=e.padding,d=void 0===m?"default":m,p=e.size,f=void 0===p?"medium":p,E=i()(e,["classes","className","component","padding","size"]),g=o.a.useMemo(function(){return{padding:d,size:f}},[d,f]);return o.a.createElement(u.a.Provider,{value:g},o.a.createElement(l,r()({ref:a,className:Object(s.a)(t.root,n)},E)))});a.a=Object(m.a)({root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0}},{name:"MuiTable"})(d)},1079:function(e,a,t){"use strict";var n=t(3),r=t.n(n),c=t(4),i=t.n(c),l=t(0),o=t.n(l),s=(t(1),t(2)),m=t(7),u=t(1050),d={variant:"head"},p=o.a.forwardRef(function(e,a){var t=e.classes,n=e.className,c=e.component,l=void 0===c?"thead":c,m=i()(e,["classes","className","component"]);return o.a.createElement(u.a.Provider,{value:d},o.a.createElement(l,r()({className:Object(s.a)(t.root,n),ref:a},m)))});a.a=Object(m.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(p)},1080:function(e,a,t){"use strict";var n=t(3),r=t.n(n),c=t(4),i=t.n(c),l=t(0),o=t.n(l),s=(t(1),t(2)),m=t(7),u=t(1050),d=o.a.forwardRef(function(e,a){var t=e.classes,n=e.className,c=e.component,l=void 0===c?"tr":c,m=e.hover,d=void 0!==m&&m,p=e.selected,f=void 0!==p&&p,E=i()(e,["classes","className","component","hover","selected"]),g=o.a.useContext(u.a);return o.a.createElement(l,r()({ref:a,className:Object(s.a)(t.root,n,g&&["head"===g.variant&&t.head,"footer"===g.variant&&t.footer],d&&t.hover,f&&t.selected)},E))});a.a=Object(m.a)(function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:"none","&$selected":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.08)"},"&$hover:hover":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.07)":"rgba(255, 255, 255, 0.14)"}},selected:{},hover:{},head:{},footer:{}}},{name:"MuiTableRow"})(d)},1081:function(e,a,t){"use strict";var n=t(4),r=t.n(n),c=t(3),i=t.n(c),l=t(0),o=t.n(l),s=(t(1),t(2)),m=t(7),u=t(9),d=t(14),p=t(1053),f=t(1050),E=o.a.forwardRef(function(e,a){var t,n=e.align,c=void 0===n?"inherit":n,l=e.classes,m=e.className,d=e.component,E=e.padding,g=e.scope,h=e.size,b=e.sortDirection,v=e.variant,y=r()(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),x=o.a.useContext(p.a),O=o.a.useContext(f.a);t=d||(O&&"head"===O.variant?"th":"td");var N=g;!N&&O&&"head"===O.variant&&(N="col");var j=E||(x&&x.padding?x.padding:"default"),S=h||(x&&x.size?x.size:"medium"),A=null;return b&&(A="asc"===b?"ascending":"descending"),o.a.createElement(t,i()({ref:a,className:Object(s.a)(l.root,(v?"head"===v:O&&"head"===O.variant)&&l.head,(v?"body"===v:O&&"body"===O.variant)&&l.body,(v?"footer"===v:O&&"footer"===O.variant)&&l.footer,"inherit"!==c&&l["align".concat(Object(u.a)(c))],"default"!==j&&l["padding".concat(Object(u.a)(j))],"medium"!==S&&l["size".concat(Object(u.a)(S))],m),"aria-sort":A,scope:N},y))});a.a=Object(m.a)(function(e){return{root:i()({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(d.e)(Object(d.c)(e.palette.divider,1),.88):Object(d.a)(Object(d.c)(e.palette.divider,1),.68)),textAlign:"left",padding:"14px 40px 14px 16px","&:last-child":{paddingRight:16}}),head:{color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),lineHeight:e.typography.pxToRem(21),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"}}},{name:"MuiTableCell"})(E)},1082:function(e,a,t){"use strict";var n=t(3),r=t.n(n),c=t(4),i=t.n(c),l=t(0),o=t.n(l),s=(t(1),t(2)),m=t(7),u=t(1050),d={variant:"body"},p=o.a.forwardRef(function(e,a){var t=e.classes,n=e.className,c=e.component,l=void 0===c?"tbody":c,m=i()(e,["classes","className","component"]);return o.a.createElement(u.a.Provider,{value:d},o.a.createElement(l,r()({className:Object(s.a)(t.root,n),ref:a},m)))});a.a=Object(m.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(p)},1087:function(e,a,t){"use strict";var n=t(54),r="[COMMANDES APP] REQUEST COMMANDESAB",c="[COMMANDES APP] SET PARAMETRES DATA",i="[COMMANDES APP] GET COMMANDESAB",l="[COMMANDES APP] SET COMMANDES SEARCH TEXT",o="[COMMANDES APP] CLEAN_UP";function s(){return function(e){return e({type:o})}}function m(e){var a="";e.search.length>0&&e.search.map(function(e){return e.value&&("created"===e.id?a+="&"+e.id+"[after]="+e.value:a+="&"+e.id+"="+e.value)});var t=n.a.get("/api/demande_abonnements?page=".concat(e.page).concat(a,"&order[").concat(e.filter.id,"]=").concat(e.filter.direction));return function(e){return e({type:r}),t.then(function(a){return e({type:i,payload:a.data})})}}function u(e){return{type:c,parametres:e}}var d=t(36),p=t(10),f=t(196),E="[COMMANDE APP] REQUEST COMMANDE",g="[COMMANDE APP] GET COMMANDE",h="[COMMANDE APP] REQUEST_SOUS_SECTEURS",b="[COMMANDE APP] GET SOUS_SECTEURS",v="[COMMANDE APP] REQUEST SECTEURS",y="[COMMANDE APP] GET SECTEURS",x="[COMMANDE APP] REQUEST OFFRES",O="[COMMANDE APP] GET OFFRES",N="[COMMANDE APP] REQUEST SAVE",j="[COMMANDE APP] SAVE COMMANDE",S="[COMMANDE APP] GET_PAIEMENT",A="[COMMANDE APP] GET_DUREE";function w(){var e=n.a.get("/api/durees");return function(a){return e.then(function(e){a({type:A,payload:e.data["hydra:member"]})})}}function C(e,a,t,r,c,i,l){e.offre=t["@id"],e.sousSecteurs=p.a.map(a,function(e,a){return e.value}),e.mode=r,e.duree=c["@id"],e.paiement=l,e.remise=i;var o=n.a.put(e["@id"],e);return function(e){return e({type:N}),o.then(function(a){return e(Object(d.B)({message:"Commande modifi\xe9e avec succ\xe8s"})),e(f.b("commandes-abonnements")),e(f.b("abonnement-fournisseur")),e({type:j,payload:a.data})})}}function P(e){var a=n.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return function(e){return e({type:h}),a.then(function(a){e({type:b,payload:a.data["hydra:member"]})})}}function M(){var e=n.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name&order[name]=asc");return function(a){return a({type:v}),e.then(function(e){a({type:y,payload:e.data["hydra:member"]})})}}function T(){var e=n.a.get("/api/paiements");return function(a){return e.then(function(e){a({type:S,payload:e.data["hydra:member"]})})}}function F(){var e=n.a.get("/api/offres");return function(a){return a({type:x}),e.then(function(e){return a({type:O,payload:e.data["hydra:member"]})})}}function R(e){var a=n.a.get("/api/demande_abonnements/".concat(e));return function(e){return e({type:E}),a.then(function(a){return e({type:g,payload:a.data})})}}t.d(a,"j",function(){return r}),t.d(a,"r",function(){return c}),t.d(a,"c",function(){return i}),t.d(a,"q",function(){return l}),t.d(a,"a",function(){return o}),t.d(a,"s",function(){return s}),t.d(a,"u",function(){return m}),t.d(a,"A",function(){return u}),t.d(a,"i",function(){return E}),t.d(a,"b",function(){return g}),t.d(a,"n",function(){return h}),t.d(a,"h",function(){return b}),t.d(a,"m",function(){return v}),t.d(a,"g",function(){return y}),t.d(a,"k",function(){return x}),t.d(a,"e",function(){return O}),t.d(a,"l",function(){return N}),t.d(a,"o",function(){return j}),t.d(a,"p",function(){return"[COMMANDE APP] SAVE ERROR"}),t.d(a,"f",function(){return S}),t.d(a,"a",function(){}),t.d(a,"d",function(){return A}),t.d(a,"s",function(){}),t.d(a,"v",function(){return w}),t.d(a,"B",function(){return C}),t.d(a,"z",function(){return P}),t.d(a,"y",function(){return M}),t.d(a,"x",function(){return T}),t.d(a,"w",function(){return F}),t.d(a,"t",function(){return R})},1159:function(e,a,t){"use strict";var n=t(46),r=t(8),c=t(1087),i=t(107),l={data:[],pageCount:null,loading:!1,searchText:"",parametres:{page:1,search:[],filter:{id:"created",direction:"desc"}}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.a:return Object(r.a)({},l);case c.j:return Object(r.a)({},e,{loading:!0});case c.c:return Object(r.a)({},e,{data:a.payload["hydra:member"],pageCount:i.a.hydraPageCount(a.payload),loading:!1});case c.q:return Object(r.a)({},e,{searchText:a.searchText});case c.r:return Object(r.a)({},e,{parametres:{page:a.parametres.page,search:a.parametres.search,filter:{id:a.parametres.filter.id,direction:a.parametres.filter.direction}}});default:return e}},s={data:null,offres:null,loadingSecteurs:!1,secteurs:null,sousSecteurs:null,error:null,loading:!1,loadingSS:!1,success:!1,paiements:null,durees:null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.i:case c.k:case c.l:return Object(r.a)({},e,{loading:!0});case c.m:return Object(r.a)({},e,{loadingSecteurs:!0});case c.g:return Object(r.a)({},e,{secteurs:a.payload,loadingSecteurs:!1});case c.n:return Object(r.a)({},e,{loadingSS:!0});case c.h:return Object(r.a)({},e,{sousSecteurs:a.payload,loadingSS:!1});case c.f:return Object(r.a)({},e,{paiements:a.payload});case c.d:return Object(r.a)({},e,{durees:a.payload});case c.o:return Object(r.a)({},e,{loading:!1,success:!0});case c.a:return Object(r.a)({},e,{data:null,loading:!1,success:!1,error:null,offres:null,sousSecteurs:null});case c.b:return Object(r.a)({},e,{data:a.payload,loading:!1});case c.e:return Object(r.a)({},e,{offres:a.payload,loading:!1});case c.p:return Object(r.a)({},e,{error:a.payload,loading:!1});default:return e}},u=t(36),d={state:!1,options:{children:"Hi"}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u.f:return Object(r.a)({},e,{state:!0,options:Object(r.a)({},e.options,a.options)});case u.a:return Object(r.a)({},e,{state:!1});default:return e}},f=Object(n.d)({commandes:o,commande:m,dialog:p});a.a=f},1320:function(e,a,t){"use strict";t.r(a);var n=t(21),r=t(8),c=t(23),i=t(0),l=t.n(i),o=t(98),s=t(1013),m=t(1031),u=t(1051),d=t(1037),p=t(1020),f=t(1038),E=t(1035),g=t(1041),h=t(1023),b=t(1047),v=t(1032),y=t(1044),x=t(1027),O=t(1040),N=t(1078),j=t(1079),S=t(1080),A=t(1081),w=t(1082),C=t(1046),P=t(974),M=t(1039),T=t(163),F=t(345),R=t(40),D=t(18),k=t(10),I=t(6),z=t(140),L=t(1087),W=t(1159),U=t(55),_=t.n(U),V=t(141),B=t(1024),H=t(965),G=t(1048),q=t(2),Q=Object(F.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},commandeImageFeaturedStar:{position:"absolute",top:0,right:0,color:T.a[400],opacity:0},button:{margin:e.spacing(1)},commandeImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},commandeImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $commandeImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $commandeImageFeaturedStar":{opacity:1},"&:hover $commandeImageFeaturedStar":{opacity:1}}},error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)},chip:{marginLeft:e.spacing(1),background:"#ef5350",color:"white",fontWeight:"bold",fontSize:"11px"},chip2:{marginLeft:e.spacing(1),background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px"},chip3:{margin:e.spacing(1),background:"green",color:"white",fontWeight:"bold",fontSize:"11px"}}});a.default=Object(z.a)("commandeOffreAdminApp",W.a)(function(e){var a=Object(I.b)(),t=Object(I.c)(function(e){return e.commandeOffreAdminApp.commande}),T=Object(i.useState)([]),F=Object(c.a)(T,2),z=F[0],W=F[1],U=Object(i.useState)(null),$=Object(c.a)(U,2),J=$[0],X=$[1],K=Object(i.useState)(0),Y=Object(c.a)(K,2),Z=Y[0],ee=Y[1],ae=Object(i.useState)(null),te=Object(c.a)(ae,2),ne=te[0],re=te[1],ce=Object(i.useState)(null),ie=Object(c.a)(ce,2),le=ie[0],oe=ie[1],se=Object(i.useState)(null),me=Object(c.a)(se,2),ue=me[0],de=me[1],pe=Object(i.useState)(0),fe=Object(c.a)(pe,2),Ee=fe[0],ge=fe[1],he=Object(V.b)(null),be=he.form,ve=he.setForm,ye=Object(i.useState)(!1),xe=Object(c.a)(ye,2),Oe=xe[0],Ne=xe[1],je=Object(i.useState)(!1),Se=Object(c.a)(je,2),Ae=Se[0],we=Se[1],Ce=Q(e),Pe=Object(i.useState)(0),Me=Object(c.a)(Pe,2),Te=Me[0],Fe=Me[1],Re=Object(i.useState)(0),De=Object(c.a)(Re,2),ke=De[0],Ie=De[1],ze=Object(i.useState)(0),Le=Object(c.a)(ze,2),We=Le[0],Ue=Le[1],_e=Object(i.useState)(0),Ve=Object(c.a)(_e,2),Be=Ve[0],He=Ve[1],Ge=Object(i.useState)(0),qe=Object(c.a)(Ge,2),Qe=qe[0],$e=qe[1];function Je(){we(!1)}function Xe(e,t){if("activites"===t){if(z.length===J.nbActivite)return;if(!k.a.find(z,["label",e.label])){var r=e;r.label=le.label+": "+r.label,W([e].concat(Object(n.a)(z)))}}else e.value&&(oe(e),a(L.z(e.value)))}return Object(i.useEffect)(function(){a(L.w()),a(L.y()),a(L.x()),a(L.v())},[a]),Object(i.useEffect)(function(){t.success&&(a(L.s()),e.history.push("/admin/offres/commande"))},[t.success,a,e.history]),Object(i.useEffect)(function(){return function(){var t=e.match.params.commandeId;a(L.t(t))}(),function(){a(L.s())}},[a,e.match.params]),Object(i.useEffect)(function(){if((t.data&&!be||t.data&&be&&t.data.id!==be.id)&&(ve(Object(r.a)({},t.data)),t.data.sousSecteurs&&W(t.data.sousSecteurs.map(function(e){return{value:e["@id"],label:e.secteur.name+": "+e.name}})),t.data.offre&&X(t.data.offre),t.data.mode&&de(t.data.mode["@id"]),t.data.duree&&(re(t.data.duree),t.data.offre)))if(t.data.fournisseur.currency.name===R.z){var e=t.data.offre.prixMad*t.data.duree.name;if(Fe(e),t.data.duree.remise){var a=e*t.data.duree.remise/100,n=e-a,c=n*R.A;Ue(a),He(n),Ie(c),$e(n+c)}else{var i=e*R.A;Ie(e*R.A),$e(e+i)}}else{var l=t.data.offre.prixEur*t.data.duree.name;if(Fe(l),t.data.duree.remise){var o=l*t.data.duree.remise/100,s=l-o;Ue(o),He(s),$e(s)}else $e(l)}},[be,t.data,ve]),l.a.createElement(R.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:t.loading?"":be&&l.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},l.a.createElement("div",{className:"flex flex-col items-start max-w-full"},l.a.createElement(R.d,{animation:"transition.slideRightIn",delay:300},l.a.createElement(o.a,{className:"normal-case flex items-center sm:mb-12",component:D.a,role:"button",to:"/admin/offres/commande",color:"inherit"},l.a.createElement(s.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),l.a.createElement("div",{className:"flex items-center max-w-full"},l.a.createElement("div",{className:"flex flex-col min-w-0"},l.a.createElement(R.d,{animation:"transition.slideLeftIn",delay:300},l.a.createElement("div",{className:"text-16 sm:text-20 truncate"},t.data.reference?t.data.reference+", Fournisseur : "+t.data.fournisseur.societe:""))))),l.a.createElement(m.a,{open:Ae,onClose:Je,"aria-labelledby":"form-dialog-title"},l.a.createElement(u.a,{id:"form-dialog-title"},"Confirmation"," "),l.a.createElement(d.a,{className:"mb-12"},Oe?"Vous \xeates sur le point d'affecter une nouveau abonnement":"Voullez-vous vraiment valider la commande sans confirmation du paiment?"),l.a.createElement(p.a,null),l.a.createElement(f.a,null,l.a.createElement(E.a,{onClick:Je,variant:"outlined",color:"secondary"},"Annuler"),l.a.createElement(E.a,{onClick:function(){return function(e){a(L.B(e,z,J,ue,ne,Z,Oe))}(be)},variant:"contained",color:"secondary",disabled:t.loading},"Sauvegarder",t.loading&&l.a.createElement(g.a,{size:24,className:Ce.buttonProgress})))),l.a.createElement("div",{className:"flex items-end max-w-full"},l.a.createElement(h.a,{control:l.a.createElement(b.a,{checked:Oe,onChange:function(e){return function(e){Ne(e.target.checked)}(e)},value:Oe}),label:"Confirmer le paiement de cette entreprise"}),l.a.createElement(R.d,{animation:"transition.slideRightIn",delay:300},l.a.createElement(E.a,{className:"whitespace-no-wrap",variant:"contained",disabled:t.loading||0===z.length,onClick:function(){we(!0)}},"Valider la commande",t.loading&&l.a.createElement(g.a,{size:24,className:Ce.buttonProgress}))))),contentToolbar:t.loading||!be?l.a.createElement("div",{className:Ce.root},l.a.createElement(v.a,{color:"secondary"})):l.a.createElement(y.a,{value:Ee,onChange:function(e,a){ge(a)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},l.a.createElement(x.a,{className:"h-64 normal-case",label:"D\xe9tails de la commande"}),l.a.createElement(x.a,{className:"h-64 normal-case",label:"Secteurs d'activit\xe9s"}),l.a.createElement(x.a,{className:"h-64 normal-case",label:"Infos de la soci\xe9t\xe9"})),content:t.loading?"":be&&l.a.createElement(_.a,{className:"flex flex-col "},l.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},0===Ee&&l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,{container:!0,spacing:3,className:""},l.a.createElement(O.a,{item:!0,xs:12,sm:6},l.a.createElement(o.a,{className:"mb-16",variant:"h6"},"1- Offres & Activit\xe9s")),l.a.createElement(O.a,{item:!0,xs:12,sm:6},l.a.createElement(o.a,{className:"mb-16",variant:"h6"},"R\xe9capitulatif de votre commande"))),l.a.createElement(p.a,null),l.a.createElement(O.a,{container:!0,spacing:3,className:"mt-16 mb-16"},l.a.createElement(O.a,{item:!0,xs:12,sm:6},t.offres&&J?t.offres.map(function(e,a){return l.a.createElement(O.a,{container:!0,key:a,spacing:3},l.a.createElement(O.a,{item:!0,xs:6,sm:6},l.a.createElement("strong",{className:"p-1"},e.name)," ",l.a.createElement("br",null),l.a.createElement("span",{className:"p-1"},e.description)),l.a.createElement(O.a,{item:!0,xs:6,sm:6},l.a.createElement(H.a,{row:!0},l.a.createElement(h.a,{control:l.a.createElement(B.a,{checked:J.id===e.id,onChange:function(){!function(e){if(X(e),z.length>0&&W(k.a.slice(z,0,e.nbActivite)),t.data.fournisseur.currency.name===R.z){var a=e.prixMad*ne.name;if(Fe(a),ne.remise){var n=a*ne.remise/100,r=a-n;Z&&Z>0&&(r=a-n-Z);var c=r*R.A;Ue(n),He(r),Ie(c),$e(r+c)}else{var i=a;Z&&Z>0&&(i=a-Z);var l=i*R.A;Ie(l),He(i),$e(i+l)}}else{var o=e.prixEur*ne.name;if(Fe(o),ne.remise){var s=o*ne.remise/100,m=o-s;Z&&Z>0&&(m=o-s-Z),Ue(s),He(m),$e(m)}else{var u=o;Z&&Z>0&&(u=o-Z),He(u),$e(u)}}}(e)},value:e["@id"]}),label:t.data.fournisseur.currency.name===R.z?parseFloat(e.prixMad).toLocaleString("fr",{minimumFractionDigits:2})+R.z+" HT / mois":parseFloat(e.prixEur).toLocaleString("fr",{minimumFractionDigits:2})+" \u20ac HT / mois"}))))}):l.a.createElement(G.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},l.a.createElement("circle",{cx:"10",cy:"20",r:"8"}),l.a.createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),l.a.createElement("circle",{cx:"10",cy:"50",r:"8"}),l.a.createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),l.a.createElement("circle",{cx:"10",cy:"80",r:"8"}),l.a.createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}))),l.a.createElement(O.a,{item:!0,xs:12,sm:6},t.offres&&J&&ne?l.a.createElement(N.a,{className:"w-full -striped"},l.a.createElement(j.a,{className:"bg-gray-200"},l.a.createElement(S.a,null,l.a.createElement(A.a,{className:"font-bold  text-black"},"Offre"),l.a.createElement(A.a,{className:"font-bold text-black text-right"},"Total HT"))),l.a.createElement(w.a,null,l.a.createElement(S.a,null,l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11"},l.a.createElement("strong",null,J?J.name:""),l.a.createElement("br",null),t.data.fournisseur.currency.name===R.z?parseFloat(J.prixMad).toLocaleString("fr",{minimumFractionDigits:2}):parseFloat(J.prixEur).toLocaleString("fr",{minimumFractionDigits:2}),"* ",ne.name+" mois"),l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(Te).toLocaleString("fr",{minimumFractionDigits:2}))),l.a.createElement(S.a,{className:"bg-gray-200"},l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Total HT"),l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(Te).toLocaleString("fr",{minimumFractionDigits:2}))),ne.remise?l.a.createElement(S.a,{className:""},l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Remise (",ne.remise,"%)"),l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(We).toLocaleString("fr",{minimumFractionDigits:2}))):null,l.a.createElement(S.a,{className:""},l.a.createElement(A.a,{component:"th",scope:"row",className:"text-11 text-right"},"Remise"),l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},l.a.createElement(R.F,{type:"number",step:"any",name:"discount",id:"discount",onChange:function(e){!function(e){if(ee(e),t.data.fournisseur.currency.name===R.z){var a=J.prixMad*ne.name;if(Fe(a),ne.remise){var n=a*ne.remise/100,r=a-n;e&&e>0&&(r=a-n-e);var c=r*R.A;Ue(n),He(r),Ie(c),$e(r+c)}else{var i=a;e&&e>0&&(i=a-e);var l=i*R.A;Ie(l),He(i),$e(i+l)}}else{var o=J.prixEur*ne.name;if(Fe(o),ne.remise){var s=o*ne.remise/100,m=o-s;e&&e>0&&(m=o-s-e),Ue(s),He(m),$e(m)}else{var u=o;e&&e>0&&(u=o-e),He(u),$e(u)}}}(e.target.value)},value:Z}))),Be>0&&Be!==Te?l.a.createElement(S.a,{className:"bg-gray-200"},l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"Montant NET HT"),l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(Be).toLocaleString("fr",{minimumFractionDigits:2}))):null,l.a.createElement(S.a,{className:""},l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},"TVA (20%)"),l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate text-11 text-right"},parseFloat(ke).toLocaleString("fr",{minimumFractionDigits:2}))),l.a.createElement(S.a,{className:"bg-gray-200"},l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate font-bold text-11 text-right"},"Montant TTC"),l.a.createElement(A.a,{component:"th",scope:"row",className:"truncate font-bold text-13 text-right"},parseFloat(Qe).toLocaleString("fr",{minimumFractionDigits:2}))))):l.a.createElement(G.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},l.a.createElement("circle",{cx:"10",cy:"20",r:"8"}),l.a.createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),l.a.createElement("circle",{cx:"10",cy:"50",r:"8"}),l.a.createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),l.a.createElement("circle",{cx:"10",cy:"80",r:"8"}),l.a.createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"})))),l.a.createElement(O.a,{container:!0,spacing:3,className:""},l.a.createElement(O.a,{item:!0,xs:12,sm:6},l.a.createElement(o.a,{className:"mb-16",variant:"h6"},"2- Mode de paiement"," ")),l.a.createElement(O.a,{item:!0,xs:12,sm:6},l.a.createElement(o.a,{className:"mb-16",variant:"h6"},"3- Dur\xe9e de votre abonnement"))),l.a.createElement(p.a,null),l.a.createElement(O.a,{container:!0,spacing:3,className:"mt-6 mb-16"},l.a.createElement(O.a,{item:!0,xs:12,sm:6},t.paiements?t.paiements.map(function(e,a){return l.a.createElement(h.a,{onChange:function(){return de(e["@id"])},key:a,value:e["@id"],checked:ue===e["@id"],control:l.a.createElement(C.a,null),label:e.name})}):l.a.createElement(G.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},l.a.createElement("circle",{cx:"15",cy:"17",r:"6"}),l.a.createElement("rect",{x:"25",y:"11",rx:"5",ry:"5",width:"100",height:"12"}),l.a.createElement("circle",{cx:"145",cy:"17",r:"6"}),l.a.createElement("rect",{x:"155",y:"11",rx:"5",ry:"5",width:"100",height:"12"}))),l.a.createElement(O.a,{item:!0,xs:12,sm:6},t.durees&&ne?t.durees.map(function(e,a){return l.a.createElement("div",{className:"inline",key:a},l.a.createElement(h.a,{onChange:function(){return function(e){if(re(e),t.data.fournisseur.currency.name===R.z){var a=J.prixMad*e.name;if(Fe(a),e.remise){var n=a*e.remise/100,r=a-n;Z&&Z>0&&(r=a-n-Z);var c=r*R.A;Ue(n),He(r),Ie(c),$e(r+c)}else{var i=a;Z&&Z>0&&(i=a-Z);var l=i*R.A;Ie(l),He(i),$e(i+l)}}else{var o=J.prixEur*e.name;if(Fe(o),e.remise){var s=o*e.remise/100,m=o-s;Z&&Z>0&&(m=o-s-Z),Ue(s),He(m),$e(m)}else{var u=o;Z&&Z>0&&(u=o-Z),He(u),$e(u)}}}(e)},value:e["@id"],checked:ne.id===e.id,control:l.a.createElement(C.a,null),label:e.name+" mois"}),e.remise?l.a.createElement("span",{className:"text-12 text-red"},"(Soit ",e.remise,"% de remise )"):"")}):l.a.createElement(G.a,{height:70,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},l.a.createElement("circle",{cx:"15",cy:"17",r:"6"}),l.a.createElement("rect",{x:"25",y:"11",rx:"5",ry:"5",width:"100",height:"12"}),l.a.createElement("circle",{cx:"145",cy:"17",r:"6"}),l.a.createElement("rect",{x:"155",y:"11",rx:"5",ry:"5",width:"100",height:"12"}))))),1===Ee&&l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,{container:!0,spacing:3,className:""},l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(o.a,{className:"mb-16",variant:"h6"},"Secteurs & Activit\xe9s"))),l.a.createElement(p.a,null),l.a.createElement(O.a,{container:!0,spacing:3,className:"mt-16 mb-16"},l.a.createElement(O.a,{item:!0,xs:12,sm:6},l.a.createElement(R.E,{id:"secteurs",name:"secteurs",value:le,placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Secteurs",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mb-16",options:t.secteurs,isLoading:t.loadingSecteurs,onChange:function(e){return Xe(e,"secteurs")},required:!0})),l.a.createElement(O.a,{item:!0,xs:12,sm:6},l.a.createElement(R.E,{id:"activites",name:"activites",value:"",placeholder:"S\xe9lectionner.. ",textFieldProps:{label:"Activit\xe9s",InputLabelProps:{shrink:!0},variant:"outlined"},className:"mb-16",options:t.sousSecteurs,isLoading:t.loadingSS,onChange:function(e){return Xe(e,"activites")},required:!0}),l.a.createElement(o.a,{variant:"caption"},J&&(J.nbActivite>z.length?"Vous pouvez encore ajouter ".concat(J.nbActivite-z.length," activit\xe9s"):"Vous avez atteint la limite de ".concat(J.nbActivite," activit\xe9s"))))),l.a.createElement(O.a,{container:!0,spacing:3,className:""},l.a.createElement(O.a,{item:!0,xs:12,sm:6},l.a.createElement(o.a,{className:"mb-16",variant:"h6"},"Activit\xe9(s) choisie(s)"))),l.a.createElement(p.a,null),l.a.createElement(O.a,{container:!0,spacing:3,className:"mt-4"},l.a.createElement(O.a,{item:!0,xs:12,sm:12},l.a.createElement("div",{className:Object(q.a)(Ce.chips)},z&&z.length>0&&k.a.sortBy(z,[function(e){return e.label}]).map(function(e,a){return l.a.createElement(P.a,{key:a,label:e.label,color:"secondary",onDelete:function(){return a=e.value,void W(k.a.reject(z,function(e){return e.value===a}));var a},className:"mt-8 mr-8"})}))))),2===Ee&&l.a.createElement(_.a,{className:"flex flex-col"},l.a.createElement(O.a,{container:!0,spacing:3,className:"mb-5"},l.a.createElement(O.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(R.F,{className:"",type:"text",name:"fullname",value:t.data.fournisseur.civilite+" "+t.data.fournisseur.firstName+" "+t.data.fournisseur.lastName,label:"Nom complet",InputProps:{readOnly:!0},fullWidth:!0}))),l.a.createElement(O.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(R.F,{className:"",name:"email",value:t.data.fournisseur.email,label:"Email",fullWidth:!0,InputProps:{readOnly:!0,endAdornment:l.a.createElement(M.a,{position:"end"},l.a.createElement(s.a,{className:"text-20",color:"action"},"email"))}}))),l.a.createElement(O.a,{item:!0,xs:12,sm:4},l.a.createElement(R.F,{className:"",type:"text",name:"phonep",id:"phonep",value:t.data.fournisseur.phone,label:"T\xe9l\xe9phone",InputProps:{readOnly:!0,endAdornment:l.a.createElement(M.a,{position:"end"},l.a.createElement(s.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),l.a.createElement(p.a,null),l.a.createElement(O.a,{container:!0,spacing:3,className:"mb-5"},l.a.createElement(O.a,{item:!0,xs:12,sm:8},l.a.createElement("div",{className:"flex"},l.a.createElement(R.F,{className:"mt-20",label:"Raison sociale",id:"societe",name:"societe",value:t.data.fournisseur.societe,fullWidth:!0,InputProps:{readOnly:!0}}))),l.a.createElement(O.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(R.F,{className:"mt-20",name:"fix",value:t.data.fournisseur.fix,label:"Fixe",InputProps:{readOnly:!0,endAdornment:l.a.createElement(M.a,{position:"end"},l.a.createElement(s.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),l.a.createElement(O.a,{item:!0,xs:12,sm:8},l.a.createElement(R.F,{id:"secteur",className:"",name:"secteur",label:"Activit\xe9",value:t.data.fournisseur.categories?k.a.join(k.a.map(t.data.fournisseur.categories,"name"),", "):"",fullWidth:!0,multiline:!0,rows:"3",InputProps:{readOnly:!0}})),l.a.createElement(O.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(R.F,{id:"website",className:"",type:"text",name:"website",value:t.data.fournisseur.website,label:"Site Web",InputProps:{readOnly:!0,endAdornment:l.a.createElement(M.a,{position:"end"},l.a.createElement(s.a,{className:"text-20",color:"action"},"language"))},fullWidth:!0}))),l.a.createElement(O.a,{item:!0,xs:12,sm:8},l.a.createElement("div",{className:"flex"},t.data.fournisseur.ice?l.a.createElement(R.F,{className:"",type:"text",name:"ice",id:"ice",value:t.data.fournisseur.ice,label:"ICE",fullWidth:!0,InputProps:{readOnly:!0}}):""))),l.a.createElement(p.a,null),l.a.createElement(O.a,{container:!0,spacing:3,className:"mb-5"},l.a.createElement(O.a,{item:!0,xs:12,sm:8},l.a.createElement("div",{className:"flex"},l.a.createElement(R.F,{className:"mt-20",type:"text",name:"adresse1",id:"adresse1",value:t.data.fournisseur.adresse1,label:"Adresse 1",InputProps:{readOnly:!0,endAdornment:l.a.createElement(M.a,{position:"end"},l.a.createElement(s.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),l.a.createElement(O.a,{item:!0,xs:12,sm:4},l.a.createElement(R.F,{className:"mt-20",type:"text",name:"pays",id:"pays",value:t.data.fournisseur.pays?t.data.fournisseur.pays.name:"",label:"Pays",InputProps:{readOnly:!0},fullWidth:!0})),l.a.createElement(O.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(R.F,{className:"",type:"text",name:"adresse2",value:t.data.fournisseur.adresse2,label:"Adresse 2",InputProps:{readOnly:!0,endAdornment:l.a.createElement(M.a,{position:"end"},l.a.createElement(s.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),l.a.createElement(O.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(R.F,{className:"",name:"codepostal",value:String(t.data.fournisseur.codepostal),label:"Code Postal",fullWidth:!0,InputProps:{readOnly:!0}}))),l.a.createElement(O.a,{item:!0,xs:12,sm:4},l.a.createElement(R.F,{className:"",type:"text",name:"ville",id:"ville",value:t.data.fournisseur.ville?t.data.fournisseur.ville.name:"",label:"Ville",InputProps:{readOnly:!0},fullWidth:!0}))),l.a.createElement(p.a,null),l.a.createElement(O.a,{container:!0,spacing:3},l.a.createElement(O.a,{item:!0,xs:12,sm:12},l.a.createElement(R.F,{className:"mb-5 mt-20  w-full",type:"text",name:"description",value:t.data.fournisseur.description,label:"Pr\xe9sentation",multiline:!0,rows:"8",InputProps:{readOnly:!0}})))))),innerScroll:!0})})}}]);