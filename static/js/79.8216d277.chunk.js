(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1282:function(e,t,a){"use strict";var r=a(50),n=a(33);const s="[SUGGESTION SUGGESTIONS APP ADMIN] REQUEST SUGGESTION SUGGESTIONS",c="[SUGGESTION SUGGESTIONS APP ADMIN] GET SUGGESTION SUGGESTIONS",o="[SUGGESTION SUGGESTIONS APP ADMIN] SET SUGGESTION SUGGESTIONS SEARCH TEXT";function u(){const e=r.a.get("/api/suggestion_secteurs?etat=false");return t=>(t({type:s}),e.then(e=>t({type:c,payload:e.data})))}function i(e){return t=>{return t({type:s}),r.a.delete("/api/suggestion_secteurs/".concat(e.id)).then(e=>Promise.all([t(Object(n.B)({message:"Suggestion bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>t(u()))).catch(e=>{e.response.data&&e.response.data["hydra:description"]&&t(Object(n.B)({message:e.response.data["hydra:description"],anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}).then(()=>t(u()))}}a(102);const l="[SUGGESTION SUGGESTION APP ADMIN] REQUEST SUGGESTION",d="[SUGGESTION SUGGESTION APP ADMIN] REQUEST SECTEUR",S="[SUGGESTION SUGGESTION APP ADMIN] REQUEST SOUS_SECTEUR",E="[SUGGESTION SUGGESTION APP ADMIN] REQUEST CATEGORIE",m="[SUGGESTION SUGGESTION APP ADMIN] GET SUGGESTION",p="[SUGGESTION SUGGESTION APP ADMIN] GET SECTEUR",g="[SUGGESTION SUGGESTION APP ADMIN] GET SOUS_SECTEUR",G="[SUGGESTION SUGGESTION APP ADMIN] GET CATEGORIE",f="[SUGGESTION SUGGESTION APP ADMIN] SAVE ERROR",O="[SUGGESTION SUGGESTION APP ADMIN] UPDATE SUGGESTION",N="[SUGGESTION SUGGESTION APP ADMIN] REQUEST SAVE_SUGGESTION",h="[SUGGESTION SUGGESTION APP ADMIN] CLEAN_UP";function I(){return e=>e({type:h})}function T(e){const t=r.a.get("/api/suggestion_secteurs/".concat(e));return e=>(e({type:l}),t.then(t=>{t.data.secteur&&e(function(e){const t=r.a.get("/api/secteurs?name=".concat(e));return e=>(e({type:d}),t.then(t=>{e({type:p,payload:t.data["hydra:member"][0]})}))}(t.data.secteur)),t.data.sousSecteur&&e(function(e){const t=r.a.get("/api/sous_secteurs?name=".concat(e));return e=>(e({type:S}),t.then(t=>{e({type:g,payload:t.data["hydra:member"][0]})}))}(t.data.sousSecteur)),t.data.categorie&&e(function(e){const t=r.a.get("/api/categories?name=".concat(e));return e=>(e({type:E}),t.then(t=>{e({type:G,payload:t.data["hydra:member"][0]})}))}(t.data.categorie)),e({type:m,payload:t.data})}))}function y(e){let t={name:e};const a=r.a.post("/api/secteurs",t);return e=>(e({type:d}),a.then(t=>{e(Object(n.B)({message:"Secteur ajout\xe9",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},variant:"success"})),e({type:p,payload:t.data})}))}function U(e,t){let a={name:e,secteur:t};const s=r.a.post("/api/sous_secteurs",a);return e=>(e({type:S}),s.then(t=>{e(Object(n.B)({message:"Activit\xe9 ajout\xe9e",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},variant:"success"})),e({type:g,payload:t.data})}))}function A(e,t){let a={name:e,sousSecteurs:[t]};const s=r.a.post("/api/categories",a);return e=>(e({type:E}),s.then(t=>{e(Object(n.B)({message:"Cat\xe9gorie ajout\xe9e",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},variant:"success"})),e({type:G,payload:t.data})}))}const b="[DIALOG] OPEN",P="[DIALOG] CLOSE";function v(){return{type:P}}function q(e){return{type:b,options:e}}a.d(t,"k",function(){return s}),a.d(t,"f",function(){return c}),a.d(t,"n",function(){return o}),a.d(t,"r",function(){return u}),a.d(t,"t",function(){return i}),a.d(t,"i",function(){return d}),a.d(t,"j",function(){return S}),a.d(t,"g",function(){return E}),a.d(t,"e",function(){return m}),a.d(t,"c",function(){return p}),a.d(t,"d",function(){return g}),a.d(t,"b",function(){return G}),a.d(t,"l",function(){return f}),a.d(t,"m",function(){return O}),a.d(t,"h",function(){return N}),a.d(t,"a",function(){return h}),a.d(t,"o",function(){return I}),a.d(t,"q",function(){return T}),a.d(t,"v",function(){return y}),a.d(t,"w",function(){return U}),a.d(t,"u",function(){return A}),a.d(t,"p",function(){return v}),a.d(t,"s",function(){return q})},1347:function(e,t,a){"use strict";var r=a(43),n=a(1282);const s={entities:[],loading:!1,searchText:""};var c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.k:return{...e,loading:!0};case n.f:return{...e,entities:t.payload["hydra:member"],loading:!1};case n.n:return{...e,searchText:t.searchText};default:return e}};const o={requestSuggestion:!1,requestSecteur:!1,requestSousSecteur:!1,requestCategorie:!1,error:null,data:null,secteur:null,sousSecteur:null,categorie:null};var u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.a:return{...e,requestSuggestion:!1,error:null,data:null,secteur:null,sousSecteur:null};case n.h:case n.k:return{...e,requestSuggestion:!0};case n.i:return{...e,requestSecteur:!0};case n.j:return{...e,requestSousSecteur:!0};case n.g:return{...e,requestCategorie:!0};case n.e:return{...e,data:t.payload,requestSuggestion:!1,error:null};case n.c:return{...e,secteur:t.payload,requestSecteur:!1};case n.d:return{...e,sousSecteur:t.payload,requestSousSecteur:!1};case n.b:return{...e,categorie:t.payload,requestCategorie:!1};case n.m:return{...e,requestSuggestion:!1,error:null};case n.l:return{...e,requestSuggestion:!1,error:t.payload};default:return e}},i=a(33);const l={state:!1,options:{children:"Hi"}};var d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.f:return{...e,state:!0,options:{...e.options,...t.options}};case i.a:return{...e,state:!1};default:return e}};const S=Object(r.d)({suggestions:c,suggestion:u,dialog:d});t.a=S},1499:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(89),c=a(1204),o=a(1232),u=a(1231),i=a(1140),l=a(39),d=a(137),S=a(7),E=a(136),m=a(1282),p=a(1347),g=a(51),G=a.n(g),f=a(1233),O=a(16),N=a(1224);t.default=Object(E.a)("suggestionsApp",p.a)(function(e){const t=Object(S.b)(),a=Object(S.c)(e=>{let{suggestionsApp:t}=e;return t.suggestion}),E=Object(r.useRef)(null),{form:p,handleChange:g,setForm:h}=Object(d.b)(null);return Object(r.useEffect)(()=>(function(){const a=e.match.params,{suggestionId:r}=a;t(m.q(r))}(),()=>{t(m.o())}),[t,e.match.params]),Object(r.useEffect)(()=>{a.error&&a.error.name&&E.current.updateInputsWithError({...a.error})},[a.error]),Object(r.useEffect)(()=>{(a.data&&!p||a.data&&p&&a.data.id!==p.id)&&h({...a.data})},[p,a.data,h]),n.a.createElement(l.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:p&&n.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},n.a.createElement("div",{className:"flex flex-col items-start max-w-full"},n.a.createElement(l.d,{animation:"transition.slideRightIn",delay:300},n.a.createElement(s.a,{className:"normal-case flex items-center sm:mb-12",component:O.a,role:"button",to:"/parametres/suggestions",color:"inherit"},n.a.createElement(c.a,{className:"mr-4 text-20"},"arrow_back"),"Suggestions")))),content:a.requestSuggestion?n.a.createElement(N.a,{color:"secondary"}):p&&n.a.createElement("div",{className:" sm:p-10 max-w-2xl"},n.a.createElement(G.a,{ref:E,className:"flex pt-5 flex-col "},n.a.createElement(o.a,{container:!0,spacing:3},n.a.createElement(o.a,{item:!0,xs:12,sm:4},n.a.createElement(l.F,{className:"mb-16",type:"text",name:"secteur",value:p.secteur,onChange:g,InputProps:{endAdornment:a.requestSecteur?n.a.createElement(f.a,{color:"secondary"}):n.a.createElement(u.a,{position:"end"},n.a.createElement(i.a,{color:"secondary","aria-label":"toggle add secteur",disabled:a.secteur||!p.secteur,onClick:()=>(function(e){t(m.v(e))})(p.secteur)},n.a.createElement(c.a,null,"add_circle")))},label:"Secteur",variant:"outlined",required:!0,fullWidth:!0})),n.a.createElement(o.a,{item:!0,xs:12,sm:4},n.a.createElement(l.F,{className:"mb-16",type:"text",name:"sousSecteur",disabled:!a.secteur,value:p.sousSecteur,onChange:g,InputProps:{endAdornment:a.requestSousSecteur?n.a.createElement(f.a,{color:"secondary"}):n.a.createElement(u.a,{position:"end"},n.a.createElement(i.a,{color:"secondary","aria-label":"toggle add sous secteur",disabled:a.sousSecteur||!a.secteur||!p.sousSecteur,onClick:()=>(function(e,a){t(m.w(e,a))})(p.sousSecteur,a.secteur["@id"])},n.a.createElement(c.a,null,"add_circle")))},label:"Activit\xe9",variant:"outlined",required:!0,fullWidth:!0})),n.a.createElement(o.a,{item:!0,xs:12,sm:4},n.a.createElement(l.F,{className:"mb-16",type:"text",name:"categorie",value:p.categorie,disabled:!a.sousSecteur,onChange:g,InputProps:{endAdornment:a.requestCategorie?n.a.createElement(f.a,{color:"secondary"}):n.a.createElement(u.a,{position:"end"},n.a.createElement(i.a,{color:"secondary","aria-label":"toggle add sous secteur",disabled:a.categorie||!a.sousSecteur||!p.categorie,onClick:()=>(function(e,a){t(m.u(e,a))})(p.categorie,a.sousSecteur["@id"])},n.a.createElement(c.a,null,"add_circle")))},label:"Produit",variant:"outlined",required:!0,fullWidth:!0}))))),innerScroll:!0})})}}]);