(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=r},1281:function(e,t,a){"use strict";var r=a(33),n=a(50);const i="[PRODUITS FOURNISSEURS APP] REQUEST PRODUITS",o="[PRODUITS FOURNISSEURS APP] REQUEST FREE PRODUITS",c="[PRODUITS FOURNISSEURS APP] REMOVE PRODUITS",s="[PRODUITS FOURNISSEURS APP] SET PARAMETRES DATA",l="[PRODUITS FOURNISSEURS APP] CLEAN_UP",u="[PRODUITS FOURNISSEURS APP] CLEAN_UP_FREE",d="[PRODUITS FOURNISSEURS APP] GET PRODUITS",m="[PRODUITS FOURNISSEURS APP] GET FREE PRODUITS",p="[PRODUITS FOURNISSEURS APP] SET PRODUITS SEARCH TEXT";function f(){return e=>e({type:u})}function g(e,t){var a="";t.search.length>0&&t.search.map(e=>e.value&&("created"===e.id?a+="&"+e.id+"[after]="+e.value:a+="&"+e.id+"="+e.value));const r=n.a.get("/api/fournisseurs/".concat(e,"/produits?page=").concat(t.page).concat(a,"&order[").concat(t.filter.id,"]=").concat(t.filter.direction));return e=>(e({type:i}),r.then(t=>e({type:d,payload:t.data})))}function h(e){const t=n.a.get("/api/free-products");return e=>(e({type:o}),t.then(t=>e({type:m,payload:t.data})))}function E(e,t,a){let o={del:!0};return s=>{return s({type:i}),n.a.put("/api/produits/".concat(e.id),o).then(e=>Promise.all([s({type:c}),s(Object(r.B)({message:"Produit bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>s(g(a.id,t))).then(()=>s(h())))}}function b(e){return{type:s,parametres:e}}var v=a(39),y=a(60),S=a.n(y),R=a(10);const O="[PRODUIT FOURNISSEUR APP] REQUEST PRODUIT",P="[PRODUIT FOURNISSEUR APP] GET PRODUIT",I="[PRODUIT FOURNISSEUR APP] REQUEST SAVE",x="[PRODUIT FOURNISSEUR APP] SAVE PRODUIT",U="[PRODUIT FOURNISSEUR APP] SAVE ERROR",N="[PRODUIT FOURNISSEUR APP] REQUEST SOUS_SECTEUR",T="[PRODUIT FOURNISSEUR APP] GET SOUS SECTEUR",w="[PRODUIT FOURNISSEUR APP] REQUEST SECTEUR",j="[PRODUIT FOURNISSEUR APP] GET SECTEUR",A="[PRODUIT FOURNISSEUR APP] REQUEST CATEGORIE",D="[PRODUIT FOURNISSEUR APP] GET CATEGORIE",F="[PRODUIT FOURNISSEUR APP] UPLOAD ATTACHEMENT",C="[PRODUIT FOURNISSEUR APP] UPLOAD REQUEST",L="[PRODUIT FOURNISSEUR APP] UPLOAD ERROR",q="[PRODUIT FOURNISSEUR APP] UPLOAD_FICHE_ATTACHEMENT",k="[PRODUIT FOURNISSEUR APP] UPLOAD_FICHE_REQUEST",_="[PRODUIT FOURNISSEUR APP] UPLOAD_FICHE_ERROR",z="[PRODUIT FOURNISSEUR APP] REQUEST DELETE",V="[PRODUIT FOURNISSEUR APP] DELETE SUCCESS",G="[PRODUIT FOURNISSEUR APP] ERROR DELETE",M="[PRODUIT FOURNISSEUR APP] CLEAN_UP_PRODUCT",W="[PRODUIT FOURNISSEUR APP] CLEAN_ERROR",B="[PRODUIT FOURNISSEUR APP] CLEAN_IMAGE",K="[PRODUIT FOURNISSEUR APP] CLEAN_DELETE_IMAGE",Y="[PRODUIT FOURNISSEUR APP] GET_FOURNISSEUR",H="[PRODUIT FOURNISSEUR APP] REQUEST_VIDEO",J="[PRODUIT FOURNISSEUR APP] GET_VIDEO",Q="[PRODUIT FOURNISSEUR APP] REQUEST_CHECK",X="[PRODUIT FOURNISSEUR APP] GET_CHECK";function $(e){const t=S.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=".concat(e,"&key=AIzaSyBvpeIK_1hzKDwawG1uRVmbHdE6n7tcRr4"));return e=>(e({type:H}),t.then(t=>e({type:J,payload:t.data&&t.data.items.length>0?1:2})))}function Z(){const e=n.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name");return t=>(t({type:w}),e.then(e=>{t({type:j,payload:e.data})}))}function ee(e){const t=n.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return e=>(e({type:N}),t.then(t=>{e({type:T,payload:t.data})}))}function te(e){const t=n.a.get("".concat(e,"/categories?pagination=false&props[]=id&props[]=name"));return e=>(e({type:A}),t.then(t=>{e({type:D,payload:t.data})}))}function ae(e){const t=n.a.get("api/check_activite_used?activite=".concat(e));return e=>(e({type:Q}),t.then(t=>{e({type:X,payload:t.data})}))}function re(e){const t=n.a.get("/api/produits/".concat(e));return e=>(e({type:O}),t.then(t=>{e({type:P,payload:t.data})}).catch(t=>{e({type:U,payload:v.y.parseApiErrors(t)})}))}function ne(e,t,a,i,o){const c={...e,pu:e.pu?parseFloat(e.pu):0,secteur:t&&t.value,sousSecteurs:a&&a.value,categorie:i&&i.value,images:e.images&&R.a.map(e.images,function(e,t){return e["@id"]}),ficheTechnique:e.ficheTechnique&&e.ficheTechnique["@id"],featuredImageId:e.featuredImageId&&e.featuredImageId["@id"],free:!o&&!0},s=n.a.post("/api/produits",c);return e=>(e({type:I}),s.then(t=>(e(Object(r.B)({message:"Produit / Service bien enregistr\xe9"})),e({type:x,payload:t.data}))).catch(t=>{e({type:U,payload:v.y.parseApiErrors(t)})}))}function ie(e,t,a,i,o){const c={...e,pu:e.pu?parseFloat(e.pu):0,secteur:a&&a.value,sousSecteurs:i&&i.value,categorie:o&&o.value,images:e.images&&R.a.map(e.images,function(e,t){return e["@id"]}),ficheTechnique:e.ficheTechnique&&e.ficheTechnique["@id"],featuredImageId:e.featuredImageId&&e.featuredImageId["@id"]},s=n.a.put("/api/produits/".concat(t),c);return e=>(e({type:I}),s.then(t=>(e(Object(r.B)({message:"Produit / Service bien modifi\xe9"})),e({type:x,payload:t.data}))).catch(t=>{e({type:U,payload:v.y.parseApiErrors(t)})}))}function oe(e){const t=n.a.delete(e["@id"]);return a=>(a({type:z}),t.then(t=>(a(Object(r.B)({message:"Document supprim\xe9"})),a({type:V,id:e}))).catch(e=>{a({type:G,payload:v.y.parseApiErrors(e)})}))}function ce(e){return(t,a)=>{const i=new FormData;i.append("file",e);const o=n.a.post("/api/image_produits",i,{headers:{"Content-Type":"multipart/form-data"}});return t({type:C}),o.then(e=>Promise.all([e,t({type:F,payload:e.data}),t(Object(r.B)({message:"Document t\xe9l\xe9charg\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(e=>{t({type:L}),t(Object(r.B)({message:R.a.map(v.y.parseApiErrors(e),function(e,t){return t+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function se(e){return(t,a)=>{const i=new FormData;i.append("file",e);const o=n.a.post("/api/fiches",i,{headers:{"Content-Type":"multipart/form-data"}});return t({type:k}),o.then(e=>Promise.all([e,t({type:q,payload:e.data}),t(Object(r.B)({message:"Document t\xe9l\xe9charg\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(e=>{t({type:_}),t(Object(r.B)({message:R.a.map(v.y.parseApiErrors(e),function(e,t){return t+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function le(){return{type:P,payload:{reference:"",description:"",secteur:null,sousSecteurs:null,categorie:null,pu:0,created:null,images:[],ficheTechnique:null}}}function ue(){return e=>e({type:W})}function de(){return e=>e({type:M})}function me(){return e=>e({type:B})}function pe(){return e=>e({type:K})}const fe="[DIALOG] OPEN",ge="[DIALOG] CLOSE";function he(){return{type:ge}}function Ee(e){return{type:fe,options:e}}a.d(t,"v",function(){return i}),a.d(t,"t",function(){return o}),a.d(t,"C",function(){return s}),a.d(t,"d",function(){return l}),a.d(t,"e",function(){return u}),a.d(t,"m",function(){return d}),a.d(t,"k",function(){return m}),a.d(t,"D",function(){return p}),a.d(t,"O",function(){return f}),a.d(t,"V",function(){return g}),a.d(t,"T",function(){return h}),a.d(t,"cb",function(){return E}),a.d(t,"eb",function(){return b}),a.d(t,"u",function(){return O}),a.d(t,"l",function(){return P}),a.d(t,"w",function(){return I}),a.d(t,"B",function(){return x}),a.d(t,"A",function(){return U}),a.d(t,"y",function(){return N}),a.d(t,"o",function(){return T}),a.d(t,"x",function(){return w}),a.d(t,"n",function(){return j}),a.d(t,"q",function(){return A}),a.d(t,"h",function(){return D}),a.d(t,"E",function(){return F}),a.d(t,"J",function(){return C}),a.d(t,"F",function(){return L}),a.d(t,"G",function(){return q}),a.d(t,"I",function(){return k}),a.d(t,"H",function(){return _}),a.d(t,"s",function(){return z}),a.d(t,"g",function(){return V}),a.d(t,"f",function(){return M}),a.d(t,"b",function(){return W}),a.d(t,"c",function(){return B}),a.d(t,"a",function(){return K}),a.d(t,"j",function(){return Y}),a.d(t,"z",function(){return H}),a.d(t,"p",function(){return J}),a.d(t,"r",function(){return Q}),a.d(t,"i",function(){return X}),a.d(t,"Y",function(){return $}),a.d(t,"W",function(){return Z}),a.d(t,"X",function(){return ee}),a.d(t,"S",function(){return te}),a.d(t,"K",function(){return ae}),a.d(t,"U",function(){return re}),a.d(t,"db",function(){return ne}),a.d(t,"bb",function(){return ie}),a.d(t,"R",function(){return oe}),a.d(t,"gb",function(){return ce}),a.d(t,"fb",function(){return se}),a.d(t,"Z",function(){return le}),a.d(t,"M",function(){return ue}),a.d(t,"P",function(){return de}),a.d(t,"N",function(){return me}),a.d(t,"L",function(){return pe}),a.d(t,"Q",function(){return he}),a.d(t,"ab",function(){return Ee})},1293:function(e,t,a){"use strict";var r=a(3),n=a.n(r),i=a(4),o=a.n(i),c=a(0),s=a.n(c),l=(a(28),a(54)),u=a.n(l),d=a(1157);var m=function(e){var t=e.theme,a=e.name,r=e.props;if(!t||!t.props||!t.props[a])return r;var n,i=t.props[a];for(n in i)void 0===r[n]&&(r[n]=i[n]);return r},p=a(1141);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){var r=t.defaultTheme,i=t.withTheme,c=void 0!==i&&i,l=t.name,f=o()(t,["defaultTheme","withTheme","name"]),g=l,h=Object(d.a)(e,n()({defaultTheme:r,Component:a,name:l||a.displayName,classNamePrefix:g},f)),E=s.a.forwardRef(function(e,t){e.classes;var i,u=e.innerRef,d=o()(e,["classes","innerRef"]),f=h(e),g=d;return("string"===typeof l||c)&&(i=Object(p.a)()||r,l&&(g=m({theme:i,name:l,props:d})),c&&!g.theme&&(g.theme=i)),s.a.createElement(a,n()({ref:u||t,classes:f},g))});return u()(E,a),E}}},1345:function(e,t,a){"use strict";var r=a(43),n=a(1281),i=a(102);a(10);const o={data:[],freeProduits:[],nbImages:0,pageCount:null,loading:!1,loadingFree:!1,searchText:"",abonnement:null,parametres:{page:1,search:[],description:"",filter:{id:"created",direction:"desc"}}};var c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.d:return{...e,data:[],parametres:{page:1,search:[],description:"",filter:{id:"created",direction:"desc"}}};case n.e:return{...e,freeProduits:[],nbImages:0};case n.v:return{...e,loading:!0};case n.j:return{...e,abonnement:t.payload};case n.m:return{...e,data:t.payload["hydra:member"],pageCount:i.a.hydraPageCount(t.payload),loading:!1};case n.t:return{...e,loadingFree:!0,nbImages:0};case n.k:return{...e,freeProduits:t.payload,nbImages:parseInt(t.payload),loadingFree:!1};case n.D:return{...e,searchText:t.searchText};case n.C:return{...e,parametres:{page:t.parametres.page,description:t.parametres.description,search:t.parametres.search,filter:{id:t.parametres.filter.id,direction:t.parametres.filter.direction}}};default:return e}};const s={data:null,error:null,loading:!1,success:!1,imageReqInProgress:!1,deleteReqInProgress:!1,image:null,image_deleted:null,secteurs:[],sousSecteurs:[],categories:[],fiche:null,ficheReqInProgress:!1,loadingSecteurs:!1,loadingSousSecteurs:!1,loadingCategories:!1,loadingRechercheVideo:!1,videoExist:0,checking:!1,exist:!1};var l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.r:return{...e,checking:!0};case n.i:return{...e,checking:!1,exist:!!t.payload&&t.payload.exist};case n.u:case n.w:return{...e,loading:!0};case n.z:return{...e,loadingRechercheVideo:!0};case n.p:return{...e,videoExist:t.payload,loadingRechercheVideo:!1};case n.x:return{...e,loadingSecteurs:!0,sousSecteurs:[],categories:[]};case n.y:return{...e,loadingSousSecteurs:!0,categories:[]};case n.q:return{...e,loadingCategories:!0};case n.J:return{...e,imageReqInProgress:!0};case n.s:return{...e,deleteReqInProgress:!0};case n.E:return{...e,image:t.payload,imageReqInProgress:!1};case n.g:return{...e,deleteReqInProgress:!1,image_deleted:t.id};case n.F:return{...e,imageReqInProgress:!1};case n.I:return{...e,ficheReqInProgress:!0};case n.G:return{...e,fiche:t.payload,ficheReqInProgress:!1};case n.H:return{...e,ficheReqInProgress:!1};case n.l:return{...e,data:t.payload,loading:!1};case n.j:return{...e,sousSecteurs:t.payload.sousSecteurs,loadingSousSecteurs:!1};case n.n:return{...e,secteurs:t.payload["hydra:member"],loadingSecteurs:!1};case n.o:return{...e,sousSecteurs:[...t.payload["hydra:member"],{"@id":"/api/sous_secteurs/98",name:"Autre"}],loadingSousSecteurs:!1};case n.h:return{...e,categories:[...t.payload["hydra:member"],{"@id":"/api/categories/382",name:"Autre"}],loadingCategories:!1};case n.B:return{...e,loading:!1,success:!0};case n.f:return{...s};case n.b:return{...e,error:null};case n.c:return{...e,image:null,fiche:null};case n.a:return{...e,image_deleted:null};case n.A:return{...e,error:t.payload,loading:!1,success:!1};default:return e}},u=a(33);const d={state:!1,options:{children:"Hi"}};var m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.f:return{...e,state:!0,options:{...e.options,...t.options}};case u.a:return{...e,state:!1};default:return e}};const p=Object(r.d)({produits:c,produit:l,dialog:m});t.a=p},1385:function(e,t,a){"use strict";var r=a(372),n=a(6),i=a(1202);var o=function(e,t){return t?Object(i.a)(e,t,{clone:!1}):e};function c(e,t){var a={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(a[r]=e[r])}),a}function s(e){var t=function(t){var a=e(t);return t.css?Object(n.a)({},o(a,e(Object(n.a)({theme:t.theme},t.css))),c(t.css,[e.filterProps])):t.sx?Object(n.a)({},o(a,e(Object(n.a)({theme:t.theme},t.sx))),c(t.sx,[e.filterProps])):a};return t.propTypes={},t.filterProps=["css","sx"].concat(Object(r.a)(e.filterProps)),t}var l=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=function(e){return t.reduce(function(t,a){var r=a(e);return r?o(t,r):t},{})};return r.propTypes={},r.filterProps=t.reduce(function(e,t){return e.concat(t.filterProps)},[]),r},u=a(375);var d=a(108),m={xs:0,sm:600,md:960,lg:1280,xl:1920},p={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(m[e],"px)")}};function f(e,t,a){if(Array.isArray(t)){var r=e.theme.breakpoints||p;return t.reduce(function(e,n,i){return e[r.up(r.keys[i])]=a(t[i]),e},{})}if("object"===Object(d.a)(t)){var n=e.theme.breakpoints||p;return Object.keys(t).reduce(function(e,r){return e[n.up(r)]=a(t[r]),e},{})}return a(t)}function g(e,t){return t&&"string"===typeof t?t.split(".").reduce(function(e,t){return e&&e[t]?e[t]:null},e):null}var h=function(e){var t=e.prop,a=e.cssProperty,r=void 0===a?e.prop:a,n=e.themeKey,i=e.transform,o=function(e){if(null==e[t])return null;var a=e[t],o=g(e.theme,n)||{};return f(e,a,function(e){var t,a,n,c;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=g(o,e)||e,i&&(t=i(t))),!1===r?t:(a={},n=r,c=t,(n=Object(u.a)(n))in a?Object.defineProperty(a,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[n]=c,a)})};return o.propTypes={},o.filterProps=[t],o};function E(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var b=l(h({prop:"border",themeKey:"borders",transform:E}),h({prop:"borderTop",themeKey:"borders",transform:E}),h({prop:"borderRight",themeKey:"borders",transform:E}),h({prop:"borderBottom",themeKey:"borders",transform:E}),h({prop:"borderLeft",themeKey:"borders",transform:E}),h({prop:"borderColor",themeKey:"palette"}),h({prop:"borderRadius",themeKey:"shape"})),v=l(h({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),h({prop:"display"}),h({prop:"overflow"}),h({prop:"textOverflow"}),h({prop:"visibility"}),h({prop:"whiteSpace"})),y=l(h({prop:"flexBasis"}),h({prop:"flexDirection"}),h({prop:"flexWrap"}),h({prop:"justifyContent"}),h({prop:"alignItems"}),h({prop:"alignContent"}),h({prop:"order"}),h({prop:"flex"}),h({prop:"flexGrow"}),h({prop:"flexShrink"}),h({prop:"alignSelf"}),h({prop:"justifyItems"}),h({prop:"justifySelf"})),S=l(h({prop:"position"}),h({prop:"zIndex",themeKey:"zIndex"}),h({prop:"top"}),h({prop:"right"}),h({prop:"bottom"}),h({prop:"left"})),R=l(h({prop:"color",themeKey:"palette"}),h({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),O=h({prop:"boxShadow",themeKey:"shadows"});function P(e){return e<=1?"".concat(100*e,"%"):e}var I=h({prop:"width",transform:P}),x=h({prop:"maxWidth",transform:P}),U=h({prop:"minWidth",transform:P}),N=h({prop:"height",transform:P}),T=h({prop:"maxHeight",transform:P}),w=h({prop:"minHeight",transform:P}),j=(h({prop:"size",cssProperty:"width",transform:P}),h({prop:"size",cssProperty:"height",transform:P}),l(I,x,U,N,T,w,h({prop:"boxSizing"})));var A=a(374);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,o,c=[],s=!0,l=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(r=i.call(a)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,n=e}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(l)throw n}}return c}}(e,t)||Object(A.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F={m:"margin",p:"padding"},C={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},L={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},q=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}(function(e){if(e.length>2){if(!L[e])return[e];e=L[e]}var t=D(e.split(""),2),a=t[0],r=t[1],n=F[a],i=C[r]||"";return Array.isArray(i)?i.map(function(e){return n+e}):[n+i]}),k=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function _(e,t){return function(a){return e.reduce(function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var a=e(Math.abs(t));return t>=0?a:"number"===typeof a?-a:"-".concat(a)}(t,a),e},{})}}function z(e){var t=function(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}(e.theme);return Object.keys(e).map(function(a){if(-1===k.indexOf(a))return null;var r=_(q(a),t),n=e[a];return f(e,n,r)}).reduce(o,{})}z.propTypes={},z.filterProps=k;var V=z,G=l(h({prop:"fontFamily",themeKey:"typography"}),h({prop:"fontSize",themeKey:"typography"}),h({prop:"fontStyle",themeKey:"typography"}),h({prop:"fontWeight",themeKey:"typography"}),h({prop:"letterSpacing"}),h({prop:"lineHeight"}),h({prop:"textAlign"})),M=a(3),W=a.n(M),B=a(97),K=a(0),Y=a.n(K),H=a(2),J=a(54),Q=a.n(J),X=a(1156);function $(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.name,i=Object(B.a)(a,["name"]);var o,c=r,s="function"===typeof t?function(e){return{root:function(a){return t(Object(n.a)({theme:e},a))}}}:{root:t},l=Object(X.a)(s,Object(n.a)({Component:e,name:r||e.displayName,classNamePrefix:c},i));t.filterProps&&(o=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var u=Y.a.forwardRef(function(t,a){var r=t.children,i=t.className,c=t.clone,s=t.component,u=Object(B.a)(t,["children","className","clone","component"]),d=l(t),m=Object(H.a)(d.root,i),p=u;if(o&&(p=function(e,t){var a={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(a[r]=e[r])}),a}(p,o)),c)return Y.a.cloneElement(r,Object(n.a)({className:Object(H.a)(r.props.className,m)},p));if("function"===typeof r)return r(Object(n.a)({className:m},p));var f=s||e;return Y.a.createElement(f,Object(n.a)({ref:a,className:m},p),r)});return Q()(u,e),u}}var Z=a(109),ee=function(e){var t=$(e);return function(e,a){return t(e,W()({defaultTheme:Z.a},a))}},te=s(l(b,v,y,S,R,O,j,V,G)),ae=ee("div")(te,{name:"MuiBox"});t.a=ae},1519:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(1233),o=a(362),c=a(1217),s=a(1235),l=a(89),u=a(1227),d=a(1204),m=a(1385),p=a(1236),f=a(1219),g=a(1232),h=a(1221),E=a(1140),b=a(1151),v=a(163),y=a(411),S=a(1293),R=a(1157),O=a(39),P=a(201),I=a(137),x=a(16),U=a(2),N=a(10),T=a(7),w=a(136),j=a(1281),A=a(1345),D=a(51),F=a.n(D),C=a(59),L=a.n(C),q=a(1242),k=a.n(q),_=a(368),z=a(1295),V=a(83),G=a(1308),M=a(1241),W=a(1316),B=(a(1318),a(1224));const K=Object(S.a)(e=>({root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:e.palette.grey["light"===e.palette.type?200:700]},bar:{borderRadius:5,backgroundColor:"#1a90ff"}}))(B.a),Y=Object(R.a)(e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},root2:{background:"radial-gradient("+Object(V.darken)(e.palette.primary.dark,.5)+" 0%, "+e.palette.primary.dark+" 80%)",color:e.palette.primary.contrastText},buttonProgress:{color:k.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},chip1:{marginLeft:e.spacing(1),padding:2,background:"#e3342f",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chip2:{marginLeft:e.spacing(1),padding:2,background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px",height:20},pad:{padding:"0px 12px 12px 12px!important",marginBottom:"12px"},produitImageFeaturedStar2:{position:"absolute",top:0,right:0,color:v.a[400],opacity:0},produitImageFeaturedStar:{position:"absolute",top:0,left:0,color:y.a[400],opacity:0},produitImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},select:{zIndex:999},warning:{backgroundColor:"#f4993f4f",border:"1px solid #f79c3f",borderRadius:"7px"},produitImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $produitImageFeaturedStar":{opacity:.8},"& $produitImageFeaturedStar2":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $produitImageFeaturedStar":{opacity:1},"&:hover $produitImageFeaturedStar":{opacity:1}}},error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)}}));L.a.defaultFormat="DD/MM/YYYY HH:mm",t.default=Object(w.a)("produitsFournisseursApp",A.a)(function(e){const t=Object(T.b)(),a=Object(T.c)(e=>{let{produitsFournisseursApp:t}=e;return t.produit}),v=Object(T.c)(e=>{let{auth:t}=e;return t.user}),y=Object(T.c)(e=>{let{auth:t}=e;return t.user.abonnement}),S=Object(T.c)(e=>{let{auth:t}=e;return t.user.loadingAbonnement}),R=Object(T.c)(e=>{let{produitsFournisseursApp:t}=e;return t.produits.nbImages}),w=Object(T.c)(e=>{let{produitsFournisseursApp:t}=e;return t.produits.loadingFree}),A=e.match.params,{produitId:D}=A,[C,q]=Object(r.useState)(!1),k=Object(r.useRef)(null),{form:V,handleChange:B,setForm:H}=Object(I.b)(null),[J,Q]=Object(r.useState)(!1),[X,$]=Object(r.useState)(!0),[Z,ee]=Object(r.useState)(!1),[te,ae]=Object(r.useState)(0),[re,ne]=Object(r.useState)(""),[ie,oe]=Object(r.useState)(!1),[ce,se]=Object(r.useState)(!1),[le,ue]=Object(r.useState)(!1),[de,me]=Object(r.useState)(!1),[pe,fe]=Object(r.useState)(0),[ge,he]=Object(r.useState)(!1),[Ee,be]=Object(r.useState)([]),ve=Y(e),[ye,Se]=Object(r.useState)(0),[Re,Oe]=Object(r.useState)(null),[Pe,Ie]=Object(r.useState)(null),[xe,Ue]=Object(r.useState)(null),[Ne,Te]=Object(r.useState)(0);function we(e,a){if("secteur"===a&&e.value&&(t(j.X(e.value)),Ue(null),Ie(null),Oe(e),ue(!1),me(!1),"autre"===e.label||"Autre"===e.label?se(!0):(se(!1),H(N.a.set({...V},"autreSecteur",null)))),"sousSecteurs"===a&&e.value){t(j.S(e.value));const a=e.value.split("/");a.length>2&&t(j.K(a[a.length-1])),Ue(null),Ie(e),me(!1),"autre"===e.label||"Autre"===e.label?ue(!0):(ue(!1),H(N.a.set({...V},"autreActivite",null)))}"categorie"===a&&(Ue(e),"autre"===e.label||"Autre"===e.label?me(!0):(me(!1),H(N.a.set({...V},"autreProduit",null))))}function je(){q(!1)}function Ae(a){const r=e.match.params,{produitId:n}=r;t("new"===n?j.db(a,Re,Pe,xe,J):j.bb(a,a.id,Re,Pe,xe))}return Object(r.useEffect)(()=>{v.id&&t(j.T(v))},[t,v]),Object(r.useEffect)(()=>(t("new"===D?j.Z():j.U(D)),t(j.W()),()=>{t(j.P())}),[t,D]),Object(r.useEffect)(()=>{R&&Te(R)},[R]),Object(r.useEffect)(()=>{(a.data&&!V||a.data&&V&&a.data.id!==V.id)&&(a.data.secteur&&(t(j.X(a.data.secteur["@id"])),Oe({value:a.data.secteur["@id"],label:a.data.secteur.name}),"autre"!==a.data.secteur.name&&"Autre"!==a.data.secteur.name||se(!0)),a.data.images&&be(a.data.images.map(e=>P.d+e.url)),a.data.sousSecteurs&&(t(j.S(a.data.sousSecteurs["@id"])),Ie({value:a.data.sousSecteurs["@id"],label:a.data.sousSecteurs.name}),"autre"!==a.data.sousSecteurs.name&&"Autre"!==a.data.sousSecteurs.name||ue(!0)),a.data.categorie&&(Ue({value:a.data.categorie["@id"],label:a.data.categorie.name}),"autre"!==a.data.categorie.name&&"Autre"!==a.data.categorie.name||me(!0)),H({...a.data}))},[V,a.data,H]),Object(r.useEffect)(()=>{if(!y)return;if(!y.statut)return void $(!1);let e=L()(y.expired).diff(L()(),"days");e<=0&&(ae(e),ee(!0)),y.statut&&e>0&&Q(!0)},[y]),Object(r.useEffect)(()=>{1===a.videoExist?(H(N.a.set({...V},"videos",re)),oe(!1)):2===a.videoExist&&(H(N.a.set({...V},"videos",null)),oe(!0)),a.videoExist=0},[V,H,a.videoExist]),Object(r.useEffect)(()=>(a.fiche&&H(N.a.set({...V},"ficheTechnique",a.fiche)),()=>{t(j.N())}),[V,H,a.fiche,t]),Object(r.useEffect)(()=>(a.image&&(H(N.a.set({...V},"images",[a.image,...V.images])),a.data.images&&be([...Ee,P.d+a.image.url]),Te(Ne+1)),()=>{t(j.N())}),[V,H,a.image,t]),Object(r.useEffect)(()=>(a.image_deleted&&("ImageProduit"===a.image_deleted["@type"]?(H(N.a.set({...V},"images",N.a.pullAllBy(V.images,[{id:a.image_deleted.id}],"id"))),be(N.a.reject(Ee,function(e){return e===P.d+a.image_deleted.url})),Te(Ne-1)):H(N.a.set({...V},"ficheTechnique",null))),()=>{t(j.L())}),[a.image_deleted]),Object(r.useEffect)(()=>(a.error&&(a.error.reference||a.error.titre||a.error.description||a.error.pu||a.error.secteur||a.error.sousSecteurs)&&(k.current.updateInputsWithError({...a.error}),je()),()=>{t(j.M())}),[a.error,t]),Object(r.useEffect)(()=>{a.success&&(a.success=!1,a.data=null,t(j.M()),t(j.N()),t(j.L()),e.history.push("/produits"))},[a.success,t]),S||w||a.loading?n.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},n.a.createElement(i.a,{color:"secondary"})," \u2002 Chargement ..."):!J&&(5===R&&"new"===D||a.data&&!a.data.free&&"new"!==D)?X?Z?n.a.createElement("div",{className:Object(U.a)(ve.root2,"flex flex-col flex-auto flex-shrink-0 items-center justify-center p-32")},n.a.createElement("div",{className:"flex flex-col items-center justify-center w-full"},n.a.createElement(o.a,{in:!0},n.a.createElement(c.a,{className:"w-full "},n.a.createElement(s.a,{className:"flex flex-col items-center justify-center text-center p-48"},n.a.createElement(l.a,{variant:"h4",className:"mb-16 text-red"},"Votre abonnement a expir\xe9 depuis ",-1*te," jour(s)"),n.a.createElement(l.a,{color:"textSecondary",className:"mb-40"},"Pour le renouveler, vous pouvez ajouter une commande en cliquant sur le bouton suivant"),n.a.createElement(u.a,{component:x.a,to:"/billing/renew",className:"whitespace-no-wrap",color:"secondary",variant:"contained"},n.a.createElement("span",{className:""},"Renouveler l'abonnement"))))))):5===R&&"new"===D?n.a.createElement("div",{className:Object(U.a)(ve.root2,"flex flex-col flex-auto flex-shrink-0 items-center justify-center p-32")},n.a.createElement("div",{className:"flex flex-col items-center justify-center w-full"},n.a.createElement(o.a,{in:!0},n.a.createElement(c.a,{className:"w-full "},n.a.createElement(s.a,{className:"flex flex-col items-center justify-center text-center p-48"},n.a.createElement(l.a,{variant:"h4",className:"mb-16 text-red"},"Vous avez atteint le nombre gratuit des images"),n.a.createElement(l.a,{color:"textSecondary",className:"mb-40"},"Pour ajouter vos produits vous devez avoir un pack d'abonnement, pour consulter les offres d'abonnements cliquer sur le bouton suivant"),n.a.createElement(u.a,{component:x.a,to:"/billing/pack",className:"whitespace-no-wrap",color:"secondary",variant:"contained"},n.a.createElement("span",{className:""},"Commander abonnement")),n.a.createElement(l.a,{className:"mt-16 normal-case flex items-center sm:mb-12",component:x.a,role:"button",to:"/produits",color:"inherit"},n.a.createElement(d.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")))))):n.a.createElement("div",{className:Object(U.a)(ve.root2,"flex flex-col flex-auto flex-shrink-0 items-center justify-center p-32")},n.a.createElement("div",{className:"flex flex-col items-center justify-center w-full"},n.a.createElement(o.a,{in:!0},n.a.createElement(c.a,{className:"w-full "},n.a.createElement(s.a,{className:"flex flex-col items-center justify-center text-center p-48"},n.a.createElement(l.a,{variant:"h4",className:"mb-16 text-red"},"Reserv\xe9 \xe0 nos abonn\xe9s"),n.a.createElement(l.a,{color:"textSecondary",className:"mb-40"},"Pour ajouter vos produits vous devez avoir un pack d'abonnement, pour consulter les offres d'abonnements cliquer sur le bouton suivant"),n.a.createElement(u.a,{component:x.a,to:"/billing/pack",className:"whitespace-no-wrap",color:"secondary",variant:"contained"},n.a.createElement("span",{className:""},"Commander abonnement")),n.a.createElement(l.a,{className:"mt-16 normal-case flex items-center sm:mb-12",component:x.a,role:"button",to:"/produits",color:"inherit"},n.a.createElement(d.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")))))):n.a.createElement("div",{className:Object(U.a)(ve.root2,"flex flex-col flex-auto flex-shrink-0 items-center justify-center p-32")},n.a.createElement("div",{className:"flex flex-col items-center justify-center w-full"},n.a.createElement(o.a,{in:!0},n.a.createElement(c.a,{className:"w-full max-w-384"},n.a.createElement(s.a,{className:"flex flex-col items-center justify-center text-center p-48"},n.a.createElement(l.a,{variant:"h4",className:"mb-16 text-red"},"Votre abonnement est d\xe9sactiv\xe9"),n.a.createElement(l.a,{color:"textSecondary",className:"mb-40"},"Pour le r\xe9activiter nous vous prions de nous contacter sur l'adresse mail suivante"," ",n.a.createElement("strong",null,"administrateur@lesachatsindustriels.com"))))))):n.a.createElement(O.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:V&&n.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},n.a.createElement("div",{className:"flex flex-col items-start max-w-full"},n.a.createElement(O.d,{animation:"transition.slideRightIn",delay:300},n.a.createElement(l.a,{className:"normal-case flex items-center sm:mb-12",component:x.a,role:"button",to:"/produits",color:"inherit"},n.a.createElement(d.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),n.a.createElement("div",{className:"flex items-center max-w-full"},n.a.createElement(O.d,{animation:"transition.expandIn",delay:300},V.images.length>0&&V.featuredImageId?n.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:P.d+V.featuredImageId.url,alt:V.reference}):n.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:V.reference})),n.a.createElement("div",{className:"flex flex-col min-w-0"},n.a.createElement(O.d,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(l.a,{className:"text-16 sm:text-20 truncate"},V.reference?V.reference:"Nouveau produit / service")),n.a.createElement(O.d,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(l.a,{variant:"caption",className:"items-center"},"D\xe9tails du produit / service",!J&&(w?"Chargement...":n.a.createElement(m.a,{display:"flex",alignItems:"center"},n.a.createElement(m.a,{minWidth:35},n.a.createElement(d.a,null,"image")),n.a.createElement(m.a,{width:"100%",mr:1},n.a.createElement(K,{variant:"determinate",value:Ne/5*100})),n.a.createElement(m.a,{minWidth:35},n.a.createElement(l.a,{variant:"body2",color:"textSecondary"},"".concat(Ne,"/5")))))))))),n.a.createElement(O.d,{animation:"transition.slideRightIn",delay:300},n.a.createElement(u.a,{className:"whitespace-no-wrap",variant:"contained",disabled:!C||a.loading,onClick:()=>Ae(V)},"Sauvegarder",a.loading&&n.a.createElement(i.a,{size:24,className:ve.buttonProgress})))),contentToolbar:n.a.createElement(p.a,{value:ye,onChange:function(e,t){Se(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},n.a.createElement(f.a,{className:"h-64 normal-case",label:"Infos g\xe9n\xe9rales"}),n.a.createElement(f.a,{className:"h-64 normal-case",label:V&&V.images.length>0?"Image(s) ("+V.images.length+")":"Image(s)"}),n.a.createElement(f.a,{className:"h-64 normal-case",label:V&&V.ficheTechnique?"Fiche technique (1)":"Fiche technique"}),n.a.createElement(f.a,{className:"h-64 normal-case",label:V&&V.videos?"Vid\xe9o (1)":"Vid\xe9o"})),content:V&&n.a.createElement("div",{className:"p-10  sm:p-24 max-w-2xl"},0===ye&&n.a.createElement(F.a,{onValidSubmit:Ae,onValid:function(){q(!0)},onInvalid:je,ref:k,className:"flex flex-col "},n.a.createElement(g.a,{container:!0,spacing:3,className:Object(U.a)(J&&"mb-24")},!a.checking&&a.exist&&n.a.createElement(g.a,{item:!0,xs:12},n.a.createElement(l.a,{variant:"caption",className:Object(U.a)("font-bold uppercase flex items-center text-orange p-16",ve.warning)},n.a.createElement(d.a,{className:"mr-2"},"warning"),"AVERTISSEMENT! un de vos coll\xe8gues utilise d\xe9j\xe0 l'activit\xe9 que vous avez choisie.")),!J&&n.a.createElement(g.a,{item:!0,xs:12,sm:4},n.a.createElement(_.a,{id:"secteur",name:"secteur",className:"MuiFormControl-fullWidth MuiTextField-root",value:Re,onChange:e=>we(e,"secteur"),placeholder:"S\xe9lectionner un secteur",textFieldProps:{label:"Secteurs",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},isLoading:a.loadingSecteurs,options:a.secteurs,fullWidth:!0,required:!0}),ce?n.a.createElement(O.F,{className:"mt-16 w-full",type:"text",name:"autreSecteur",value:V.autreSecteur,onChange:B,label:"Autre Secteur",validations:{minLength:2,maxLength:50},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 2",maxLength:"La longueur maximale de caract\xe8re est 50"},variant:"outlined",required:!0}):""),n.a.createElement(g.a,{item:!0,xs:12,sm:4},n.a.createElement(_.a,{id:"sousSecteurs",name:"sousSecteurs",className:"MuiFormControl-fullWidth MuiTextField-root",value:Pe,onChange:e=>we(e,"sousSecteurs"),placeholder:"S\xe9lectionner une activit\xe9",textFieldProps:{label:"Activit\xe9s",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},isLoading:a.loadingSousSecteurs,options:y?y.sousSecteurs:a.sousSecteurs,fullWidth:!0,required:!0}),le?n.a.createElement(O.F,{className:"mt-16 w-full",type:"text",name:"autreActivite",value:V.autreActivite,onChange:B,label:"Autre Activit\xe9",validations:{minLength:2,maxLength:50},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 2",maxLength:"La longueur maximale de caract\xe8re est 50"},variant:"outlined",required:!0}):""),n.a.createElement(g.a,{item:!0,xs:12,sm:4},n.a.createElement(_.a,{id:"categorie",name:"categorie",className:"MuiFormControl-fullWidth MuiTextField-root",value:xe,onChange:e=>we(e,"categorie"),placeholder:"S\xe9lectionner un produit",textFieldProps:{label:"Produits",InputLabelProps:{shrink:!0},variant:"outlined",required:!0},isLoading:a.loadingCategories,options:a.categories,fullWidth:!0}),de?n.a.createElement(O.F,{className:"mt-16 w-full",type:"text",name:"autreProduit",value:V.autreProduit,onChange:B,label:"Autre Produit",validations:{minLength:2,maxLength:50},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 2",maxLength:"La longueur maximale de caract\xe8re est 50"},variant:"outlined",required:!0}):"")),n.a.createElement(g.a,{container:!0,spacing:3},n.a.createElement(g.a,{item:!0,xs:12,sm:12},n.a.createElement(O.F,{label:"Titre",id:"titre",className:"mt-16",name:"titre",value:V.titre,onChange:B,variant:"outlined",validations:{minLength:6},validationErrors:{minLength:"La longueur minimale des caract\xe8res est de 6"},required:!0,fullWidth:!0})),n.a.createElement(g.a,{item:!0,xs:12,sm:6},n.a.createElement(O.F,{className:"mb-24",label:"R\xe9f\xe9rence",id:"reference",name:"reference",value:V.reference,onChange:B,variant:"outlined",validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},required:!0,fullWidth:!0})),n.a.createElement(g.a,{item:!0,xs:12,sm:6},n.a.createElement(O.F,{className:"mb-24",label:"Prix Unitaire du produit",type:"number",step:"any",id:"pu",name:"pu",value:String(V.pu),onChange:B,variant:"outlined",fullWidth:!0}))),n.a.createElement(O.F,{className:"mb-16  w-full",type:"text",name:"description",value:V.description,onChange:B,label:"Description",autoComplete:"description",validations:{minLength:10},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 10"},required:!0,variant:"outlined",multiline:!0,rows:"4"})),1===ye&&n.a.createElement("div",null,n.a.createElement("input",{accept:"text/plain,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/vnd.ms-powerpoint,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,application/pdf,image/jpeg,image/gif,image/png,application/pdf,",className:"hidden",id:"button-file",type:"file",disabled:a.imageReqInProgress,onChange:function(e){const a=e.target.files[0];a&&t(j.gb(a))}}),n.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap"},n.a.createElement("label",{htmlFor:"button-file",className:Object(U.a)(ve.produitImageUpload,"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5",(5===V.images.length||!J&&5===Ne)&&"hidden")},a.imageReqInProgress?n.a.createElement(i.a,{size:24,className:ve.buttonProgress}):n.a.createElement(d.a,{fontSize:"large",color:"action"},"arrow_upward")),V.images.map(e=>n.a.createElement("div",{className:Object(U.a)(ve.produitImageItem,"flex items-center cursor-pointer justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden  shadow-1 hover:shadow-5",e.id===(V.featuredImageId?V.featuredImageId.id:null)&&"featured"),key:e.id,onClick:()=>{he(!0)}},n.a.createElement(h.a,{title:"Image en vedette"},n.a.createElement(E.a,{className:ve.produitImageFeaturedStar,onClick:t=>{t.stopPropagation(),function(e){H(N.a.set({...V},"featuredImageId",e))}(e)}},n.a.createElement(d.a,null,"star"))),n.a.createElement(h.a,{title:"Supprimer"},n.a.createElement(E.a,{className:ve.produitImageFeaturedStar2,onClick:a=>{a.stopPropagation(),t(j.R(e))}},n.a.createElement(d.a,null,"delete"))),n.a.createElement("img",{className:"max-w-none w-auto h-full",src:P.d+e.url,alt:"produit"}))),n.a.createElement(g.a,{container:!0,spacing:3},n.a.createElement(g.a,{item:!0,xs:12,sm:6},n.a.createElement(l.a,{variant:"caption"},"- Taille maximale par fichier : 2 Mb ",n.a.createElement("br",null),"- 5 fichiers \xe0 t\xe9l\xe9charger"))),ge&&n.a.createElement(W.a,{mainSrc:Ee[pe],nextSrc:Ee[(pe+1)%Ee.length],prevSrc:Ee[(pe+Ee.length-1)%Ee.length],onCloseRequest:()=>he(!1),onMovePrevRequest:()=>fe((pe+Ee.length-1)%Ee.length),onMoveNextRequest:()=>fe((pe+1)%Ee.length)}))),2===ye&&n.a.createElement("div",null,n.a.createElement("input",{accept:"text/plain,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/vnd.ms-powerpoint,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,application/pdf,image/jpeg,image/gif,image/png,application/pdf,",className:"hidden",id:"button-file",type:"file",disabled:a.ficheReqInProgress,onChange:function(e){const a=e.target.files[0];a&&t(j.fb(a))}}),n.a.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap"},n.a.createElement("label",{htmlFor:"button-file",className:Object(U.a)(ve.produitImageUpload,"flex items-center justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5",V.ficheTechnique&&"hidden")},a.ficheReqInProgress?n.a.createElement(i.a,{size:24,className:ve.buttonProgress}):n.a.createElement(d.a,{fontSize:"large",color:"action"},"arrow_upward")),V.ficheTechnique?n.a.createElement("div",{className:Object(U.a)(ve.produitImageItem,"flex items-center cursor-pointer justify-center relative w-128 h-128 rounded-4 mr-16 mb-16 overflow-hidden  shadow-1 hover:shadow-5"),key:V.ficheTechnique.id,onClick:()=>window.open(P.d+V.ficheTechnique.url,"_blank")},n.a.createElement(h.a,{title:"Supprimer"},n.a.createElement(E.a,{className:ve.produitImageFeaturedStar,onClick:e=>{e.stopPropagation(),t(j.R(V.ficheTechnique))}},n.a.createElement(d.a,null,"delete"))),"image"===N.a.split(V.ficheTechnique,"/",1)[0]?n.a.createElement("img",{className:"max-w-none w-auto h-full",src:P.d+V.ficheTechnique.url,alt:"fiche"}):n.a.createElement(d.a,{color:"secondary",style:{fontSize:80}},"insert_drive_file")):"",n.a.createElement(g.a,{container:!0,spacing:3},n.a.createElement(g.a,{item:!0,xs:12,sm:6},n.a.createElement(l.a,{variant:"caption"},"- Taille maximale de fichier : 3 Mo"))))),3===ye&&n.a.createElement(g.a,{container:!0,spacing:2},n.a.createElement(g.a,{item:!0,xs:12,sm:6},n.a.createElement(b.a,{label:"ID vid\xe9o Youtube",id:"video",name:"video",variant:"outlined",onChange:e=>{ne(e.target.value)},fullWidth:!0}),n.a.createElement(u.a,{className:"whitespace-no-wrap mt-10 mb-10",variant:"contained",fullWidth:!0,size:"large",color:"secondary",disabled:a.loadingRechercheVideo||!re,onClick:()=>{t(j.Y(re))}},"Rechercher",a.loadingRechercheVideo&&n.a.createElement(i.a,{size:24,className:ve.buttonProgress})),n.a.createElement(l.a,{variant:"h6",className:"mb-10"},n.a.createElement(d.a,{color:"secondary"},"info")," COMMENT OBTENIR L'ID DE LA VID\xc9O YOUTUBE?"," "),n.a.createElement(l.a,{className:"mb-10"},"Il n'est pas difficile d'obtenir l'ID vid\xe9o Youtube dans le navigateur ou via l'application. Suivez ces \xe9tapes:"),n.a.createElement(l.a,{variant:"h6",className:"mb-10"},"TROUVEZ L'ID DE LA VID\xc9O YOUTUBE VIA LE NAVIGATEUR"),n.a.createElement(l.a,{className:"mb-10"},n.a.createElement("ol",null,n.a.createElement("li",null,"Acc\xe9dez \xe0 votre vid\xe9o Youtube pr\xe9f\xe9r\xe9e"),n.a.createElement("li",null,"V\xe9rifiez l'URL dans le navigateur Web, par exemple. https://www.youtube.com/watch?v=JGwWNGJdvx8"),n.a.createElement("li",null,'L\'ID vid\xe9o est la partie entre "? V =" et "&", dans ce cas "JGwWNGJdvx8"'),n.a.createElement("li",null,'Parfois, l\'URL de la vid\xe9o YouTube ressemble \xe0 "https://youtube.be/JGwWNGJdvx"'),n.a.createElement("li",null,'Dans ce cas, l\'url de la vid\xe9o fait partie de la derni\xe8re barre oblique "/" et "&"'))),n.a.createElement(l.a,{className:"mb-10",variant:"h6"},"TROUVER UN ID VIDEO YOUTUBE DANS L'APPLICATION YOUTUBE"),n.a.createElement(l.a,{className:"mb-10"},n.a.createElement("ol",null,n.a.createElement("li",null,"Ouvrez l'application Youtube"),n.a.createElement("li",null,"Ouvrez la vid\xe9o dont vous souhaitez l'ID vid\xe9o"),n.a.createElement("li",null,"Cliquez sur le bouton Partager et choisissez le lien"),n.a.createElement("li",null,"Le lien est copi\xe9 dans votre presse-papiers et vous pouvez le coller n'importe o\xf9"),n.a.createElement("li",null,"Le lien ressemble \xe0 https://youtube.be/JGwWNGJdvx8"),n.a.createElement("li",null,'La vid\xe9o est la partie entre la derni\xe8re barre oblique "/" et "&", dans ce cas "JGwWNGJdvx8".')))),n.a.createElement(g.a,{item:!0,xs:12,sm:6},a.loadingRechercheVideo?n.a.createElement(M.a,{height:250,width:320,speed:2},n.a.createElement("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"320",height:"250"})):V.videos?n.a.createElement(n.a.Fragment,null,n.a.createElement(G.a,{videoId:V.videos,opts:{width:"460",playerVars:{showinfo:0,fs:0,modestbranding:1,rel:0}}}),n.a.createElement(z.a,{component:"button",variant:"body2",className:"text-red",onClick:()=>H(N.a.set({...V},"videos",null))},"X Supprimer cette vid\xe9o")):ie?"ID vid\xe9o n'existe pas dans la base de donn\xe9es YouTube":""))),innerScroll:!0})})}}]);