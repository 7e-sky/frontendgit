(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{1051:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(4),c=a.n(i),l=a(0),o=a.n(l),s=(a(1),a(2)),u=a(7),d=a(98),m=o.a.forwardRef(function(e,t){var a=e.children,n=e.classes,i=e.className,l=e.disableTypography,u=void 0!==l&&l,m=c()(e,["children","classes","className","disableTypography"]);return o.a.createElement("div",r()({className:Object(s.a)(n.root,i),ref:t},m),u?a:o.a.createElement(d.a,{variant:"h6"},a))});t.a=Object(u.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(m)},1052:function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(0),c=a.n(i),l=(a(1),a(7)),o=a(98),s=c.a.forwardRef(function(e,t){return c.a.createElement(o.a,r()({component:"p",variant:"body1",color:"textSecondary",ref:t},e))});t.a=Object(l.a)({root:{marginBottom:16}},{name:"MuiDialogContentText"})(s)},1394:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(40),c=a(140),l=a(23),o=a(974),s=a(967),u=a(1029),d=a(958),m=a(1051),f=a(1037),p=a(1052),g=a(1038),h=a(1035),b=a(1013),E=a(78),v=a(1105),j=a(6),x=a(64),O=a.n(x),N=a(347),y=a(1034),w=a(10),C=a(2),S=Object(y.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},chip:{marginLeft:e.spacing(1),padding:2,background:"#ef5350",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chip2:{marginLeft:e.spacing(1),padding:2,background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chip3:{padding:2,background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chipOrange:{marginLeft:e.spacing(1),padding:2,background:"#ff9800",color:"white",fontWeight:"bold",fontSize:"11px",height:20}}});var F=Object(E.g)(function(e){var t=S(),a=Object(j.b)(),c=Object(j.c)(function(e){return e.produitsFournisseursApp.produits.data}),E=Object(j.c)(function(e){return e.produitsFournisseursApp.produits.loading}),x=Object(j.c)(function(e){return e.produitsFournisseursApp.produits.pageCount}),y=Object(j.c)(function(e){return e.produitsFournisseursApp.produits.parametres}),F=Object(j.c)(function(e){return e.auth.user}),k=Object(j.c)(function(e){return e.produitsFournisseursApp.produits.searchText}),T=Object(n.useState)(null),A=Object(l.a)(T,2),I=A[0],P=A[1];if(Object(n.useEffect)(function(){c&&P(function(e,t){var a=Object.keys(e).map(function(t){return e[t]});return 0===t.length?a:i.y.filterArrayByString(a,t)}(c,k))},[c,k]),!I)return null;var z=w.a.debounce(function(e){return a(v.eb(e))},1e3);return r.a.createElement(i.d,{animation:"transition.slideUpIn",delay:300},r.a.createElement(N.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden border-2",getTrProps:function(t,a,n){return{className:"h-64 cursor-pointer",onClick:function(t,n){a&&e.history.push("/produits/"+a.original.id)}}},getTheadProps:function(e,t,a){return{className:"h-64 font-bold"}},data:I,columns:[{Header:"",accessor:"featuredImageId",Cell:function(e){return r.a.createElement("div",{className:"flex items-center relative "},e.original.featuredImageId?r.a.createElement("img",{className:Object(C.a)("w-full block rounded"),src:i.G+e.original.featuredImageId.url,alt:e.original.reference}):r.a.createElement("img",{className:Object(C.a)("w-full block rounded"),src:"assets/images/ecommerce/product-image-placeholder.png",alt:e.original.reference}),e.original.free?r.a.createElement(o.a,{className:Object(C.a)("absolute bottom-2 left-1",t.chip3),label:"Free"}):"")},className:"justify-center ",width:64,sortable:!1,filterable:!1},{Header:"Statut",accessor:"isValid",className:"justify-center ",sortable:!1,filterable:!0,Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},e.original.isValid?r.a.createElement(o.a,{className:t.chip2,label:"Publi\xe9"}):r.a.createElement(o.a,{className:t.chipOrange,label:"En attente"}),e.original.isSelect?r.a.createElement(o.a,{className:t.chip2,label:"Focus produit"}):"")},Filter:function(e){var t=e.filter,a=e.onChange;return r.a.createElement("select",{onChange:function(e){return a(e.target.value)},style:{width:"100%"},value:t?t.value:""},r.a.createElement("option",{value:""},"Tous"),r.a.createElement("option",{value:"true"},"Publi\xe9"),r.a.createElement("option",{value:"false"},"En attente"))}},{Header:"Images",className:"justify-center ",accessor:"images",sortable:!1,filterable:!1,Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},e.original.images.length)}},{Header:"Ref",className:"justify-center ",accessor:"reference",filterable:!0},{Header:"Titre",accessor:"titre",filterable:!0},{Header:"Produit",className:"justify-center ",filterable:!0,accessor:"categorie.name",Cell:function(e){return e.original.categorie?e.original.categorie.name:"N/A"}},{Header:"Date de cr\xe9ation",className:"justify-center ",filterable:!0,accessor:"created",Cell:function(e){return O()(e.original.created).format("DD/MM/YYYY")},Filter:function(e){var t=e.filter,a=e.onChange;return r.a.createElement(s.a,{onChange:function(e){return a(e.target.value)},style:{width:"100%"},value:t?t.value:"",type:"date",InputLabelProps:{shrink:!0}})}},{Header:"",Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(u.a,{title:"Supprimer"},r.a.createElement(d.a,{className:"text-red text-20",onClick:function(t){t.stopPropagation(),a(v.ab({children:r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{id:"alert-dialog-title"},"Suppression"),r.a.createElement(f.a,null,r.a.createElement(p.a,{id:"alert-dialog-description"},"Voulez vous vraiment supprimer cet enregistrement ?")),r.a.createElement(g.a,null,r.a.createElement(h.a,{onClick:function(){return a(v.Q())},color:"primary"},"Non"),r.a.createElement(h.a,{onClick:function(t){a(v.cb(e.original,y,F)),a(v.Q())},color:"primary",autoFocus:!0},"Oui")))}))}},r.a.createElement(b.a,null,"delete"))),r.a.createElement(u.a,{title:"Modifier"},r.a.createElement(d.a,{className:"text-orange text-20"},r.a.createElement(b.a,null,"edit"))))}}],manual:!0,defaultSortDesc:!0,pages:x,page:y.page-1,defaultPageSize:10,loading:E,showPageSizeOptions:!1,onPageChange:function(e){y.page=e+1,a(v.eb(y))},onSortedChange:function(e,t,n){y.page=1,y.filter.id=e[0].id,y.filter.direction=e[0].desc?"desc":"asc",a(v.eb(y))},onFilteredChange:function(e){y.page=1,y.search=e,z(y)},noDataText:"Aucun produit trouv\xe9",loadingText:"Chargement...",ofText:"sur"}))}),k=a(98),T=a(1298),A=a(18),I=a(954),P=a(345),z=a(1032),H=Object(I.a)(function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:e.palette.grey["light"===e.palette.type?200:700]},bar:{borderRadius:5,backgroundColor:"#1a90ff"}}})(z.a),W=Object(P.a)(function(e){return{chip1:{padding:2,background:"#e3342f",marginTop:10,color:"white",fontWeight:"bold",fontSize:"11px",height:20},chip2:{padding:2,background:"#4caf50",marginTop:10,color:"white",fontWeight:"bold",fontSize:"11px",height:20}}});var D=function(e){var t=Object(j.c)(function(e){return e.auth.user.abonnement}),a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],s=c[1],u=Object(j.c)(function(e){return e.produitsFournisseursApp.produits.nbImages}),d=(W(e),Object(j.c)(function(e){return e.produitsFournisseursApp.produits.loading}),Object(j.c)(function(e){return e.produitsFournisseursApp.produits.loadingFree}));return Object(n.useEffect)(function(){if(t){var e=O()(t.expired).diff(O()(),"days");t.statut&&e>0&&s(!0)}},[t]),r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex flex-col min-w-0"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(i.d,{animation:"transition.expandIn",delay:300},r.a.createElement(b.a,{className:"text-32 mr-0 sm:mr-12"},"shopping_cart")),r.a.createElement(i.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(k.a,{className:"hidden sm:flex",variant:"h6"},"Vos Produits / Services"))),!o&&(d?"Chargement...":r.a.createElement(T.a,{display:"flex",alignItems:"center"},r.a.createElement(T.a,{minWidth:35},r.a.createElement(b.a,null,"image")),r.a.createElement(T.a,{width:"100%",mr:1},r.a.createElement(H,{variant:"determinate",value:u/5*100})),r.a.createElement(T.a,{minWidth:35},r.a.createElement(k.a,{variant:"body2",color:"textSecondary"},"".concat(u,"/5")))))),r.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"}),r.a.createElement(i.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(h.a,{component:A.a,to:"/produits/new",className:"whitespace-no-wrap",variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex"},"Ajouter nouveau produit / service"),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},L=a(1199),M=a(346);t.default=Object(c.a)("produitsFournisseursApp",L.a)(function(){var e=Object(j.b)(),t=Object(j.c)(function(e){return e.auth.user}),a=Object(j.c)(function(e){return e.produitsFournisseursApp.produits.parametres});return Object(n.useEffect)(function(){t.id&&e(v.V(t.id,a))},[e,a,t]),Object(n.useEffect)(function(){if(t.id)return e(v.T(t)),function(){e(v.O())}},[e,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(M.Helmet,null,r.a.createElement("title",null,"Mes produits / services | Les Achats Industriels"),r.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),r.a.createElement("meta",{name:"googlebot",content:"noindex"})),r.a.createElement(i.o,{classes:{content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(D,null),content:r.a.createElement(F,null),innerScroll:!0}))})}}]);