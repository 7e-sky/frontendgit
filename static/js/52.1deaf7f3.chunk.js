(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1244:function(e,t,a){"use strict";var r=a(3),n=a.n(r),i=a(4),o=a.n(i),s=a(0),c=a.n(s),u=a(2),l=a(8),d=a(89),p=c.a.forwardRef(function(e,t){var a=e.children,r=e.classes,i=e.className,s=e.disableTypography,l=void 0!==s&&s,p=o()(e,["children","classes","className","disableTypography"]);return c.a.createElement("div",n()({className:Object(u.a)(r.root,i),ref:t},p),l?a:c.a.createElement(d.a,{variant:"h6"},a))});t.a=Object(l.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(p)},1245:function(e,t,a){"use strict";var r=a(3),n=a.n(r),i=a(0),o=a.n(i),s=a(8),c=a(89),u=o.a.forwardRef(function(e,t){return o.a.createElement(c.a,n()({component:"p",variant:"body1",color:"textSecondary",ref:t},e))});t.a=Object(s.a)({root:{marginBottom:16}},{name:"MuiDialogContentText"})(u)},1251:function(e,t,a){"use strict";var r=a(33),n=a(50);const i="[FOURNISSEURS ADMIN APP] REQUEST FOURNISSEURS",o="[FOURNISSEURS ADMIN APP] SET PARAMETRES DATA",s="[FOURNISSEURS ADMIN APP] GET FOURNISSEURS",c="[FOURNISSEURS ADMIN APP] SET FOURNISSEURS SEARCH TEXT";function u(e){var t="";e.search.length>0&&e.search.map(e=>e.value&&("created"===e.id?t+="&"+e.id+"[after]="+e.value:"step"===e.id?t+="-1"===e.value?"&".concat(e.id,"=1&isactif=false"):t+="1"===e.value?"&".concat(e.id,"=").concat(e.value,"&isactif=true"):"&".concat(e.id,"=").concat(e.value):t+="&".concat(e.id,"=").concat(e.value)));const a=n.a.get("/api/fournisseurs?page=".concat(e.page).concat(t,"&order[").concat(e.filter.id,"]=").concat(e.filter.direction));return e=>(e({type:i}),a.then(t=>e({type:s,payload:t.data})))}function l(e,t,a){let o={isactif:t};return t=>{return t({type:i}),n.a.put(e["@id"],o).then(e=>Promise.all([t(Object(r.B)({message:"Statut modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>t(u(a))))}}function d(e){return{type:o,parametres:e}}var p=a(102),f=a(10),m=a(200);const S="[FOURNISSEURS ADMIN APP] REQUEST FOURNISSEUR",E="[FOURNISSEURS ADMIN APP] GET FOURNISSEUR",g="[FOURNISSEURS ADMIN APP] GET PAYS",A="[FOURNISSEURS ADMIN APP] GET VILLES",h="[FOURNISSEURS ADMIN APP] REQUEST PAYS",R="[FOURNISSEURS ADMIN APP] REQUEST_ADD_VILLE",y="[FOURNISSEURS ADMIN APP] SAVE_ADD_VILLE",P="[FOURNISSEURS ADMIN APP] SAVE_ERROR_ADD_VILLE",v="[FOURNISSEURS ADMIN APP] CLEAN_UP_VILLE",I="[FOURNISSEURS ADMIN APP] REQUEST VILLES",U="[FOURNISSEURS ADMIN APP] SAVE ERROR",O="[FOURNISSEURS ADMIN APP] UPDATE FOURNISSEUR",N="[FOURNISSEURS ADMIN APP] REQUEST UPDATE_FOURNISSEUR",b="[FOURNISSEURS ADMIN APP] REQUEST_ADD_SECTEUR",D="[FOURNISSEURS ADMIN APP] SAVE_ADD_SECTEUR",T="[FOURNISSEURS ADMIN APP] SAVE_ERROR_ADD_SECTEUR",C="[FOURNISSEURS ADMIN APP] REQUEST_ADD_PRODUIT",F="[FOURNISSEURS ADMIN APP] SAVE_ADD_PRODUIT",M="[FOURNISSEURS ADMIN APP] REQUEST_SOUS_SECTEUR",_="[FOURNISSEURS ADMIN APP] GET_SOUS_SECTEUR",j="[FOURNISSEURS ADMIN APP] UPLOAD AVATAR",x="[FOURNISSEURS ADMIN APP] UPLOAD REQUEST",H="[FOURNISSEURS ADMIN APP] UPLOAD ERROR",B="[FOURNISSEURS ADMIN APP] REQUEST SECTEUR",L="[FOURNISSEURS ADMIN APP] GET SECTEUR",w="[FOURNISSEURS ADMIN APP] REQUEST PRODUITS",V="[FOURNISSEURS ADMIN APP] GET PRODUITS",G="[FOURNISSEURS ADMIN APP] REQUEST ABONNEMENTS",z="[FOURNISSEURS ADMIN APP] GET ABONNEMENTS",k="[FOURNISSEURS ADMIN APP] REQUEST JETONS",Q="[FOURNISSEURS ADMIN APP] GET JETONS",q="[FOURNISSEURS ADMIN APP] REQUEST BLACKLISTES",J="[FOURNISSEURS ADMIN APP] GET BLACKLISTES",Y="[FOURNISSEUR ADMIN APP] CLEAN_UP_FOURNISSEUR",K="[FOURNISSEUR ADMIN APP] SET PARAMETRES DETAIL";function X(e){return{type:K,parametres:e}}function W(){return e=>e({type:Y})}function Z(){return e=>e({type:v})}function $(e){const t=n.a.get("/api/fournisseurs/".concat(e));return e=>(e({type:S}),t.then(t=>{e({type:E,payload:t.data})}))}function ee(e,t){var a="";t.search.length>0&&t.search.map(e=>e.value&&("created"===e.id?a+="&"+e.id+"[after]="+e.value:a+="&"+e.id+"="+e.value));const r=n.a.get("/api/fournisseurs/".concat(e,"/produits?page=").concat(t.page).concat(a,"&order[").concat(t.filter.id,"]=").concat(t.filter.direction));return e=>(e({type:w}),r.then(t=>e({type:V,payload:t.data})))}function te(e){const t=n.a.get("/api/fournisseurs/".concat(e,"/abonnements?pagination=false&order[expired]=desc"));return e=>(e({type:G}),t.then(t=>e({type:z,payload:t.data})))}function ae(e){const t=n.a.get("/api/fournisseurs/".concat(e,"/jetons?pagination=false&order[created]=desc"));return e=>(e({type:k}),t.then(t=>e({type:Q,payload:t.data})))}function re(e){const t=n.a.get("/api/fournisseurs/".concat(e,"/blacklistes?order[created]=desc"));return e=>(e({type:q}),t.then(t=>e({type:J,payload:t.data})))}function ne(e){const t={name:e},a=n.a.post("/api/secteurs",t);return e=>(e({type:b}),a.then(t=>{e({type:D}),e(Object(r.B)({message:"Secteur bien ajout\xe9!",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),e(se())}).catch(t=>{e({type:T}),e(Object(r.B)({message:f.a.map(p.a.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function ie(e,t){const a={secteur:e,name:t},i=n.a.post("/api/sous_secteurs",a);return t=>i.then(a=>{t(Object(r.B)({message:"Activit\xe9 bien ajout\xe9e!",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),t(ce(e))}).catch(e=>{t(Object(r.B)({message:f.a.map(p.a.parseApiErrors(e),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}function oe(e,t){const a={name:t,sousSecteurs:[e]},i=n.a.post("/api/categories",a);return e=>(e({type:C}),i.then(t=>{e({type:F,payload:t.data}),e(Object(r.B)({message:"Produit bien ajout\xe9!",autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))}).catch(t=>{e({type:T}),e(Object(r.B)({message:f.a.map(p.a.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function se(){const e=n.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name");return t=>(t({type:B}),e.then(e=>{t({type:L,payload:e.data})}))}function ce(e){const t=n.a.get("".concat(e,"/sous_secteurs?pagination=false&props[]=id&props[]=name"));return e=>(e({type:M}),t.then(t=>{e({type:_,payload:t.data})}))}function ue(){const e=n.a.get("/api/pays?pagination=false&props[]=id&props[]=name");return t=>(t({type:h}),e.then(e=>{t({type:g,payload:e.data["hydra:member"]})}))}function le(e){const t=n.a.get("".concat(e,"/villes?pagination=false&props[]=id&props[]=name"));return e=>(e({type:I}),t.then(t=>{e({type:A,payload:t.data["hydra:member"]})}))}function de(e,t,a){let i={name:e,pays:"/api/pays/".concat(t)};const o=n.a.post("/api/villes",i);return e=>(e({type:R}),e({type:N}),o.then(r=>{e(le("/api/pays/".concat(t)));let i={ville:r.data["@id"],autreVille:null};return n.a.put("/api/fournisseurs/".concat(a),i).then(t=>{e(m.b("fournisseurs-admin")),e(m.b("fournisseurs-collaps")),e({type:O,payload:t.data}),e({type:y})})}).catch(t=>{e({type:P}),e(Object(r.B)({message:f.a.map(p.a.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function pe(e){const t=n.a.put("/api/fournisseurs/".concat(e),{autreCategories:null});return e=>(e({type:N}),t.then(t=>{e({type:O,payload:t.data}),e(m.b("fournisseurs-admin")),e(m.b("fournisseurs-collaps"))}).catch(t=>{e({type:U,payload:p.a.parseApiErrors(t)}),e(Object(r.B)({message:f.a.map(p.a.parseApiErrors(t),function(e,t){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))}))}function fe(e,t){let a={...e,ice:"Maroc"!==e.pays.label?null:e.ice,pays:e.pays.value,ville:e.ville.value,codepostal:e.codepostal?parseInt(e.codepostal):null};return null===a.codepostal&&delete a.codepostal,e=>{const i=n.a.put("/api/fournisseurs/".concat(t),a);return e({type:N}),i.then(t=>Promise.all([e({type:O,payload:t.data}),e(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(t=>{e({type:U,payload:p.a.parseApiErrors(t)})})}}function me(e,t){let a={isactif:t};return t=>{return t({type:N}),n.a.put(e["@id"],a).then(e=>Promise.all([t({type:O,payload:e.data}),t(Object(r.B)({message:"Statut modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]))}}function Se(e,t){var a={categories:f.a.map(e,function(e,t){return e["@id"]})};return e=>{const i=n.a.put("/api/fournisseurs/".concat(t),a);return e({type:N}),i.then(t=>Promise.all([e({type:O,payload:t.data}),e(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(t=>{e({type:U,payload:p.a.parseApiErrors(t)})})}}function Ee(e,t){return a=>{const i=n.a.put("/api/fournisseurs/".concat(t),e);return a({type:N}),i.then(e=>Promise.all([a({type:O,payload:e.data}),a(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(e=>{a({type:U,payload:p.a.parseApiErrors(e)})})}}function ge(e,t){return a=>{const i=new FormData;i.append("file",e);const o=n.a.post("/api/avatars",i,{headers:{"Content-Type":"multipart/form-data"}});return a({type:x}),o.then(e=>Promise.all([e,a({type:j,payload:e.data}),a(Ae({avatar:e.data["@id"]},t))])).catch(e=>{a({type:H}),a(Object(r.B)({message:f.a.map(p.a.parseApiErrors(e),function(e,t){return t+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function Ae(e,t){return a=>{const i=n.a.put("/api/fournisseurs/".concat(t),e);return a({type:N}),i.then(e=>Promise.all([a({type:O,payload:e.data}),a(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])).catch(e=>{a({type:U,payload:p.a.parseApiErrors(e)})})}}var he=a(60),Re=a.n(he);const ye="[SEARCH CATEGORIES FRS APP] SC_SET_SEARCH_TEXT",Pe="[SEARCH CATEGORIES FRS APP] REQUEST_DATA",ve="[SEARCH CATEGORIES FRS APP] GET_DATA",Ie="[SEARCH CATEGORIES FRS APP] SC_OPEN",Ue="[SEARCH CATEGORIES FRS APP] SC_CLOSE",Oe="[SEARCH CATEGORIES FRS APP] SC_SUSSP",Ne="[SEARCH CATEGORIES FRS APP] CLEAN_UP",be=Re.a.CancelToken;let De,Te;function Ce(){return e=>e({type:Ne})}function Fe(e){return Te&&clearTimeout(Te),t=>{t({type:Pe}),Te=setTimeout(()=>{t(function(e){De&&De();const t=n.a.get("/api/categories?name=".concat(e,"&del=false&props[]=id&props[]=name"),{cancelToken:new be(function(e){De=e})});return e=>t.then(t=>{e({type:ve,payload:t.data})}).catch(e=>{Re.a.isCancel(e)&&console.log("get canceled")})}(e))},300+1e3*Math.random())}}function Me(e){return{type:ye,searchText:e.target.value}}function _e(){return{type:Ie}}function je(){return{type:Ue}}const xe="[DIALOG] OPEN",He="[DIALOG] CLOSE";function Be(){return{type:He}}function Le(e){return{type:xe,options:e}}a.d(t,"v",function(){return i}),a.d(t,"P",function(){return o}),a.d(t,"h",function(){return s}),a.d(t,"O",function(){return c}),a.d(t,"ib",function(){return u}),a.d(t,"V",function(){return l}),a.d(t,"tb",function(){return d}),a.d(t,"u",function(){return S}),a.d(t,"g",function(){return E}),a.d(t,"j",function(){return g}),a.d(t,"n",function(){return A}),a.d(t,"x",function(){return h}),a.d(t,"r",function(){return R}),a.d(t,"F",function(){return y}),a.d(t,"J",function(){return P}),a.d(t,"c",function(){return v}),a.d(t,"C",function(){return I}),a.d(t,"G",function(){return U}),a.d(t,"R",function(){return O}),a.d(t,"B",function(){return N}),a.d(t,"q",function(){return b}),a.d(t,"E",function(){return D}),a.d(t,"I",function(){return T}),a.d(t,"p",function(){return C}),a.d(t,"D",function(){return F}),a.d(t,"H",function(){return"[FOURNISSEURS ADMIN APP] SAVE_ERROR_ADD_PRODUIT"}),a.d(t,"A",function(){return M}),a.d(t,"m",function(){return _}),a.d(t,"S",function(){return j}),a.d(t,"U",function(){return x}),a.d(t,"T",function(){return H}),a.d(t,"z",function(){return B}),a.d(t,"l",function(){return L}),a.d(t,"y",function(){return w}),a.d(t,"k",function(){return V}),a.d(t,"o",function(){return G}),a.d(t,"d",function(){return z}),a.d(t,"w",function(){return k}),a.d(t,"i",function(){return Q}),a.d(t,"s",function(){return q}),a.d(t,"e",function(){return J}),a.d(t,"b",function(){return Y}),a.d(t,"Q",function(){return K}),a.d(t,"ub",function(){return X}),a.d(t,"cb",function(){return W}),a.d(t,"bb",function(){return Z}),a.d(t,"hb",function(){return $}),a.d(t,"lb",function(){return ee}),a.d(t,"fb",function(){return te}),a.d(t,"jb",function(){return ae}),a.d(t,"gb",function(){return re}),a.d(t,"Y",function(){return ne}),a.d(t,"W",function(){return ie}),a.d(t,"X",function(){return oe}),a.d(t,"mb",function(){return se}),a.d(t,"nb",function(){return ce}),a.d(t,"kb",function(){return ue}),a.d(t,"ob",function(){return le}),a.d(t,"Z",function(){return de}),a.d(t,"Ab",function(){return pe}),a.d(t,"wb",function(){return fe}),a.d(t,"eb",function(){return me}),a.d(t,"xb",function(){return Se}),a.d(t,"yb",function(){return Ee}),a.d(t,"zb",function(){return ge}),a.d(t,"M",function(){return ye}),a.d(t,"t",function(){return Pe}),a.d(t,"f",function(){return ve}),a.d(t,"L",function(){return Ie}),a.d(t,"K",function(){return Ue}),a.d(t,"N",function(){return Oe}),a.d(t,"a",function(){return Ne}),a.d(t,"ab",function(){return Ce}),a.d(t,"qb",function(){return Fe}),a.d(t,"sb",function(){return Me}),a.d(t,"vb",function(){return _e}),a.d(t,"pb",function(){return je}),a.d(t,"db",function(){return Be}),a.d(t,"rb",function(){return Le})},1300:function(e,t,a){"use strict";var r=a(43),n=a(1251),i=a(102);const o={data:[],pageCount:null,loading:!1,searchText:"",parametres:{page:1,search:[],societe:"",filter:{id:"created",direction:"desc"}}};var s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.v:return{...e,loading:!0};case n.h:return{...e,data:t.payload["hydra:member"],pageCount:i.a.hydraPageCount(t.payload),loading:!1};case n.O:return{...e,searchText:t.searchText};case n.P:return{...e,parametres:{page:t.parametres.page,societe:t.parametres.societe,search:t.parametres.search,filter:{id:t.parametres.filter.id,direction:t.parametres.filter.direction}}};default:return e}};const c={pays:null,sousSecteurs:null,loading:!1,requestFournisseur:!1,villes:null,error:null,data:null,fournisseurReqInProgress:!1,avatar:null,fournisseur_deleted:null,loadingAddVille:!1,villeAdded:!1,loadingAddSecteurs:!1,loadingSecteurs:!1,loadingProduit:!1,loadingSousSecteurs:!1,secteurs:[],sousSecteurs:[],produit:null,produits:[],pageCount:null,totalItems:0,loadingProduits:!1,parametres:{page:1,reference:"",search:[],filter:{id:"created",direction:"desc"}},abonnements:[],totalItemsAb:0,loadingAb:!1,jetons:[],totalItemsJt:0,loadingJt:!1,blacklistes:[],totalItemsBl:0,loadingBl:!1};var u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.s:return{...e,loadingBl:!0};case n.e:return{...e,blacklistes:t.payload["hydra:member"],totalItemsBl:t.payload["hydra:totalItems"],loadingBl:!1};case n.w:return{...e,loadingJt:!0};case n.i:return{...e,jetons:t.payload["hydra:member"],totalItemsJt:t.payload["hydra:totalItems"],loadingJt:!1};case n.o:return{...e,loadingAb:!0};case n.d:return{...e,abonnements:t.payload["hydra:member"],totalItemsAb:t.payload["hydra:totalItems"],loadingAb:!1};case n.y:return{...e,loadingProduits:!0};case n.k:return{...e,produits:t.payload["hydra:member"],pageCount:i.a.hydraPageCount(t.payload),totalItems:t.payload["hydra:totalItems"],loadingProduits:!1};case n.p:return{...e,loadingProduit:!0};case n.D:return{...e,loadingProduit:!1,produit:t.payload};case n.H:return{...e,loadingProduit:!1};case n.q:return{...e,loadingAddSecteurs:!0};case n.E:case n.I:return{...e,loadingAddSecteurs:!1};case n.z:return{...e,loadingSecteurs:!0,sousSecteurs:[]};case n.A:return{...e,loadingSousSecteurs:!0};case n.l:return{...e,secteurs:t.payload["hydra:member"],loadingSecteurs:!1};case n.m:return{...e,sousSecteurs:t.payload["hydra:member"],loadingSousSecteurs:!1};case n.r:return{...e,loadingAddVille:!0};case n.F:return{...e,loadingAddVille:!1,villeAdded:!0};case n.J:return{...e,loadingAddVille:!1};case n.c:return{...e,villeAdded:!1};case n.b:return{...e,pays:null,sousSecteurs:null,loading:!1,requestFournisseur:!1,villes:null,error:null,data:null,fournisseurReqInProgress:!1,avatar:null,fournisseur_deleted:null,loadingSecteurs:!1,secteurs:[]};case n.B:case n.x:return{...e,loading:!0};case n.u:return{...e,requestFournisseur:!0};case n.C:return{...e,villes:null};case n.g:return{...e,data:t.payload,requestFournisseur:!1,error:null};case n.j:return{...e,pays:t.payload,loading:!1};case n.n:return{...e,villes:[...t.payload,{"@id":"/api/villes/113",name:"Autre"}]};case n.R:return{...e,loading:!1,data:t.payload,error:null};case n.G:return{...e,loading:!1,error:t.payload,success:!1,redirect_success:""};case n.U:return{...e,fournisseurReqInProgress:!0};case n.S:return{...e,avatar:t.payload,fournisseurReqInProgress:!1};case n.T:return{...e,fournisseurReqInProgress:!1};case n.Q:return{...e,parametres:{page:t.parametres.page,search:t.parametres.search,reference:t.parametres.reference,filter:{id:t.parametres.filter.id,direction:t.parametres.filter.direction}}};default:return e}};const l={searchText:"",suggestions:[],loading:!1,opened:!1,noSuggestions:!1};var d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.a:return{...e,suggestions:[],noSuggestions:!1};case n.t:return{...e,loading:!0,suggestions:[],noSuggestions:!1};case n.f:{const a=t.payload["hydra:member"],r=0===a.length;return{...e,suggestions:a,noSuggestions:r,loading:!1}}case n.M:return{...e,searchText:t.searchText};case n.L:return{...e,opened:!0};case n.K:return{...e,opened:!1,searchText:""};case n.N:return{...e,opened:!1};default:return e}},p=a(33);const f={state:!1,options:{children:"Hi"}};var m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.f:return{...e,state:!0,options:{...e.options,...t.options}};case p.a:return{...e,state:!1};default:return e}};const S=Object(r.d)({fournisseurs:s,searchCategories:d,fournisseur:u,dialog:m});t.a=S},1587:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(39),o=a(136),s=a(1130),c=a(1151),u=a(1221),l=a(1140),d=a(1244),p=a(1229),f=a(1245),m=a(1230),S=a(1227),E=a(1204),g=a(71),A=a(1251),h=a(7),R=a(59),y=a.n(R),P=a(365),v=a(10);var I=Object(g.g)(function(e){const t=Object(h.b)(),a=Object(h.c)(e=>{let{fournisseursAdminApp:t}=e;return t.fournisseurs.data}),o=Object(h.c)(e=>{let{fournisseursAdminApp:t}=e;return t.fournisseurs.loading}),g=Object(h.c)(e=>{let{fournisseursAdminApp:t}=e;return t.fournisseurs.pageCount}),R=Object(h.c)(e=>{let{fournisseursAdminApp:t}=e;return t.fournisseurs.parametres}),I=Object(h.c)(e=>{let{fournisseursAdminApp:t}=e;return t.fournisseurs.searchText}),[U,O]=Object(r.useState)(null);if(Object(r.useEffect)(()=>{a&&O(function(e,t){const a=Object.keys(e).map(t=>e[t]);return 0===t.length?a:i.y.filterArrayByString(a,t)}(a,I))},[a,I]),!U)return null;const N=v.a.debounce(e=>t(A.tb(e)),1e3);return n.a.createElement("div",{className:"w-full flex flex-col"},n.a.createElement(i.d,{animation:"transition.slideUpIn",delay:300},n.a.createElement(P.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTheadProps:(e,t,a)=>({className:"h-64"}),data:U,columns:[{Header:"",Cell:e=>e.original.avatar?n.a.createElement(s.a,{className:"mr-8",alt:e.original.firstName,src:i.G+e.original.avatar.url}):n.a.createElement(s.a,{className:"mr-8",alt:e.original.firstName,src:"assets/images/avatars/images.png"}),className:"justify-center",width:64,sortable:!1},{Header:"Soci\xe9t\xe9",accessor:"societe",filterable:!0,getProps:(e,t,a)=>({style:{color:t&&(t.original.autreCategories||t.original.ville&&113===t.original.ville.id)?"orange":null}})},{Header:"Nom",accessor:"lastName",filterable:!0},{Header:"Pr\xe9nom",accessor:"firstName",filterable:!0},{Header:"T\xe9l\xe9phone",accessor:"phone",filterable:!0},{Header:"Ville",accessor:"ville.name",filterable:!0,Cell:e=>e.original.ville&&e.original.ville.name},{Header:"Date de cr\xe9ation",accessor:"created",filterable:!0,Filter:e=>{let{filter:t,onChange:a}=e;return n.a.createElement(c.a,{onChange:e=>a(e.target.value),style:{width:"100%"},value:t?t.value:"",type:"date",InputLabelProps:{shrink:!0}})},Cell:e=>y()(e.original.created).format("DD/MM/YYYY HH:mm")},{Header:"Statut",accessor:"isactif",filterable:!0,Cell:e=>e.original.isactif?n.a.createElement(u.a,{title:"Activ\xe9"},n.a.createElement(l.a,{className:"text-green text-20",onClick:a=>{a.stopPropagation(),t(A.rb({children:n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{id:"alert-dialog-title"},"D\xe9sactivation"),n.a.createElement(p.a,null,n.a.createElement(f.a,{id:"alert-dialog-description"},"Voulez vous vraiment d\xe9sactiv\xe9 ce compte ?")),n.a.createElement(m.a,null,n.a.createElement(S.a,{onClick:()=>t(A.db()),variant:"contained",color:"primary"},"Non"),n.a.createElement(S.a,{onClick:a=>{t(A.V(e.original,!1,R)),t(A.db())},color:"primary",variant:"outlined",autoFocus:!0},"Oui")))}))}},n.a.createElement(E.a,null,"check_circle"))):n.a.createElement(u.a,{title:"D\xe9sactiv\xe9"},n.a.createElement(l.a,{className:"text-red text-20",onClick:a=>{a.stopPropagation(),t(A.rb({children:n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{id:"alert-dialog-title"},"Activation"),n.a.createElement(p.a,null,n.a.createElement(f.a,{id:"alert-dialog-description"},"Voulez vous vraiment activ\xe9 ce compte ?")),n.a.createElement(m.a,null,n.a.createElement(S.a,{onClick:()=>t(A.db()),variant:"contained",color:"primary"},"Non"),n.a.createElement(S.a,{onClick:a=>{t(A.V(e.original,!0,R)),t(A.db())},color:"primary",variant:"outlined",autoFocus:!0},"Oui")))}))}},n.a.createElement(E.a,null,"remove_circle"))),Filter:e=>{let{filter:t,onChange:a}=e;return n.a.createElement("select",{onChange:e=>a(e.target.value),style:{width:"100%"},value:t?t.value:""},n.a.createElement("option",{value:""},"Tous"),n.a.createElement("option",{value:"true"},"Actif"),n.a.createElement("option",{value:"false"},"Inactif"))}},{Header:"Etape",accessor:"step",filterable:!0,Cell:e=>1===e.original.step?e.original.isactif?"Infos de la soci\xe9t\xe9":"Confirmation email":2===e.original.step?"Produits":n.a.createElement("span",{className:"text-green"},"Inscription compl\xe8te"),Filter:e=>{let{filter:t,onChange:a}=e;return n.a.createElement("select",{onChange:e=>a(e.target.value),style:{width:"100%"},value:t?t.value:""},n.a.createElement("option",{value:""},"Tous"),n.a.createElement("option",{value:"-1"},"Confirmation email"),n.a.createElement("option",{value:"1"},"Infos de la soci\xe9t\xe9"),n.a.createElement("option",{value:"2"},"Produits"),n.a.createElement("option",{value:"3"},"Inscription compl\xe8te"))}},{Header:"",Cell:t=>n.a.createElement("div",{className:"flex items-center"},n.a.createElement(u.a,{title:"D\xe9tails",onClick:a=>{a.stopPropagation(),e.history.push("/users/fournisseur/show/"+t.original.id)}},n.a.createElement(l.a,{className:"text-teal text-20"},n.a.createElement(E.a,null,"remove_red_eye"))),n.a.createElement(u.a,{title:"Editer",onClick:a=>{a.stopPropagation(),e.history.push("/users/fournisseurs/"+t.original.id)}},n.a.createElement(l.a,{className:"text-orange text-20"},n.a.createElement(E.a,null,"edit"))))}],manual:!0,defaultSortDesc:!0,pages:g,page:R.page-1,defaultPageSize:10,loading:o,showPageSizeOptions:!1,onPageChange:e=>{R.page=e+1,t(A.tb(R))},onSortedChange:(e,a,r)=>{R.page=1,R.filter.id=e[0].id,R.filter.direction=e[0].desc?"desc":"asc",t(A.tb(R))},onFilteredChange:e=>{R.page=1,R.search=e,N(R)},noDataText:"Aucun fournisseur trouv\xe9",loadingText:"Chargement...",ofText:"sur"})))}),U=a(89),O=a(135),N=a(1139),b=a(1205);var D=function(e){const t=Object(h.b)(),a=Object(h.c)(e=>{let{fuse:t}=e;return t.settings.mainTheme}),r=Object(h.c)(e=>{let{fournisseursAdminApp:t}=e;return t.fournisseurs.parametres});return n.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement(i.d,{animation:"transition.expandIn",delay:300},n.a.createElement(E.a,{className:"text-32 mr-0 sm:mr-12"},"supervisor_account")),n.a.createElement(i.d,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(U.a,{className:"hidden sm:flex",variant:"h6"},"Gestion des fournisseurs"))),n.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},n.a.createElement(b.a,{theme:a},n.a.createElement(i.d,{animation:"transition.slideDownIn",delay:300},n.a.createElement(O.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},n.a.createElement(E.a,{className:"mr-8",color:"action"},"search"),n.a.createElement(N.a,{placeholder:"Rechercher",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:r.societe,inputProps:{"aria-label":"Rechercher"},onChange:e=>{r.page=1,r.societe=e.target.value,t(A.tb(r))}}))))))},T=a(1300);t.default=Object(o.a)("fournisseursAdminApp",T.a)(function(){const e=Object(h.b)(),t=Object(h.c)(e=>{let{fournisseursAdminApp:t}=e;return t.fournisseurs.parametres});return Object(r.useEffect)(()=>{e(A.ib(t))},[e,t]),n.a.createElement(i.o,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:n.a.createElement(D,null),content:n.a.createElement(I,null),innerScroll:!0})})}}]);