(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=a},1272:function(e,t,n){"use strict";var a=n(50),r=n(33);const i="[CONDITIONS APP ADMIN] REQUEST CONDITIONS",o="[CONDITIONS APP ADMIN] GET CONDITIONS",l="[CONDITIONS APP ADMIN] SET CONDITIONS SEARCH TEXT";function c(e){return{type:l,searchText:e.target.value}}function s(){const e=a.a.get("/api/condition_generales");return t=>(t({type:i}),e.then(e=>t({type:o,payload:e.data})))}function u(e){return t=>{const n=a.a.delete(e["@id"]);return t({type:i}),n.then(e=>Promise.all([t(Object(r.B)({message:"Bien supprim\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(()=>t(s())))}}var d=n(102);const m="[CONDITION APP APP] REQUEST CONDITION",p="[CONDITION APP APP] GET CONDITION",g="[CONDITION APP APP] SAVE ERROR",f="[CONDITION APP APP] UPDATE CONDITION",b="[CONDITION APP APP] REQUEST SAVE_CONDITION",h="[CONDITION APP APP] CLEAN_UP";function I(){return e=>e({type:h})}function O(e){const t=a.a.get("/api/condition_generales/".concat(e));return e=>(e({type:m}),t.then(t=>{e({type:p,payload:t.data})}))}function N(e,t){return(n,i)=>{const o=a.a.put(e["@id"],e);return n({type:b}),o.then(e=>Promise.all([n({type:f,payload:e.data}),n(Object(r.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"})),t.push("/admin/conditions")])).catch(e=>{n({type:g,payload:d.a.parseApiErrors(e)})})}}function E(e,t){const n=a.a.post("/api/condition_generales",e);return e=>(e({type:b}),n.then(n=>{e(Object(r.B)({message:"Condition sauvegard\xe9"})),e({type:f,payload:n.data}),t.push("/admin/conditions")}).catch(t=>{e({type:g,payload:d.a.parseApiErrors(t)})}))}function T(){return{type:p,payload:{titre:"",contenu:""}}}n.d(t,"e",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"i",function(){return l}),n.d(t,"p",function(){return c}),n.d(t,"l",function(){return s}),n.d(t,"n",function(){return u}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return p}),n.d(t,"h",function(){return g}),n.d(t,"g",function(){return f}),n.d(t,"f",function(){return b}),n.d(t,"a",function(){return h}),n.d(t,"j",function(){return I}),n.d(t,"k",function(){return O}),n.d(t,"q",function(){return N}),n.d(t,"o",function(){return E}),n.d(t,"m",function(){return T})},1321:function(e,t){var n;(n=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})).fr=Object.assign(n.fr||{},{a:"Envoi du fichier \xe9chou\xe9 :",b:"Barre d'outils des images",c:"Barre d'outils des tableaux",d:"Italique",e:"Choisir l'en-t\xeate",f:"En-t\xeate",g:"Ins\xe9rer une image ou un fichier",h:"Citation",i:"Objet image",j:"Ins\xe9rer une image",k:"Augmenter le retrait",l:"Diminuer le retrait",m:"Ins\xe9rer un tableau",n:"Colonne d'ent\xeate",o:"Ins\xe9rer une colonne \xe0 gauche",p:"Ins\xe9rer une colonne \xe0 droite",q:"Supprimer la colonne",r:"Colonne",s:"Ligne d'ent\xeate",t:"Ins\xe9rer une ligne en-dessous",u:"Ins\xe9rer une ligne au-dessus",v:"Supprimer la ligne",w:"Ligne",x:"Fusionner la cellule au-dessus",y:"Fusionner la cellule \xe0 droite",z:"Fusionner la cellule en-dessous",aa:"Fusionner la cellule \xe0 gauche",ab:"Scinder la cellule verticalement",ac:"Scinder la cellule horizontalement",ad:"Fusionner les cellules",ae:"Liste num\xe9rot\xe9e",af:"Liste \xe0 puces",ag:"Gras",ah:"Image taille r\xe9elle",ai:"Image lat\xe9rale",aj:"Image align\xe9e \xe0 gauche",ak:"Image centr\xe9e",al:"Image align\xe9e \xe0 droite",am:"Saisir la l\xe9gende de l\u2019image",an:"\xc9chec de l'envoi",ao:"Ins\xe9rer un m\xe9dia",ap:"L'URL ne doit pas \xeatre vide.",aq:"Cette URL de m\xe9dia n'est pas support\xe9e.",ar:"widget m\xe9dia",as:"Lien",at:"Impossible d'obtenir l'image redimensionn\xe9e",au:"La s\xe9lection de l'image redimensionn\xe9e a \xe9chou\xe9.",av:"Impossible d'ins\xe9rer l'image \xe0 la position courante.",aw:"L'insertion d'image a \xe9chou\xe9.",ax:"Barre d'outils du widget",ay:"T\xe9l\xe9chargement en cours",az:"Ouvrir dans un nouvel onglet",ba:"Fichier t\xe9l\xe9chargeable",bb:"Supprimer le lien",bc:"Modifier le lien",bd:"Ouvrir le lien dans un nouvel onglet",be:"Ce lien n'a pas d'URL",bf:"Enregistrer",bg:"Annuler",bh:"Coller l'URL du m\xe9dia",bi:"Astuce : Copier l'URL du m\xe9dia dans le contenu pour l'ins\xe9rer plus rapidement",bj:"URL de m\xe9dia",bk:"URL du lien",bl:"\xc9diteur de texte enrichi",bm:"Barre d'outils dans un menu d\xe9roulant",bn:"%0 sur %1",bo:"Pr\xe9cedent",bp:"Suivant",bq:"Barre d'outils de l'\xe9diteur",br:"Montrer plus d'\xe9l\xe9ments",bs:"Annuler",bt:"Restaurer",bu:"\xc9diteur de texte enrichi, %0",bv:"Changer le texte alternatif \xe0 l\u2019image",bw:"Paragraphe",bx:"Titre 1",by:"Titre 2",bz:"Titre 3",ca:"Titre 4",cb:"Titre 5",cc:"Titre 6",cd:"Texte alternatif"})},1360:function(e,t,n){"use strict";var a=n(43),r=n(1272);const i={entities:[],loading:!1,searchText:""};var o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.e:return{...e,loading:!0};case r.c:return{...e,entities:t.payload["hydra:member"],loading:!1};case r.i:return{...e,searchText:t.searchText};default:return e}};const l={loading:!1,requestCondition:!1,error:null,data:null};var c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:return{...e,loading:!1,requestCondition:!1,error:null,data:null};case r.f:return{...e,loading:!0};case r.d:return{...e,requestCondition:!0};case r.b:return{...e,data:t.payload,requestCondition:!1,error:null};case r.g:return{...e,loading:!1,error:null};case r.h:return{...e,loading:!1,error:t.payload};default:return e}};const s=Object(a.d)({conditions:o,condition:c});t.a=s},1512:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(89),o=n(1204),l=n(1227),c=n(1236),s=n(1219),u=n(1232),d=n(1157),m=n(39),p=n(137),g=n(7),f=n(136),b=n(1272),h=n(1360),I=n(10),O=n(51),N=n.n(O),E=n(1233),T=n(1242),v=n.n(T),C=n(16),y=n(1224),A=n(1319),P=n.n(A),x=n(1320),w=n.n(x);n(1321);const S=Object(d.a)(e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},buttonProgress:{color:v.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}));t.default=Object(f.a)("conditionsApp",h.a)(function(e){const t=Object(g.b)(),n=S(),d=Object(g.c)(e=>{let{conditionsApp:t}=e;return t.condition}),f=Object(a.useRef)(null),[h,O]=Object(a.useState)(0),{form:T,handleChange:v,setForm:A}=Object(p.b)(null);return Object(a.useEffect)(()=>(function(){const n=e.match.params,{conditionId:a}=n;t("new"===a?b.m():b.k(a))}(),()=>{t(b.j())}),[t,e.match.params]),Object(a.useEffect)(()=>{d.error&&0===h&&(d.error.titre||d.error.reponse)&&f.current.updateInputsWithError({...d.error})},[d.error]),Object(a.useEffect)(()=>{(d.data&&!T||d.data&&T&&d.data.id!==T.id)&&A({...d.data})},[T,d.data,A]),r.a.createElement(m.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:T&&r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex flex-col items-start max-w-full"},r.a.createElement(m.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(i.a,{className:"normal-case flex items-center sm:mb-12",component:C.a,role:"button",to:"/admin/conditions",color:"inherit"},r.a.createElement(o.a,{className:"mr-4 text-20"},"arrow_back"),"Conditions")),r.a.createElement("div",{className:"flex items-center max-w-full"},r.a.createElement("div",{className:"flex flex-col min-w-0"},r.a.createElement(m.d,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(i.a,{className:"text-16 sm:text-20 truncate"},T.titre?T.titre:"Nouveau Condition"))))),r.a.createElement(m.d,{animation:"transition.slideRightIn",delay:300},r.a.createElement(l.a,{className:"whitespace-no-wrap",variant:"contained",disabled:d.loading||!T.titre||!T.contenu,onClick:()=>(function(n){const a=e.match.params,{conditionId:r}=a;t("new"===r?b.o(T,e.history):b.q(T,e.history))})()},"Sauvegarder",d.loading&&r.a.createElement(E.a,{size:24,className:n.buttonProgress})))),contentToolbar:T&&r.a.createElement(c.a,{indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},r.a.createElement(s.a,{className:"h-64 normal-case",label:"Infos condition"})),content:d.requestCondition?r.a.createElement(y.a,{color:"secondary"}):T&&r.a.createElement("div",{className:" sm:p-10 max-w-2xl"},0===h&&r.a.createElement(N.a,{ref:f,className:"flex pt-5 flex-col "},r.a.createElement(u.a,{container:!0,spacing:2},r.a.createElement(u.a,{item:!0,xs:12,sm:12},r.a.createElement(m.F,{className:"mb-16",type:"text",name:"titre",value:T.titre,onChange:v,label:"Titre",validations:{minLength:4},validationErrors:{minLength:"La longueur minimale de caract\xe8re est 4"},variant:"outlined",required:!0,fullWidth:!0}))),r.a.createElement(u.a,{container:!0,spacing:3},r.a.createElement(u.a,{item:!0,xs:12,sm:12},r.a.createElement(P.a,{editor:w.a,data:T.contenu,config:{language:"fr"},onInit:e=>{console.log("Editor is ready to use!",e)},onChange:(e,t)=>{const n=t.getData();A(I.a.set({...T},"contenu",n))},onBlur:e=>{console.log("Blur.",e)}}),d.error&&d.error.contenu?r.a.createElement("span",{className:"text-red"}," ",d.error.contenu):"")))),innerScroll:!0})})}}]);