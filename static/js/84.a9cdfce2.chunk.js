(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1063:function(e,a,t){"use strict";var n=t(36),r=t(54),l="[ACHETEURS ADMIN APP] REQUEST ACHETEURS",i="[ACHETEURS ADMIN APP] SET PARAMETRES DATA",c="[ACHETEURS ADMIN APP] GET ACHETEURS",o="[ACHETEURS ADMIN APP] OPEN NEW ACHETEURS DIALOG",s="[ACHETEURS ADMIN APP] SET ACHETEURS SEARCH TEXT";function u(){return{type:o}}function d(e){var a="";e.search.length>0&&e.search.map(function(e){return e.value&&("created"===e.id?a+="&"+e.id+"[after]="+e.value:a+="&"+e.id+"="+e.value)});var t=r.a.get("/api/acheteurs?page=".concat(e.page).concat(a,"&order[").concat(e.filter.id,"]=").concat(e.filter.direction));return function(e){return e({type:l}),t.then(function(a){return e({type:c,payload:a.data})})}}function m(e,a,t){var i={isactif:a};return function(a){return a({type:l}),r.a.put(e["@id"],i).then(function(e){return Promise.all([a(Object(n.B)({message:"Statut modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))]).then(function(){return a(d(t))})})}}function p(e){return{type:i,parametres:e}}var f=t(8),E=t(107),h=t(10),g=t(196),A=t(64),y=t.n(A),v="[ACHETEURS ADMIN APP] REQUEST ACHETEUR",b="[ACHETEURS ADMIN APP] GET ACHETEUR",N="[ACHETEURS ADMIN APP] REQUEST ACHETEUR DEMANDES",P="[ACHETEURS ADMIN APP] GET ACHETEUR DEMANDES",x="[ACHETEURS ADMIN APP] REQUEST ACHETEUR BL",T="[ACHETEURS ADMIN APP] GET ACHETEUR BL",O="[ACHETEURS ADMIN APP] GET PAYS",D="[ACHETEURS ADMIN APP] GET VILLES",R="[ACHETEURS ADMIN APP] REQUEST PAYS",C="[ACHETEURS ADMIN APP] REQUEST VILLES",I="[ACHETEURS ADMIN APP] SAVE ERROR",S="[ACHETEURS ADMIN APP] UPDATE ACHETEUR",H="[ACHETEURS ADMIN APP] REQUEST UPDATE_ACHETEUR",j="[ACHETEURS ADMIN APP] GET_SECTEURS",U="[ACHETEURS ADMIN APP] REQUEST_ADD_VILLE",M="[ACHETEURS ADMIN APP] SAVE_ADD_VILLE",w="[ACHETEURS ADMIN APP] SAVE_ERROR_ADD_VILLE",L="[ACHETEURS ADMIN APP] CLEAN_UP_VILLE",Y="[ACHETEURS ADMIN APP] UPLOAD AVATAR",_="[ACHETEURS ADMIN APP] UPLOAD REQUEST",B="[ACHETEURS ADMIN APP] UPLOAD ERROR",k="[ACHETEURS ADMIN APP] SET PARAMETRES DETAIL",F="[ACHETEUR ADMIN APP] CLEAN_UP_ACHETEUR";function W(e){return{type:k,parametres:e}}function V(){return function(e){return e({type:F})}}function z(){return function(e){return e({type:L})}}function q(e){var a=r.a.get("/api/acheteurs/".concat(e));return function(e){return e({type:v}),a.then(function(a){e({type:b,payload:a.data})})}}function G(e){var a=r.a.get("/api/acheteurs/".concat(e,"/blacklistes"));return function(e){return e({type:x}),a.then(function(a){e({type:T,payload:a.data})})}}function Q(e,a){var t="";a.search.length>0&&a.search.map(function(e,a){e.value&&("created"===e.id||"dateExpiration"===e.id?t+="&"+e.id+"[after]="+e.value:"statut"===e.id?"0"===e.value?t+="&statut=0&dateExpiration[strictly_after]=".concat(y()().format("YYYY-MM-DDTHH:mm:ss")):"1"===e.value?t+="&statut=1&dateExpiration[strictly_after]=".concat(y()().format("YYYY-MM-DDTHH:mm:ss")):"2"===e.value?t+="&statut=2&dateExpiration[strictly_after]=".concat(y()().format("YYYY-MM-DDTHH:mm:ss")):"3"===e.value?t+="&statut=3":"4"===e.value&&(t+="&dateExpiration[strictly_before]=".concat(y()().format("YYYY-MM-DDTHH:mm:ss"))):t+="&"+e.id+"="+e.value)});var n=r.a.get("/api/acheteurs/".concat(e,"/demandes?page=").concat(a.page).concat(t,"&order[").concat(a.filter.id,"]=").concat(a.filter.direction));return function(e){return e({type:N}),n.then(function(a){e({type:P,payload:a.data})})}}function J(){var e=r.a.get("/api/pays?pagination=false&props[]=id&props[]=name");return function(a){return a({type:R}),e.then(function(e){a({type:O,payload:e.data["hydra:member"]})})}}function K(e){var a=r.a.get("".concat(e,"/villes?pagination=false&props[]=id&props[]=name"));return function(e){return e({type:C}),a.then(function(a){e({type:D,payload:a.data["hydra:member"]})})}}function X(e,a,t){var l={name:e,pays:"/api/pays/".concat(a)},i=r.a.post("/api/villes",l);return function(e){return e({type:U}),e({type:H}),i.then(function(n){e(K("/api/pays/".concat(a)));var l={ville:n.data["@id"],autreVille:null};return r.a.put("/api/acheteurs/".concat(t),l).then(function(a){e(g.b("acheteur-admin")),e({type:S,payload:a.data}),e({type:M})})}).catch(function(a){e({type:w}),e(Object(n.B)({message:h.a.map(E.a.parseApiErrors(a),function(e,a){return e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function Z(){var e=r.a.get("/api/secteurs?pagination=false&props[]=id&props[]=name");return function(a){return e.then(function(e){a({type:j,payload:e.data["hydra:member"]})})}}function $(e,a){var t=Object(f.a)({},e,{ice:"Maroc"!==e.pays.label?null:e.ice,pays:e.pays.value,ville:e.ville.value,secteur:e.secteur.value,codepostal:e.codepostal?parseInt(e.codepostal):null});return null===t.codepostal&&delete t.codepostal,function(e){var l=r.a.put("/api/acheteurs/".concat(a),t);return e({type:H}),l.then(function(a){return Promise.all([e({type:S,payload:a.data}),e(Object(n.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).catch(function(a){e({type:I,payload:E.a.parseApiErrors(a)})})}}function ee(e,a){var t={isactif:a};return function(a){return a({type:H}),r.a.put(e["@id"],t).then(function(e){return Promise.all([a({type:S,payload:e.data}),a(Object(n.B)({message:"Statut modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])})}}function ae(e,a){return function(t){var l=r.a.put("/api/acheteurs/".concat(a),e);return t({type:H}),l.then(function(e){return Promise.all([t({type:S,payload:e.data}),t(Object(n.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).catch(function(e){t({type:I,payload:E.a.parseApiErrors(e)})})}}function te(e,a){return function(t){var l=new FormData;l.append("file",e);var i=r.a.post("/api/avatars",l,{headers:{"Content-Type":"multipart/form-data"}});return t({type:_}),i.then(function(e){return Promise.all([e,t({type:Y,payload:e.data}),t(ne({avatar:e.data["@id"]},a))])}).catch(function(e){t({type:B}),t(Object(n.B)({message:h.a.map(E.a.parseApiErrors(e),function(e,a){return a+": "+e}),autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"error"}))})}}function ne(e,a){return function(t){var l=r.a.put("/api/acheteurs/".concat(a),e);return t({type:H}),l.then(function(e){return Promise.all([t({type:S,payload:e.data}),t(Object(n.B)({message:"Bien modifi\xe9!",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"success"}))])}).catch(function(e){t({type:I,payload:E.a.parseApiErrors(e)})})}}var re="[DIALOG] OPEN",le="[DIALOG] CLOSE";function ie(){return{type:le}}function ce(e){return{type:re,options:e}}t.d(a,"l",function(){return l}),t.d(a,"w",function(){return i}),t.d(a,"d",function(){return c}),t.d(a,"j",function(){return o}),t.d(a,"v",function(){return s}),t.d(a,"Q",function(){return u}),t.d(a,"J",function(){return d}),t.d(a,"C",function(){return m}),t.d(a,"R",function(){return p}),t.d(a,"k",function(){return v}),t.d(a,"c",function(){return b}),t.d(a,"n",function(){return N}),t.d(a,"f",function(){return P}),t.d(a,"m",function(){return x}),t.d(a,"e",function(){return T}),t.d(a,"g",function(){return O}),t.d(a,"i",function(){return D}),t.d(a,"p",function(){return R}),t.d(a,"r",function(){return C}),t.d(a,"t",function(){return I}),t.d(a,"y",function(){return S}),t.d(a,"q",function(){return H}),t.d(a,"h",function(){return j}),t.d(a,"o",function(){return U}),t.d(a,"s",function(){return M}),t.d(a,"u",function(){return w}),t.d(a,"b",function(){return L}),t.d(a,"z",function(){return Y}),t.d(a,"B",function(){return _}),t.d(a,"A",function(){return B}),t.d(a,"x",function(){return k}),t.d(a,"a",function(){return F}),t.d(a,"S",function(){return W}),t.d(a,"E",function(){return V}),t.d(a,"F",function(){return z}),t.d(a,"I",function(){return q}),t.d(a,"K",function(){return G}),t.d(a,"L",function(){return Q}),t.d(a,"M",function(){return J}),t.d(a,"O",function(){return K}),t.d(a,"D",function(){return X}),t.d(a,"N",function(){return Z}),t.d(a,"T",function(){return $}),t.d(a,"H",function(){return ee}),t.d(a,"U",function(){return ae}),t.d(a,"V",function(){return te}),t.d(a,"G",function(){return ie}),t.d(a,"P",function(){return ce})},1107:function(e,a,t){"use strict";var n=t(46),r=t(8),l=t(1063),i=t(107),c={data:[],pageCount:null,loading:!1,searchText:"",acheteursDialog:{type:"new",props:{open:!1},data:null},parametres:{page:1,societe:"",search:[],filter:{id:"created",direction:"desc"}}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.l:return Object(r.a)({},e,{loading:!0});case l.d:return Object(r.a)({},e,{data:a.payload["hydra:member"],pageCount:i.a.hydraPageCount(a.payload),loading:!1});case l.j:return Object(r.a)({},e,{acheteursDialog:{type:"new",props:{open:!0},data:null}});case l.v:return Object(r.a)({},e,{searchText:a.searchText});case l.w:return Object(r.a)({},e,{parametres:{page:a.parametres.page,societe:a.parametres.societe,search:a.parametres.search,filter:{id:a.parametres.filter.id,direction:a.parametres.filter.direction}}});default:return e}},s=t(21),u={pays:null,secteurs:null,loading:!1,requestAcheteur:!1,villes:null,error:null,data:null,acheteurReqInProgress:!1,avatar:null,acheteur_deleted:null,loadingAddVille:!1,villeAdded:!1,demandes:[],totalItems:0,pageCount:null,loadingDmd:!1,parametres:{page:1,search:[],description:"",filter:{id:"created",direction:"desc"}},blacklistes:[],totalItemsBl:0,loadingBL:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.m:return Object(r.a)({},e,{loadingBL:!0});case l.e:return Object(r.a)({},e,{totalItemsBl:a.payload["hydra:totalItems"],blacklistes:a.payload["hydra:member"],loadingBL:!1});case l.n:return Object(r.a)({},e,{loadingDmd:!0});case l.f:return Object(r.a)({},e,{demandes:a.payload["hydra:member"],totalItems:a.payload["hydra:totalItems"],pageCount:i.a.hydraPageCount(a.payload),loadingDmd:!1});case l.o:return Object(r.a)({},e,{loadingAddVille:!0});case l.s:return Object(r.a)({},e,{loadingAddVille:!1,villeAdded:!0});case l.u:return Object(r.a)({},e,{loadingAddVille:!1});case l.b:return Object(r.a)({},e,{villeAdded:!1});case l.a:return Object(r.a)({},e,{pays:null,secteurs:null,loading:!1,requestAcheteur:!1,villes:null,error:null,data:null,acheteurReqInProgress:!1,avatar:null,acheteur_deleted:null});case l.q:case l.p:return Object(r.a)({},e,{loading:!0});case l.k:return Object(r.a)({},e,{requestAcheteur:!0});case l.r:return Object(r.a)({},e,{villes:null});case l.c:return Object(r.a)({},e,{data:a.payload,requestAcheteur:!1,error:null});case l.h:return Object(r.a)({},e,{secteurs:a.payload});case l.g:return Object(r.a)({},e,{pays:a.payload,loading:!1});case l.i:return Object(r.a)({},e,{villes:[].concat(Object(s.a)(a.payload),[{"@id":"/api/villes/113",name:"Autre"}])});case l.y:return Object(r.a)({},e,{loading:!1,data:a.payload,error:null});case l.t:return Object(r.a)({},e,{loading:!1,error:a.payload,success:!1,redirect_success:""});case l.B:return Object(r.a)({},e,{acheteurReqInProgress:!0});case l.z:return Object(r.a)({},e,{avatar:a.payload,acheteurReqInProgress:!1});case l.A:return Object(r.a)({},e,{acheteurReqInProgress:!1});case l.x:return Object(r.a)({},e,{parametres:{page:a.parametres.page,search:a.parametres.search,description:a.parametres.description,filter:{id:a.parametres.filter.id,direction:a.parametres.filter.direction}}});default:return e}},m=t(36),p={state:!1,options:{children:"Hi"}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m.f:return Object(r.a)({},e,{state:!0,options:Object(r.a)({},e.options,a.options)});case m.a:return Object(r.a)({},e,{state:!1});default:return e}},E=Object(n.d)({acheteurs:o,dialog:f,acheteur:d});a.a=E},1318:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(0),l=t.n(r),i=t(98),c=t(1013),o=t(945),s=t(1044),u=t(1027),d=t(1040),m=t(1039),p=t(1020),f=t(1029),E=t(967),h=t(974),g=t(345),A=t(40),y=t(6),v=t(140),b=t(1063),N=t(1107),P=t(10),x=t(55),T=t.n(x),O=t(1032),D=t(18),R=t(64),C=t.n(R),I=t(347),S=Object(g.a)(function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},chip:{marginLeft:e.spacing(1),padding:2,background:"#ef5350",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chip2:{marginLeft:e.spacing(1),padding:2,background:"#4caf50",color:"white",fontWeight:"bold",fontSize:"11px",height:20},chipOrange:{marginLeft:e.spacing(1),padding:2,background:"#ff9800",color:"white",fontWeight:"bold",fontSize:"11px",height:20}}});a.default=Object(v.a)("acheteurDetailsApp",N.a)(function(e){var a=Object(y.b)(),t=S(),g=Object(y.c)(function(e){return e.acheteurDetailsApp.acheteur}),v=Object(r.useState)(0),N=Object(n.a)(v,2),x=N[0],R=N[1],H=e.match.params.acheteurId;Object(r.useEffect)(function(){return a(b.I(H)),a(b.K(H)),function(){a(b.E())}},[a,H]),Object(r.useEffect)(function(){H&&a(b.L(H,g.parametres))},[a,g.parametres,H]);var j=P.a.debounce(function(e){return a(b.S(e))},1e3);return l.a.createElement(A.o,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:g.requestAcheteur?l.a.createElement(O.a,{color:"secondary"}):g.data&&l.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},l.a.createElement("div",{className:"flex flex-col items-start max-w-full"},l.a.createElement(A.d,{animation:"transition.slideRightIn",delay:300},l.a.createElement(i.a,{className:"normal-case flex items-center sm:mb-12",component:D.a,role:"button",to:"/users/acheteurs",color:"inherit"},l.a.createElement(c.a,{className:"mr-4 text-20"},"arrow_back"),"Retour")),l.a.createElement("div",{className:"flex items-center max-w-full"},l.a.createElement(A.d,{animation:"transition.expandIn",delay:300},g.data.avatar?l.a.createElement(o.a,{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",alt:"user photo",src:A.G+g.data.avatar.url}):l.a.createElement(o.a,{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded"},g.data.firstName[0])),l.a.createElement("div",{className:"flex flex-col min-w-0"},l.a.createElement(A.d,{animation:"transition.slideLeftIn",delay:300},l.a.createElement(i.a,{className:"text-16 sm:text-20 truncate"},g.data.firstName&&g.data.lastName?g.data.firstName+" "+g.data.lastName:"NOM & Pr\xe9nom")),l.a.createElement(A.d,{animation:"transition.slideLeftIn",delay:300},l.a.createElement(i.a,{variant:"caption"},g.data.societe?g.data.societe:"Soci\xe9t\xe9"," ",g.data.email?" | "+g.data.email:"")))))),contentToolbar:g.requestAcheteur?l.a.createElement("div",{className:t.root},l.a.createElement(O.a,{color:"secondary"})):g.data&&l.a.createElement(s.a,{value:x,onChange:function(e,a){R(a)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},l.a.createElement(u.a,{className:"h-64 normal-case",label:"Infos soci\xe9t\xe9"}),l.a.createElement(u.a,{className:"h-64 normal-case",label:"Demandes d'achats"+(g.loadingDmd?"( chargement... )":g.totalItems>100?"( +99 )":"( "+g.totalItems+" )")}),l.a.createElement(u.a,{className:"h-64 normal-case",label:"Blacklistes "+(g.loadingBL?"( chargement... )":g.totalItemsBl>100?"( +99 )":"( "+g.totalItemsBl+" )")})),content:g.requestAcheteur?"":g.data&&l.a.createElement("div",{className:" sm:p-10 max-w-2xl"},0===x&&l.a.createElement(T.a,{className:"flex flex-col"},l.a.createElement(d.a,{container:!0,spacing:3,className:"mb-5"},l.a.createElement(d.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(A.F,{className:"",type:"text",name:"fullname",value:g.data.civilite+" "+g.data.firstName+" "+g.data.lastName,label:"Nom complet",InputProps:{readOnly:!0},fullWidth:!0}))),l.a.createElement(d.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(A.F,{className:"",name:"email",value:g.data.email,label:"Email",fullWidth:!0,InputProps:{readOnly:!0,endAdornment:l.a.createElement(m.a,{position:"end"},l.a.createElement(c.a,{className:"text-20",color:"action"},"email"))}}))),l.a.createElement(d.a,{item:!0,xs:12,sm:4},l.a.createElement(A.F,{className:"",type:"text",name:"phonep",id:"phonep",value:g.data.phone,label:"T\xe9l\xe9phone",InputProps:{readOnly:!0,endAdornment:l.a.createElement(m.a,{position:"end"},l.a.createElement(c.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),l.a.createElement(p.a,null),l.a.createElement(d.a,{container:!0,spacing:3,className:"mb-5"},l.a.createElement(d.a,{item:!0,xs:12,sm:8},l.a.createElement("div",{className:"flex"},l.a.createElement(A.F,{className:"mt-20",label:"Raison sociale",id:"societe",name:"societe",value:g.data.societe,fullWidth:!0,InputProps:{readOnly:!0}}))),l.a.createElement(d.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(A.F,{className:"mt-20",name:"fix",value:g.data.fix,label:"Fixe",InputProps:{readOnly:!0,endAdornment:l.a.createElement(m.a,{position:"end"},l.a.createElement(c.a,{className:"text-20",color:"action"},"local_phone"))},fullWidth:!0}))),l.a.createElement(d.a,{item:!0,xs:12,sm:8},l.a.createElement(A.F,{id:"secteur",className:"",name:"secteur",label:"Secteur",value:g.data.secteur?g.data.secteur.name:"",fullWidth:!0,InputProps:{readOnly:!0}})),l.a.createElement(d.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(A.F,{id:"website",className:"",type:"text",name:"website",value:g.data.website,label:"Site Web",InputProps:{readOnly:!0,endAdornment:l.a.createElement(m.a,{position:"end"},l.a.createElement(c.a,{className:"text-20",color:"action"},"language"))},fullWidth:!0}))),l.a.createElement(d.a,{item:!0,xs:12,sm:8},l.a.createElement("div",{className:"flex"},g.data.ice?l.a.createElement(A.F,{className:"",type:"text",name:"ice",id:"ice",value:g.data.ice,label:"ICE",fullWidth:!0,InputProps:{readOnly:!0}}):""))),l.a.createElement(p.a,null),l.a.createElement(d.a,{container:!0,spacing:3,className:"mb-5"},l.a.createElement(d.a,{item:!0,xs:12,sm:8},l.a.createElement("div",{className:"flex"},l.a.createElement(A.F,{className:"mt-20",type:"text",name:"adresse1",id:"adresse1",value:g.data.adresse1,label:"Adresse 1",InputProps:{readOnly:!0,endAdornment:l.a.createElement(m.a,{position:"end"},l.a.createElement(c.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),l.a.createElement(d.a,{item:!0,xs:12,sm:4},l.a.createElement(A.F,{className:"mt-20",type:"text",name:"pays",id:"pays",value:g.data.pays?g.data.pays.name:"",label:"Pays",InputProps:{readOnly:!0},fullWidth:!0})),l.a.createElement(d.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(A.F,{className:"",type:"text",name:"adresse2",value:g.data.adresse2,label:"Adresse 2",InputProps:{readOnly:!0,endAdornment:l.a.createElement(m.a,{position:"end"},l.a.createElement(c.a,{className:"text-20",color:"action"},"location_on"))},fullWidth:!0}))),l.a.createElement(d.a,{item:!0,xs:12,sm:4},l.a.createElement("div",{className:"flex"},l.a.createElement(A.F,{className:"",name:"codepostal",value:String(g.data.codepostal),label:"Code Postal",fullWidth:!0,InputProps:{readOnly:!0}}))),l.a.createElement(d.a,{item:!0,xs:12,sm:4},l.a.createElement(A.F,{className:"",type:"text",name:"ville",id:"ville",value:g.data.ville?g.data.ville.name:"",label:"Ville",InputProps:{readOnly:!0},fullWidth:!0}))),l.a.createElement(p.a,null),l.a.createElement(d.a,{container:!0,spacing:3},l.a.createElement(d.a,{item:!0,xs:12,sm:12},l.a.createElement(A.F,{className:"mb-5 mt-20  w-full",type:"text",name:"description",value:g.data.description,label:"Pr\xe9sentation",multiline:!0,rows:"8",InputProps:{readOnly:!0}})))),1===x&&l.a.createElement(I.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTheadProps:function(e,a,t){return{className:"h-64"}},data:g.demandes,columns:[{Header:"R\xe9f\xe9rence",className:"font-bold justify-center",filterable:!0,accessor:"reference",Cell:function(e){return l.a.createElement(f.a,{title:"Voir la demande"},l.a.createElement(D.a,{target:"_blank",to:"/demandes_admin/"+e.original.id,onClick:function(e){return e.stopPropagation()}},e.original.reference?"RFQ-"+e.original.reference:"En attente"))},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(E.a,{onChange:function(e){return t(e.target.value)},style:{width:"100%"},value:a?a.value:"",InputProps:{startAdornment:l.a.createElement(m.a,{position:"start"},"RFQ-")}})}},{Header:"Titre",accessor:"titre",className:"justify-center",filterable:!0,Cell:function(e){return l.a.createElement("div",{className:"flex items-center"},P.a.capitalize(P.a.truncate(e.original.titre,{length:15,separator:" "})))}},{Header:"Date de cr\xe9ation",accessor:"created",className:"justify-center",filterable:!0,Cell:function(e){return C()(e.original.created).format("DD/MM/YYYY")},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(E.a,{onChange:function(e){return t(e.target.value)},style:{width:"100%"},value:a?a.value:"",type:"date",InputLabelProps:{shrink:!0}})}},{Header:"\xc9ch\xe9ance",minWidth:125,className:"justify-center",filterable:!0,accessor:"dateExpiration",Cell:function(e){return l.a.createElement("div",{className:"flex items-center"},C()(e.original.dateExpiration).format("DD/MM/YYYY"),C()(e.original.dateExpiration)>=C()()?l.a.createElement(h.a,{className:t.chip2,label:0===C()(e.original.dateExpiration).diff(C()(),"days")?C()(e.original.dateExpiration).diff(C()(),"hours")+" h":C()(e.original.dateExpiration).diff(C()(),"days")+" j"}):l.a.createElement(h.a,{className:t.chip,label:0===C()(e.original.dateExpiration).diff(C()(),"days")?C()(e.original.dateExpiration).diff(C()(),"hours")+" h":C()(e.original.dateExpiration).diff(C()(),"days")+" j"}))},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement(E.a,{onChange:function(e){return t(e.target.value)},style:{width:"100%"},value:a?a.value:"",type:"date",InputLabelProps:{shrink:!0}})}},{Header:"Statut",accessor:"statut",className:"justify-center",filterable:!0,sortable:!1,Cell:function(e){return l.a.createElement("div",{className:"flex items-center"},3===e.original.statut?l.a.createElement(h.a,{className:t.chip2,label:"Adjug\xe9e"}):C()(e.original.dateExpiration)>=C()()?0===e.original.statut?l.a.createElement(h.a,{className:t.chipOrange,label:"En attente"}):1===e.original.statut?l.a.createElement(h.a,{className:t.chip2,label:"En cours"}):l.a.createElement(h.a,{className:t.chip,label:"Refus\xe9e"}):l.a.createElement(h.a,{className:t.chip,label:"Expir\xe9e"}))},Filter:function(e){var a=e.filter,t=e.onChange;return l.a.createElement("select",{onChange:function(e){return t(e.target.value)},style:{width:"100%"},value:a?a.value:""},l.a.createElement("option",{value:""},"Tous"),l.a.createElement("option",{value:"0"},"En attente"),l.a.createElement("option",{value:"1"},"En cours"),l.a.createElement("option",{value:"2"},"Refus\xe9e"),l.a.createElement("option",{value:"3"},"Adjug\xe9e"),l.a.createElement("option",{value:"4"},"Expir\xe9e"))}}],manual:!0,loading:g.loadingDmd,pages:g.pageCount,defaultPageSize:10,showPageSizeOptions:!1,onPageChange:function(e){g.parametres.page=e+1,a(b.R(g.parametres))},onSortedChange:function(e,t,n){g.parametres.page=1,g.parametres.filter.id=e[0].id,g.parametres.filter.direction=e[0].desc?"desc":"asc",a(b.R(g.parametres))},onFilteredChange:function(e){g.parametres.page=1,g.parametres.search=e,j(g.parametres)},noDataText:"Aucune demande trouv\xe9e",loadingText:"Chargement...",ofText:"sur"}),2===x&&l.a.createElement(I.b,{className:"-striped -highlight h-full sm:rounded-16 overflow-hidden",getTheadProps:function(e,a,t){return{className:"h-64 font-bold"}},data:g.blacklistes,columns:[{Header:"Fournisseur",className:"font-bold justify-center",filterable:!0,accessor:"fournisseur",Cell:function(e){return l.a.createElement(f.a,{title:"D\xe9tails du fournisseur"},l.a.createElement(D.a,{target:"_blank",to:"/users/fournisseur/show/"+e.original.fournisseur.id,onClick:function(e){return e.stopPropagation()}},e.original.fournisseur.societe&&e.original.fournisseur.societe))}},{Header:"Raison",accessor:"raison",filterable:!0,className:"justify-center"},{Header:"Date de Blackliste",className:"justify-center",id:"created",accessor:function(e){return C()(e.created).format("DD/MM/YYYY HH:mm")}},{Header:"Date de D\xe9blackliste",className:"justify-center",id:"deblacklister",accessor:function(e){return e.deblacklister?C()(e.deblacklister).format("DD/MM/YYYY HH:mm"):""}},{className:"justify-center",Header:"Etat",accessor:"etat",Cell:function(e){return e.original.etat?"Blacklist\xe9":"Retir\xe9"}}],defaultPageSize:10,loading:g.loadingBL,noDataText:"Aucun fournisseur blacklist\xe9",ofText:"sur"})),innerScroll:!0})})}}]);